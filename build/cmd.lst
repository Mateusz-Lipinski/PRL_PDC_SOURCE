ARM GAS  C:\Users\Mateusz\AppData\Local\Temp\ccbFMXL0.s 			page 1


   1              		.cpu cortex-m0plus
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 0
  10              		.eabi_attribute 18, 4
  11              		.file	"cmd.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.rodata.cmd.str1.4,"aMS",%progbits,1
  16              		.align	2
  17              	.LC3:
  18 0000 30782530 		.ascii	"0x%06x\012\000"
  18      36780A00 
  19              		.align	2
  20              	.LC5:
  21 0008 41444320 		.ascii	"ADC RESET\012\000"
  21      52455345 
  21      540A00
  22 0013 00       		.align	2
  23              	.LC7:
  24 0014 41444320 		.ascii	"ADC DEBUG:\012\012\000"
  24      44454255 
  24      473A0A0A 
  24      00
  25 0021 000000   		.align	2
  26              	.LC9:
  27 0024 09414443 		.ascii	"\011ADC_STATUS_REG:\011\0110x%02x\012\000"
  27      5F535441 
  27      5455535F 
  27      5245473A 
  27      09093078 
  28 003e 0000     		.align	2
  29              	.LC11:
  30 0040 09414443 		.ascii	"\011ADC_MODE_REG:\011\0110x%04x\012\000"
  30      5F4D4F44 
  30      455F5245 
  30      473A0909 
  30      30782530 
  31              		.align	2
  32              	.LC13:
  33 0058 09414443 		.ascii	"\011ADC_INTERFACE_REG:\0110x%04x\012\000"
  33      5F494E54 
  33      45524641 
  33      43455F52 
  33      45473A09 
  34              		.align	2
  35              	.LC15:
  36 0074 09414443 		.ascii	"\011ADC_CHECK_REG:\011\0110x%06x\012\000"
  36      5F434845 
  36      434B5F52 
  36      45473A09 
ARM GAS  C:\Users\Mateusz\AppData\Local\Temp\ccbFMXL0.s 			page 2


  36      09307825 
  37 008d 000000   		.align	2
  38              	.LC17:
  39 0090 09414443 		.ascii	"\011ADC_DATA_REG:\011\0110x%06x\012\000"
  39      5F444154 
  39      415F5245 
  39      473A0909 
  39      30782530 
  40              		.align	2
  41              	.LC19:
  42 00a8 09414443 		.ascii	"\011ADC_GPIO_REG:\011\0110x%04x\012\000"
  42      5F475049 
  42      4F5F5245 
  42      473A0909 
  42      30782530 
  43              		.align	2
  44              	.LC21:
  45 00c0 09414443 		.ascii	"\011ADC_ID_REG:\011\0110x%04x\012\000"
  45      5F49445F 
  45      5245473A 
  45      09093078 
  45      25303478 
  46 00d6 0000     		.align	2
  47              	.LC23:
  48 00d8 09414443 		.ascii	"\011ADC_CH%i_REG:\011\0110x%04x\012\000"
  48      5F434825 
  48      695F5245 
  48      473A0909 
  48      30782530 
  49              		.align	2
  50              	.LC25:
  51 00f0 09414443 		.ascii	"\011ADC_SETUPCON%i_REG:\0110x%04x\012\000"
  51      5F534554 
  51      5550434F 
  51      4E25695F 
  51      5245473A 
  52 010d 000000   		.align	2
  53              	.LC27:
  54 0110 09414443 		.ascii	"\011ADC_FILTCON%i_REG:\0110x%04x\012\000"
  54      5F46494C 
  54      54434F4E 
  54      25695F52 
  54      45473A09 
  55              		.align	2
  56              	.LC29:
  57 012c 09414443 		.ascii	"\011ADC_OFFSET%i_REG:\0110x%04x\012\000"
  57      5F4F4646 
  57      53455425 
  57      695F5245 
  57      473A0930 
  58 0147 00       		.align	2
  59              	.LC31:
  60 0148 09414443 		.ascii	"\011ADC_GAIN%i_REG:\011\0110x%04x\012\000"
  60      5F474149 
  60      4E25695F 
  60      5245473A 
  60      09093078 
ARM GAS  C:\Users\Mateusz\AppData\Local\Temp\ccbFMXL0.s 			page 3


  61              		.global	__aeabi_lmul
  62              		.global	__aeabi_uldivmod
  63 0162 0000     		.align	2
  64              	.LC33:
  65 0164 5B25695D 		.ascii	"[%i]\011\000"
  65      0900
  66 016a 0000     		.align	2
  67              	.LC35:
  68 016c 25313069 		.ascii	"%10i uV\011\011\000"
  68      20755609 
  68      0900
  69              		.global	__aeabi_idiv
  70 0176 0000     		.align	2
  71              	.LC37:
  72 0178 25692E00 		.ascii	"%i.\000"
  73              		.global	__aeabi_idivmod
  74              		.align	2
  75              	.LC39:
  76 017c 25303375 		.ascii	"%03u *C\012\000"
  76      202A430A 
  76      00
  77 0185 000000   		.align	2
  78              	.LC41:
  79 0188 756E6465 		.ascii	"undefined\012\000"
  79      66696E65 
  79      640A00
  80              		.section	.text.cmd,"ax",%progbits
  81              		.align	1
  82              		.global	cmd
  83              		.arch armv6s-m
  84              		.syntax unified
  85              		.code	16
  86              		.thumb_func
  87              		.fpu softvfp
  89              	cmd:
  90              	.LFB284:
  91              		.file 1 "Src/cmd.c"
   1:Src/cmd.c     **** #include "usart.h"
   2:Src/cmd.c     **** #include <stdio.h>
   3:Src/cmd.c     **** #include "state.h"
   4:Src/cmd.c     **** #include "usart_utils.h"
   5:Src/cmd.c     **** #include "ADC.h"
   6:Src/cmd.c     **** #include "DAC.h"
   7:Src/cmd.c     **** extern state State;
   8:Src/cmd.c     **** 
   9:Src/cmd.c     **** uint8_t cmd()
  10:Src/cmd.c     **** {
  92              		.loc 1 10 1 view -0
  93              		.cfi_startproc
  94              		@ args = 0, pretend = 0, frame = 104
  95              		@ frame_needed = 0, uses_anonymous_args = 0
  96 0000 F0B5     		push	{r4, r5, r6, r7, lr}
  97              	.LCFI0:
  98              		.cfi_def_cfa_offset 20
  99              		.cfi_offset 4, -20
 100              		.cfi_offset 5, -16
 101              		.cfi_offset 6, -12
ARM GAS  C:\Users\Mateusz\AppData\Local\Temp\ccbFMXL0.s 			page 4


 102              		.cfi_offset 7, -8
 103              		.cfi_offset 14, -4
 104 0002 D646     		mov	lr, r10
 105 0004 4F46     		mov	r7, r9
 106 0006 4646     		mov	r6, r8
 107 0008 C0B5     		push	{r6, r7, lr}
 108              	.LCFI1:
 109              		.cfi_def_cfa_offset 32
 110              		.cfi_offset 8, -32
 111              		.cfi_offset 9, -28
 112              		.cfi_offset 10, -24
 113 000a 9AB0     		sub	sp, sp, #104
 114              	.LCFI2:
 115              		.cfi_def_cfa_offset 136
  11:Src/cmd.c     ****     if (State.cmd)
 116              		.loc 1 11 5 view .LVU1
 117              		.loc 1 11 14 is_stmt 0 view .LVU2
 118 000c E54A     		ldr	r2, .L31
 119 000e 4D23     		movs	r3, #77
 120 0010 D35C     		ldrb	r3, [r2, r3]
 121              		.loc 1 11 8 view .LVU3
 122 0012 002B     		cmp	r3, #0
 123 0014 0CD1     		bne	.L29
 124              	.L2:
  12:Src/cmd.c     ****     {
  13:Src/cmd.c     ****         HAL_GPIO_TogglePin(LED_PHASE_GPIO_Port, LED_PHASE_Pin);
  14:Src/cmd.c     ****         HAL_Delay(100);
  15:Src/cmd.c     ****         HAL_GPIO_TogglePin(LED_PHASE_GPIO_Port, LED_PHASE_Pin);
  16:Src/cmd.c     ****     }
  17:Src/cmd.c     ****     switch (State.cmd)
 125              		.loc 1 17 5 is_stmt 1 view .LVU4
 126              		.loc 1 17 18 is_stmt 0 view .LVU5
 127 0016 E34A     		ldr	r2, .L31
 128 0018 4D23     		movs	r3, #77
 129 001a D35C     		ldrb	r3, [r2, r3]
 130              		.loc 1 17 5 view .LVU6
 131 001c 082B     		cmp	r3, #8
 132 001e 15D8     		bhi	.L3
 133 0020 002B     		cmp	r3, #0
 134 0022 64D0     		beq	.L4
 135 0024 082B     		cmp	r3, #8
 136 0026 62D8     		bhi	.L4
 137 0028 9B00     		lsls	r3, r3, #2
 138 002a DF4A     		ldr	r2, .L31+4
 139 002c D358     		ldr	r3, [r2, r3]
 140 002e 9F46     		mov	pc, r3
 141              		.section	.rodata.cmd,"a",%progbits
 142              		.align	2
 143              	.L6:
 144 0000 EE000000 		.word	.L4
 145 0004 82000000 		.word	.L13
 146 0008 BE000000 		.word	.L12
 147 000c 34010000 		.word	.L11
 148 0010 6C010000 		.word	.L10
 149 0014 FA000000 		.word	.L9
 150 0018 76040000 		.word	.L28
 151 001c 22050000 		.word	.L7
ARM GAS  C:\Users\Mateusz\AppData\Local\Temp\ccbFMXL0.s 			page 5


 152 0020 8C050000 		.word	.L5
 153              		.section	.text.cmd
 154              	.L29:
  13:Src/cmd.c     ****         HAL_Delay(100);
 155              		.loc 1 13 9 is_stmt 1 view .LVU7
 156 0030 A024     		movs	r4, #160
 157 0032 E405     		lsls	r4, r4, #23
 158 0034 0121     		movs	r1, #1
 159 0036 2000     		movs	r0, r4
 160 0038 FFF7FEFF 		bl	HAL_GPIO_TogglePin
 161              	.LVL0:
  14:Src/cmd.c     ****         HAL_GPIO_TogglePin(LED_PHASE_GPIO_Port, LED_PHASE_Pin);
 162              		.loc 1 14 9 view .LVU8
 163 003c 6420     		movs	r0, #100
 164 003e FFF7FEFF 		bl	HAL_Delay
 165              	.LVL1:
  15:Src/cmd.c     ****     }
 166              		.loc 1 15 9 view .LVU9
 167 0042 0121     		movs	r1, #1
 168 0044 2000     		movs	r0, r4
 169 0046 FFF7FEFF 		bl	HAL_GPIO_TogglePin
 170              	.LVL2:
 171 004a E4E7     		b	.L2
 172              	.L3:
 173              		.loc 1 17 5 is_stmt 0 view .LVU10
 174 004c FF2B     		cmp	r3, #255
 175 004e 4ED1     		bne	.L4
  18:Src/cmd.c     ****     {
  19:Src/cmd.c     ****     case cmd_blink:
  20:Src/cmd.c     ****     {
  21:Src/cmd.c     ****         State.cmd = 0;
  22:Src/cmd.c     ****         SERIAL_WRITE("ok\n");
  23:Src/cmd.c     ****         for (int i = 0; i < 10; i++)
  24:Src/cmd.c     ****         {
  25:Src/cmd.c     ****             HAL_GPIO_TogglePin(LED_PHASE_GPIO_Port, LED_PHASE_Pin);
  26:Src/cmd.c     ****             HAL_Delay(100);
  27:Src/cmd.c     ****         }
  28:Src/cmd.c     ****         break;
  29:Src/cmd.c     ****     }
  30:Src/cmd.c     ****     case cmd_adc_id:
  31:Src/cmd.c     ****     {
  32:Src/cmd.c     ****         SERIAL_WRITE("0x%06x\n", ADC_ID());
  33:Src/cmd.c     ****         State.cmd = 0;
  34:Src/cmd.c     ****         break;
  35:Src/cmd.c     ****     }
  36:Src/cmd.c     ****     case cmd_adc_data:
  37:Src/cmd.c     ****     {
  38:Src/cmd.c     ****         ADC_CMD(ADC_READ, ADC_DATA_REG);
  39:Src/cmd.c     ****         SERIAL_WRITE("0x%06x\n", ADC_SPI_READ_24());
  40:Src/cmd.c     ****         State.cmd = 0;
  41:Src/cmd.c     ****         break;
  42:Src/cmd.c     ****     }
  43:Src/cmd.c     ****     case cmd_adc_reset:
  44:Src/cmd.c     ****     {
  45:Src/cmd.c     ****         SERIAL_WRITE("ADC RESET\n");
  46:Src/cmd.c     ****         ADC_reset();
  47:Src/cmd.c     ****         State.cmd = 0;
ARM GAS  C:\Users\Mateusz\AppData\Local\Temp\ccbFMXL0.s 			page 6


  48:Src/cmd.c     ****         break;
  49:Src/cmd.c     ****     }
  50:Src/cmd.c     ****     case cmd_adc_debug:
  51:Src/cmd.c     ****     {
  52:Src/cmd.c     ****         SERIAL_WRITE("ADC DEBUG:\n\n");
  53:Src/cmd.c     ****         ADC_CMD(ADC_READ, ADC_STATUS_REG);
  54:Src/cmd.c     ****         SERIAL_WRITE("\tADC_STATUS_REG:\t\t0x%02x\n", ADC_SPI_READ_8());
  55:Src/cmd.c     ****         ADC_CMD(ADC_READ, ADC_MODE_REG);
  56:Src/cmd.c     ****         SERIAL_WRITE("\tADC_MODE_REG:\t\t0x%04x\n", ADC_SPI_READ_16());
  57:Src/cmd.c     ****         ADC_CMD(ADC_READ, ADC_INTERFACE_REG);
  58:Src/cmd.c     ****         SERIAL_WRITE("\tADC_INTERFACE_REG:\t0x%04x\n", ADC_SPI_READ_16());
  59:Src/cmd.c     ****         ADC_CMD(ADC_READ, ADC_CHECK_REG);
  60:Src/cmd.c     ****         SERIAL_WRITE("\tADC_CHECK_REG:\t\t0x%06x\n", ADC_SPI_READ_24());
  61:Src/cmd.c     ****         ADC_CMD(ADC_READ, ADC_DATA_REG);
  62:Src/cmd.c     ****         SERIAL_WRITE("\tADC_DATA_REG:\t\t0x%06x\n", ADC_SPI_READ_24());
  63:Src/cmd.c     ****         ADC_CMD(ADC_READ, ADC_GPIO_REG);
  64:Src/cmd.c     ****         SERIAL_WRITE("\tADC_GPIO_REG:\t\t0x%04x\n", ADC_SPI_READ_16());
  65:Src/cmd.c     ****         ADC_CMD(ADC_READ, ADC_ID_REG);
  66:Src/cmd.c     ****         SERIAL_WRITE("\tADC_ID_REG:\t\t0x%04x\n", ADC_SPI_READ_16());
  67:Src/cmd.c     ****         for (int i = 0; i < 15; i++)
  68:Src/cmd.c     ****         {
  69:Src/cmd.c     ****             ADC_CMD(ADC_READ, ADC_CHx_REG(i));
  70:Src/cmd.c     ****             SERIAL_WRITE("\tADC_CH%i_REG:\t\t0x%04x\n", i, ADC_SPI_READ_16());
  71:Src/cmd.c     ****         }
  72:Src/cmd.c     ****         for (int i = 0; i < 7; i++)
  73:Src/cmd.c     ****         {
  74:Src/cmd.c     ****             ADC_CMD(ADC_READ, ADC_SETUPCONx_REG(i));
  75:Src/cmd.c     ****             SERIAL_WRITE("\tADC_SETUPCON%i_REG:\t0x%04x\n", i, ADC_SPI_READ_16());
  76:Src/cmd.c     ****         }
  77:Src/cmd.c     ****         for (int i = 0; i < 7; i++)
  78:Src/cmd.c     ****         {
  79:Src/cmd.c     ****             ADC_CMD(ADC_READ, ADC_FILTCONx_REG(i));
  80:Src/cmd.c     ****             SERIAL_WRITE("\tADC_FILTCON%i_REG:\t0x%04x\n", i, ADC_SPI_READ_16());
  81:Src/cmd.c     ****         }
  82:Src/cmd.c     ****         for (int i = 0; i < 7; i++)
  83:Src/cmd.c     ****         {
  84:Src/cmd.c     ****             ADC_CMD(ADC_READ, ADC_OFFSETx_REG(i));
  85:Src/cmd.c     ****             SERIAL_WRITE("\tADC_OFFSET%i_REG:\t0x%04x\n", i, ADC_SPI_READ_24());
  86:Src/cmd.c     ****         }
  87:Src/cmd.c     ****         for (int i = 0; i < 7; i++)
  88:Src/cmd.c     ****         {
  89:Src/cmd.c     ****             ADC_CMD(ADC_READ, ADC_GAINx_REG(i));
  90:Src/cmd.c     ****             SERIAL_WRITE("\tADC_GAIN%i_REG:\t\t0x%04x\n", i, ADC_SPI_READ_24());
  91:Src/cmd.c     ****         }
  92:Src/cmd.c     ****         State.cmd = 0;
  93:Src/cmd.c     ****         break;
  94:Src/cmd.c     ****     }
  95:Src/cmd.c     ****     case cmd_adc_values:
  96:Src/cmd.c     ****     {
  97:Src/cmd.c     ****         for (int i = 0; i < 16; i++)
  98:Src/cmd.c     ****         {
  99:Src/cmd.c     ****             uint64_t voltage_uV = (((uint64_t)State.ADC_Values[i] * 1800000) / 0xffffff);
 100:Src/cmd.c     ****             SERIAL_WRITE("[%i]\t", i);
 101:Src/cmd.c     ****             SERIAL_WRITE("%10i uV\t\t", voltage_uV);
 102:Src/cmd.c     ****             SERIAL_WRITE("0x%06x\n", State.ADC_Values[i]);
 103:Src/cmd.c     ****         }
 104:Src/cmd.c     ****         State.cmd = 0;
ARM GAS  C:\Users\Mateusz\AppData\Local\Temp\ccbFMXL0.s 			page 7


 105:Src/cmd.c     ****         break;
 106:Src/cmd.c     ****     }
 107:Src/cmd.c     ****     case cmd_temperature:
 108:Src/cmd.c     ****     {
 109:Src/cmd.c     ****         SERIAL_WRITE("%i.", State.temperature / 1000000);             //-66.875 to +52.443 C
 110:Src/cmd.c     ****         SERIAL_WRITE("%03u *C\n", (State.temperature / 1000) % 1000); //-66.875 to +52.443 C
 111:Src/cmd.c     ****         State.cmd = 0;
 112:Src/cmd.c     ****         break;
 113:Src/cmd.c     ****     }
 114:Src/cmd.c     ****     case cmd_dac_test:
 115:Src/cmd.c     ****     {
 116:Src/cmd.c     ****         SERIAL_WRITE("\n");
 117:Src/cmd.c     ****         DAC_test();
 118:Src/cmd.c     ****         State.cmd = 0;
 119:Src/cmd.c     ****         break;
 120:Src/cmd.c     ****     }
 121:Src/cmd.c     ****     case cmd_undefined:
 122:Src/cmd.c     ****     {
 123:Src/cmd.c     ****         State.cmd = 0;
 176              		.loc 1 123 9 is_stmt 1 view .LVU11
 177              		.loc 1 123 19 is_stmt 0 view .LVU12
 178 0050 D44A     		ldr	r2, .L31
 179 0052 4D23     		movs	r3, #77
 180 0054 0021     		movs	r1, #0
 181 0056 D154     		strb	r1, [r2, r3]
 182              	.LBB2:
 124:Src/cmd.c     ****         SERIAL_WRITE("undefined\n");
 183              		.loc 1 124 9 is_stmt 1 view .LVU13
 184 0058 01AC     		add	r4, sp, #4
 185 005a 6022     		movs	r2, #96
 186 005c 02A8     		add	r0, sp, #8
 187 005e FFF7FEFF 		bl	memset
 188              	.LVL3:
 189              		.loc 1 124 9 view .LVU14
 190 0062 D24B     		ldr	r3, .L31+8
 191 0064 2200     		movs	r2, r4
 192 0066 03CB     		ldmia	r3!, {r0, r1}
 193 0068 03C2     		stmia	r2!, {r0, r1}
 194 006a 1988     		ldrh	r1, [r3]
 195 006c 1180     		strh	r1, [r2]
 196 006e 9B78     		ldrb	r3, [r3, #2]
 197 0070 9370     		strb	r3, [r2, #2]
 198              	.LVL4:
 199              		.loc 1 124 9 view .LVU15
 200 0072 FA23     		movs	r3, #250
 201 0074 9B00     		lsls	r3, r3, #2
 202 0076 0A22     		movs	r2, #10
 203 0078 2100     		movs	r1, r4
 204 007a CD48     		ldr	r0, .L31+12
 205 007c FFF7FEFF 		bl	HAL_UART_Transmit
 206              	.LVL5:
 207              	.LBE2:
 208              		.loc 1 124 36 view .LVU16
 125:Src/cmd.c     ****         break;
 209              		.loc 1 125 9 view .LVU17
 210 0080 35E0     		b	.L4
 211              	.LVL6:
ARM GAS  C:\Users\Mateusz\AppData\Local\Temp\ccbFMXL0.s 			page 8


 212              	.L13:
  21:Src/cmd.c     ****         SERIAL_WRITE("ok\n");
 213              		.loc 1 21 9 view .LVU18
  21:Src/cmd.c     ****         SERIAL_WRITE("ok\n");
 214              		.loc 1 21 19 is_stmt 0 view .LVU19
 215 0082 C84A     		ldr	r2, .L31
 216 0084 4D23     		movs	r3, #77
 217 0086 0021     		movs	r1, #0
 218 0088 D154     		strb	r1, [r2, r3]
 219              	.LBB3:
  22:Src/cmd.c     ****         for (int i = 0; i < 10; i++)
 220              		.loc 1 22 9 is_stmt 1 view .LVU20
 221 008a 6022     		movs	r2, #96
 222 008c 02A8     		add	r0, sp, #8
 223 008e FFF7FEFF 		bl	memset
 224              	.LVL7:
  22:Src/cmd.c     ****         for (int i = 0; i < 10; i++)
 225              		.loc 1 22 9 view .LVU21
 226 0092 C84B     		ldr	r3, .L31+16
 227 0094 0193     		str	r3, [sp, #4]
 228              	.LVL8:
  22:Src/cmd.c     ****         for (int i = 0; i < 10; i++)
 229              		.loc 1 22 9 view .LVU22
 230 0096 FA23     		movs	r3, #250
 231 0098 9B00     		lsls	r3, r3, #2
 232 009a 0322     		movs	r2, #3
 233 009c 01A9     		add	r1, sp, #4
 234 009e C448     		ldr	r0, .L31+12
 235 00a0 FFF7FEFF 		bl	HAL_UART_Transmit
 236              	.LVL9:
 237              	.LBE3:
  22:Src/cmd.c     ****         for (int i = 0; i < 10; i++)
 238              		.loc 1 22 29 view .LVU23
  23:Src/cmd.c     ****         {
 239              		.loc 1 23 9 view .LVU24
 240              	.LBB4:
  23:Src/cmd.c     ****         {
 241              		.loc 1 23 14 view .LVU25
  23:Src/cmd.c     ****         {
 242              		.loc 1 23 18 is_stmt 0 view .LVU26
 243 00a4 0024     		movs	r4, #0
 244              	.LVL10:
 245              	.L15:
  23:Src/cmd.c     ****         {
 246              		.loc 1 23 25 is_stmt 1 discriminator 1 view .LVU27
  23:Src/cmd.c     ****         {
 247              		.loc 1 23 9 is_stmt 0 discriminator 1 view .LVU28
 248 00a6 092C     		cmp	r4, #9
 249 00a8 21DC     		bgt	.L4
  25:Src/cmd.c     ****             HAL_Delay(100);
 250              		.loc 1 25 13 is_stmt 1 discriminator 3 view .LVU29
 251 00aa A020     		movs	r0, #160
 252 00ac 0121     		movs	r1, #1
 253 00ae C005     		lsls	r0, r0, #23
 254 00b0 FFF7FEFF 		bl	HAL_GPIO_TogglePin
 255              	.LVL11:
  26:Src/cmd.c     ****         }
ARM GAS  C:\Users\Mateusz\AppData\Local\Temp\ccbFMXL0.s 			page 9


 256              		.loc 1 26 13 discriminator 3 view .LVU30
 257 00b4 6420     		movs	r0, #100
 258 00b6 FFF7FEFF 		bl	HAL_Delay
 259              	.LVL12:
  23:Src/cmd.c     ****         {
 260              		.loc 1 23 33 discriminator 3 view .LVU31
  23:Src/cmd.c     ****         {
 261              		.loc 1 23 34 is_stmt 0 discriminator 3 view .LVU32
 262 00ba 0134     		adds	r4, r4, #1
 263              	.LVL13:
  23:Src/cmd.c     ****         {
 264              		.loc 1 23 34 discriminator 3 view .LVU33
 265 00bc F3E7     		b	.L15
 266              	.LVL14:
 267              	.L12:
  23:Src/cmd.c     ****         {
 268              		.loc 1 23 34 discriminator 3 view .LVU34
 269              	.LBE4:
 270              	.LBB5:
  32:Src/cmd.c     ****         State.cmd = 0;
 271              		.loc 1 32 9 is_stmt 1 view .LVU35
 272 00be 0024     		movs	r4, #0
 273 00c0 0194     		str	r4, [sp, #4]
 274 00c2 6022     		movs	r2, #96
 275 00c4 0021     		movs	r1, #0
 276 00c6 02A8     		add	r0, sp, #8
 277 00c8 FFF7FEFF 		bl	memset
 278              	.LVL15:
  32:Src/cmd.c     ****         State.cmd = 0;
 279              		.loc 1 32 9 view .LVU36
 280 00cc FFF7FEFF 		bl	ADC_ID
 281              	.LVL16:
 282 00d0 0200     		movs	r2, r0
 283 00d2 B949     		ldr	r1, .L31+20
 284 00d4 01A8     		add	r0, sp, #4
 285 00d6 FFF7FEFF 		bl	sprintf
 286              	.LVL17:
  32:Src/cmd.c     ****         State.cmd = 0;
 287              		.loc 1 32 9 view .LVU37
 288 00da FA23     		movs	r3, #250
 289 00dc 9B00     		lsls	r3, r3, #2
 290 00de 0922     		movs	r2, #9
 291 00e0 01A9     		add	r1, sp, #4
 292 00e2 B348     		ldr	r0, .L31+12
 293 00e4 FFF7FEFF 		bl	HAL_UART_Transmit
 294              	.LVL18:
 295              	.LBE5:
  32:Src/cmd.c     ****         State.cmd = 0;
 296              		.loc 1 32 43 view .LVU38
  33:Src/cmd.c     ****         break;
 297              		.loc 1 33 9 view .LVU39
  33:Src/cmd.c     ****         break;
 298              		.loc 1 33 19 is_stmt 0 view .LVU40
 299 00e8 AE4A     		ldr	r2, .L31
 300 00ea 4D23     		movs	r3, #77
 301 00ec D454     		strb	r4, [r2, r3]
  34:Src/cmd.c     ****     }
ARM GAS  C:\Users\Mateusz\AppData\Local\Temp\ccbFMXL0.s 			page 10


 302              		.loc 1 34 9 is_stmt 1 view .LVU41
 303              	.LVL19:
 304              	.L4:
 126:Src/cmd.c     ****     }
 127:Src/cmd.c     ****     default:
 128:Src/cmd.c     ****     {
 129:Src/cmd.c     ****         break;
 130:Src/cmd.c     ****     }
 131:Src/cmd.c     ****     }
 132:Src/cmd.c     **** }
 305              		.loc 1 132 1 is_stmt 0 view .LVU42
 306 00ee 1AB0     		add	sp, sp, #104
 307              		@ sp needed
 308 00f0 1CBC     		pop	{r2, r3, r4}
 309 00f2 9046     		mov	r8, r2
 310 00f4 9946     		mov	r9, r3
 311 00f6 A246     		mov	r10, r4
 312 00f8 F0BD     		pop	{r4, r5, r6, r7, pc}
 313              	.L9:
  38:Src/cmd.c     ****         SERIAL_WRITE("0x%06x\n", ADC_SPI_READ_24());
 314              		.loc 1 38 9 is_stmt 1 view .LVU43
 315 00fa 0421     		movs	r1, #4
 316 00fc 4020     		movs	r0, #64
 317 00fe FFF7FEFF 		bl	ADC_CMD
 318              	.LVL20:
 319              	.LBB6:
  39:Src/cmd.c     ****         State.cmd = 0;
 320              		.loc 1 39 9 view .LVU44
 321 0102 0024     		movs	r4, #0
 322 0104 0194     		str	r4, [sp, #4]
 323 0106 6022     		movs	r2, #96
 324 0108 0021     		movs	r1, #0
 325 010a 02A8     		add	r0, sp, #8
 326 010c FFF7FEFF 		bl	memset
 327              	.LVL21:
  39:Src/cmd.c     ****         State.cmd = 0;
 328              		.loc 1 39 9 view .LVU45
 329 0110 FFF7FEFF 		bl	ADC_SPI_READ_24
 330              	.LVL22:
 331 0114 0200     		movs	r2, r0
 332 0116 A849     		ldr	r1, .L31+20
 333 0118 01A8     		add	r0, sp, #4
 334 011a FFF7FEFF 		bl	sprintf
 335              	.LVL23:
  39:Src/cmd.c     ****         State.cmd = 0;
 336              		.loc 1 39 9 view .LVU46
 337 011e FA23     		movs	r3, #250
 338 0120 82B2     		uxth	r2, r0
 339 0122 9B00     		lsls	r3, r3, #2
 340 0124 01A9     		add	r1, sp, #4
 341 0126 A248     		ldr	r0, .L31+12
 342              	.LVL24:
  39:Src/cmd.c     ****         State.cmd = 0;
 343              		.loc 1 39 9 is_stmt 0 view .LVU47
 344 0128 FFF7FEFF 		bl	HAL_UART_Transmit
 345              	.LVL25:
 346              	.LBE6:
ARM GAS  C:\Users\Mateusz\AppData\Local\Temp\ccbFMXL0.s 			page 11


  39:Src/cmd.c     ****         State.cmd = 0;
 347              		.loc 1 39 52 is_stmt 1 view .LVU48
  40:Src/cmd.c     ****         break;
 348              		.loc 1 40 9 view .LVU49
  40:Src/cmd.c     ****         break;
 349              		.loc 1 40 19 is_stmt 0 view .LVU50
 350 012c 9D4A     		ldr	r2, .L31
 351 012e 4D23     		movs	r3, #77
 352 0130 D454     		strb	r4, [r2, r3]
  41:Src/cmd.c     ****     }
 353              		.loc 1 41 9 is_stmt 1 view .LVU51
 354 0132 DCE7     		b	.L4
 355              	.L11:
 356              	.LBB7:
  45:Src/cmd.c     ****         ADC_reset();
 357              		.loc 1 45 9 view .LVU52
 358 0134 01AC     		add	r4, sp, #4
 359 0136 6022     		movs	r2, #96
 360 0138 0021     		movs	r1, #0
 361 013a 02A8     		add	r0, sp, #8
 362 013c FFF7FEFF 		bl	memset
 363              	.LVL26:
  45:Src/cmd.c     ****         ADC_reset();
 364              		.loc 1 45 9 view .LVU53
 365 0140 9E4B     		ldr	r3, .L31+24
 366 0142 2200     		movs	r2, r4
 367 0144 03CB     		ldmia	r3!, {r0, r1}
 368 0146 03C2     		stmia	r2!, {r0, r1}
 369 0148 1988     		ldrh	r1, [r3]
 370 014a 1180     		strh	r1, [r2]
 371 014c 9B78     		ldrb	r3, [r3, #2]
 372 014e 9370     		strb	r3, [r2, #2]
 373              	.LVL27:
  45:Src/cmd.c     ****         ADC_reset();
 374              		.loc 1 45 9 view .LVU54
 375 0150 FA23     		movs	r3, #250
 376 0152 9B00     		lsls	r3, r3, #2
 377 0154 0A22     		movs	r2, #10
 378 0156 2100     		movs	r1, r4
 379 0158 9548     		ldr	r0, .L31+12
 380 015a FFF7FEFF 		bl	HAL_UART_Transmit
 381              	.LVL28:
 382              	.LBE7:
  45:Src/cmd.c     ****         ADC_reset();
 383              		.loc 1 45 36 view .LVU55
  46:Src/cmd.c     ****         State.cmd = 0;
 384              		.loc 1 46 9 view .LVU56
 385 015e FFF7FEFF 		bl	ADC_reset
 386              	.LVL29:
  47:Src/cmd.c     ****         break;
 387              		.loc 1 47 9 view .LVU57
  47:Src/cmd.c     ****         break;
 388              		.loc 1 47 19 is_stmt 0 view .LVU58
 389 0162 0021     		movs	r1, #0
 390 0164 8F4A     		ldr	r2, .L31
 391 0166 4D23     		movs	r3, #77
 392 0168 D154     		strb	r1, [r2, r3]
ARM GAS  C:\Users\Mateusz\AppData\Local\Temp\ccbFMXL0.s 			page 12


  48:Src/cmd.c     ****     }
 393              		.loc 1 48 9 is_stmt 1 view .LVU59
 394 016a C0E7     		b	.L4
 395              	.LVL30:
 396              	.L10:
 397              	.LBB8:
  52:Src/cmd.c     ****         ADC_CMD(ADC_READ, ADC_STATUS_REG);
 398              		.loc 1 52 9 view .LVU60
 399 016c 01AC     		add	r4, sp, #4
 400 016e 0027     		movs	r7, #0
 401 0170 6022     		movs	r2, #96
 402 0172 0021     		movs	r1, #0
 403 0174 02A8     		add	r0, sp, #8
 404 0176 FFF7FEFF 		bl	memset
 405              	.LVL31:
  52:Src/cmd.c     ****         ADC_CMD(ADC_READ, ADC_STATUS_REG);
 406              		.loc 1 52 9 view .LVU61
 407 017a 914B     		ldr	r3, .L31+28
 408 017c 2200     		movs	r2, r4
 409 017e 23CB     		ldmia	r3!, {r0, r1, r5}
 410 0180 23C2     		stmia	r2!, {r0, r1, r5}
 411 0182 1B78     		ldrb	r3, [r3]
 412 0184 1370     		strb	r3, [r2]
 413              	.LVL32:
  52:Src/cmd.c     ****         ADC_CMD(ADC_READ, ADC_STATUS_REG);
 414              		.loc 1 52 9 view .LVU62
 415 0186 FA26     		movs	r6, #250
 416 0188 B600     		lsls	r6, r6, #2
 417 018a 894D     		ldr	r5, .L31+12
 418 018c 3300     		movs	r3, r6
 419 018e 0C22     		movs	r2, #12
 420 0190 2100     		movs	r1, r4
 421 0192 2800     		movs	r0, r5
 422 0194 FFF7FEFF 		bl	HAL_UART_Transmit
 423              	.LVL33:
 424              	.LBE8:
  52:Src/cmd.c     ****         ADC_CMD(ADC_READ, ADC_STATUS_REG);
 425              		.loc 1 52 39 view .LVU63
  53:Src/cmd.c     ****         SERIAL_WRITE("\tADC_STATUS_REG:\t\t0x%02x\n", ADC_SPI_READ_8());
 426              		.loc 1 53 9 view .LVU64
 427 0198 0021     		movs	r1, #0
 428 019a 4020     		movs	r0, #64
 429 019c FFF7FEFF 		bl	ADC_CMD
 430              	.LVL34:
 431              	.LBB9:
  54:Src/cmd.c     ****         ADC_CMD(ADC_READ, ADC_MODE_REG);
 432              		.loc 1 54 9 view .LVU65
 433 01a0 0197     		str	r7, [sp, #4]
 434 01a2 6022     		movs	r2, #96
 435 01a4 0021     		movs	r1, #0
 436 01a6 02A8     		add	r0, sp, #8
 437 01a8 FFF7FEFF 		bl	memset
 438              	.LVL35:
  54:Src/cmd.c     ****         ADC_CMD(ADC_READ, ADC_MODE_REG);
 439              		.loc 1 54 9 view .LVU66
 440 01ac FFF7FEFF 		bl	ADC_SPI_READ_8
 441              	.LVL36:
ARM GAS  C:\Users\Mateusz\AppData\Local\Temp\ccbFMXL0.s 			page 13


 442 01b0 0200     		movs	r2, r0
 443 01b2 8449     		ldr	r1, .L31+32
 444 01b4 2000     		movs	r0, r4
 445 01b6 FFF7FEFF 		bl	sprintf
 446              	.LVL37:
  54:Src/cmd.c     ****         ADC_CMD(ADC_READ, ADC_MODE_REG);
 447              		.loc 1 54 9 view .LVU67
 448 01ba 3300     		movs	r3, r6
 449 01bc 1722     		movs	r2, #23
 450 01be 2100     		movs	r1, r4
 451 01c0 2800     		movs	r0, r5
 452 01c2 FFF7FEFF 		bl	HAL_UART_Transmit
 453              	.LVL38:
 454              	.LBE9:
  54:Src/cmd.c     ****         ADC_CMD(ADC_READ, ADC_MODE_REG);
 455              		.loc 1 54 72 view .LVU68
  55:Src/cmd.c     ****         SERIAL_WRITE("\tADC_MODE_REG:\t\t0x%04x\n", ADC_SPI_READ_16());
 456              		.loc 1 55 9 view .LVU69
 457 01c6 0121     		movs	r1, #1
 458 01c8 4020     		movs	r0, #64
 459 01ca FFF7FEFF 		bl	ADC_CMD
 460              	.LVL39:
 461              	.LBB10:
  56:Src/cmd.c     ****         ADC_CMD(ADC_READ, ADC_INTERFACE_REG);
 462              		.loc 1 56 9 view .LVU70
 463 01ce 0197     		str	r7, [sp, #4]
 464 01d0 6022     		movs	r2, #96
 465 01d2 0021     		movs	r1, #0
 466 01d4 02A8     		add	r0, sp, #8
 467 01d6 FFF7FEFF 		bl	memset
 468              	.LVL40:
  56:Src/cmd.c     ****         ADC_CMD(ADC_READ, ADC_INTERFACE_REG);
 469              		.loc 1 56 9 view .LVU71
 470 01da FFF7FEFF 		bl	ADC_SPI_READ_16
 471              	.LVL41:
 472 01de 0200     		movs	r2, r0
 473 01e0 7949     		ldr	r1, .L31+36
 474 01e2 2000     		movs	r0, r4
 475 01e4 FFF7FEFF 		bl	sprintf
 476              	.LVL42:
  56:Src/cmd.c     ****         ADC_CMD(ADC_READ, ADC_INTERFACE_REG);
 477              		.loc 1 56 9 view .LVU72
 478 01e8 3300     		movs	r3, r6
 479 01ea 1722     		movs	r2, #23
 480 01ec 2100     		movs	r1, r4
 481 01ee 2800     		movs	r0, r5
 482 01f0 FFF7FEFF 		bl	HAL_UART_Transmit
 483              	.LVL43:
 484              	.LBE10:
  56:Src/cmd.c     ****         ADC_CMD(ADC_READ, ADC_INTERFACE_REG);
 485              		.loc 1 56 71 view .LVU73
  57:Src/cmd.c     ****         SERIAL_WRITE("\tADC_INTERFACE_REG:\t0x%04x\n", ADC_SPI_READ_16());
 486              		.loc 1 57 9 view .LVU74
 487 01f4 0221     		movs	r1, #2
 488 01f6 4020     		movs	r0, #64
 489 01f8 FFF7FEFF 		bl	ADC_CMD
 490              	.LVL44:
ARM GAS  C:\Users\Mateusz\AppData\Local\Temp\ccbFMXL0.s 			page 14


 491              	.LBB11:
  58:Src/cmd.c     ****         ADC_CMD(ADC_READ, ADC_CHECK_REG);
 492              		.loc 1 58 9 view .LVU75
 493 01fc 0197     		str	r7, [sp, #4]
 494 01fe 6022     		movs	r2, #96
 495 0200 0021     		movs	r1, #0
 496 0202 02A8     		add	r0, sp, #8
 497 0204 FFF7FEFF 		bl	memset
 498              	.LVL45:
  58:Src/cmd.c     ****         ADC_CMD(ADC_READ, ADC_CHECK_REG);
 499              		.loc 1 58 9 view .LVU76
 500 0208 FFF7FEFF 		bl	ADC_SPI_READ_16
 501              	.LVL46:
 502 020c 0200     		movs	r2, r0
 503 020e 6F49     		ldr	r1, .L31+40
 504 0210 2000     		movs	r0, r4
 505 0212 FFF7FEFF 		bl	sprintf
 506              	.LVL47:
  58:Src/cmd.c     ****         ADC_CMD(ADC_READ, ADC_CHECK_REG);
 507              		.loc 1 58 9 view .LVU77
 508 0216 3300     		movs	r3, r6
 509 0218 1B22     		movs	r2, #27
 510 021a 2100     		movs	r1, r4
 511 021c 2800     		movs	r0, r5
 512 021e FFF7FEFF 		bl	HAL_UART_Transmit
 513              	.LVL48:
 514              	.LBE11:
  58:Src/cmd.c     ****         ADC_CMD(ADC_READ, ADC_CHECK_REG);
 515              		.loc 1 58 74 view .LVU78
  59:Src/cmd.c     ****         SERIAL_WRITE("\tADC_CHECK_REG:\t\t0x%06x\n", ADC_SPI_READ_24());
 516              		.loc 1 59 9 view .LVU79
 517 0222 0321     		movs	r1, #3
 518 0224 4020     		movs	r0, #64
 519 0226 FFF7FEFF 		bl	ADC_CMD
 520              	.LVL49:
 521              	.LBB12:
  60:Src/cmd.c     ****         ADC_CMD(ADC_READ, ADC_DATA_REG);
 522              		.loc 1 60 9 view .LVU80
 523 022a 0197     		str	r7, [sp, #4]
 524 022c 6022     		movs	r2, #96
 525 022e 0021     		movs	r1, #0
 526 0230 02A8     		add	r0, sp, #8
 527 0232 FFF7FEFF 		bl	memset
 528              	.LVL50:
  60:Src/cmd.c     ****         ADC_CMD(ADC_READ, ADC_DATA_REG);
 529              		.loc 1 60 9 view .LVU81
 530 0236 FFF7FEFF 		bl	ADC_SPI_READ_24
 531              	.LVL51:
 532 023a 0200     		movs	r2, r0
 533 023c 6449     		ldr	r1, .L31+44
 534 023e 2000     		movs	r0, r4
 535 0240 FFF7FEFF 		bl	sprintf
 536              	.LVL52:
  60:Src/cmd.c     ****         ADC_CMD(ADC_READ, ADC_DATA_REG);
 537              		.loc 1 60 9 view .LVU82
 538 0244 82B2     		uxth	r2, r0
 539 0246 3300     		movs	r3, r6
ARM GAS  C:\Users\Mateusz\AppData\Local\Temp\ccbFMXL0.s 			page 15


 540 0248 2100     		movs	r1, r4
 541 024a 2800     		movs	r0, r5
 542              	.LVL53:
  60:Src/cmd.c     ****         ADC_CMD(ADC_READ, ADC_DATA_REG);
 543              		.loc 1 60 9 is_stmt 0 view .LVU83
 544 024c FFF7FEFF 		bl	HAL_UART_Transmit
 545              	.LVL54:
 546              	.LBE12:
  60:Src/cmd.c     ****         ADC_CMD(ADC_READ, ADC_DATA_REG);
 547              		.loc 1 60 72 is_stmt 1 view .LVU84
  61:Src/cmd.c     ****         SERIAL_WRITE("\tADC_DATA_REG:\t\t0x%06x\n", ADC_SPI_READ_24());
 548              		.loc 1 61 9 view .LVU85
 549 0250 0421     		movs	r1, #4
 550 0252 4020     		movs	r0, #64
 551 0254 FFF7FEFF 		bl	ADC_CMD
 552              	.LVL55:
 553              	.LBB13:
  62:Src/cmd.c     ****         ADC_CMD(ADC_READ, ADC_GPIO_REG);
 554              		.loc 1 62 9 view .LVU86
 555 0258 0197     		str	r7, [sp, #4]
 556 025a 6022     		movs	r2, #96
 557 025c 0021     		movs	r1, #0
 558 025e 02A8     		add	r0, sp, #8
 559 0260 FFF7FEFF 		bl	memset
 560              	.LVL56:
  62:Src/cmd.c     ****         ADC_CMD(ADC_READ, ADC_GPIO_REG);
 561              		.loc 1 62 9 view .LVU87
 562 0264 FFF7FEFF 		bl	ADC_SPI_READ_24
 563              	.LVL57:
 564 0268 0200     		movs	r2, r0
 565 026a 5A49     		ldr	r1, .L31+48
 566 026c 2000     		movs	r0, r4
 567 026e FFF7FEFF 		bl	sprintf
 568              	.LVL58:
  62:Src/cmd.c     ****         ADC_CMD(ADC_READ, ADC_GPIO_REG);
 569              		.loc 1 62 9 view .LVU88
 570 0272 82B2     		uxth	r2, r0
 571 0274 3300     		movs	r3, r6
 572 0276 2100     		movs	r1, r4
 573 0278 2800     		movs	r0, r5
 574              	.LVL59:
  62:Src/cmd.c     ****         ADC_CMD(ADC_READ, ADC_GPIO_REG);
 575              		.loc 1 62 9 is_stmt 0 view .LVU89
 576 027a FFF7FEFF 		bl	HAL_UART_Transmit
 577              	.LVL60:
 578              	.LBE13:
  62:Src/cmd.c     ****         ADC_CMD(ADC_READ, ADC_GPIO_REG);
 579              		.loc 1 62 71 is_stmt 1 view .LVU90
  63:Src/cmd.c     ****         SERIAL_WRITE("\tADC_GPIO_REG:\t\t0x%04x\n", ADC_SPI_READ_16());
 580              		.loc 1 63 9 view .LVU91
 581 027e 0621     		movs	r1, #6
 582 0280 4020     		movs	r0, #64
 583 0282 FFF7FEFF 		bl	ADC_CMD
 584              	.LVL61:
 585              	.LBB14:
  64:Src/cmd.c     ****         ADC_CMD(ADC_READ, ADC_ID_REG);
 586              		.loc 1 64 9 view .LVU92
ARM GAS  C:\Users\Mateusz\AppData\Local\Temp\ccbFMXL0.s 			page 16


 587 0286 0197     		str	r7, [sp, #4]
 588 0288 6022     		movs	r2, #96
 589 028a 0021     		movs	r1, #0
 590 028c 02A8     		add	r0, sp, #8
 591 028e FFF7FEFF 		bl	memset
 592              	.LVL62:
  64:Src/cmd.c     ****         ADC_CMD(ADC_READ, ADC_ID_REG);
 593              		.loc 1 64 9 view .LVU93
 594 0292 FFF7FEFF 		bl	ADC_SPI_READ_16
 595              	.LVL63:
 596 0296 0200     		movs	r2, r0
 597 0298 4F49     		ldr	r1, .L31+52
 598 029a 2000     		movs	r0, r4
 599 029c FFF7FEFF 		bl	sprintf
 600              	.LVL64:
  64:Src/cmd.c     ****         ADC_CMD(ADC_READ, ADC_ID_REG);
 601              		.loc 1 64 9 view .LVU94
 602 02a0 3300     		movs	r3, r6
 603 02a2 1722     		movs	r2, #23
 604 02a4 2100     		movs	r1, r4
 605 02a6 2800     		movs	r0, r5
 606 02a8 FFF7FEFF 		bl	HAL_UART_Transmit
 607              	.LVL65:
 608              	.LBE14:
  64:Src/cmd.c     ****         ADC_CMD(ADC_READ, ADC_ID_REG);
 609              		.loc 1 64 71 view .LVU95
  65:Src/cmd.c     ****         SERIAL_WRITE("\tADC_ID_REG:\t\t0x%04x\n", ADC_SPI_READ_16());
 610              		.loc 1 65 9 view .LVU96
 611 02ac 0721     		movs	r1, #7
 612 02ae 4020     		movs	r0, #64
 613 02b0 FFF7FEFF 		bl	ADC_CMD
 614              	.LVL66:
 615              	.LBB15:
  66:Src/cmd.c     ****         for (int i = 0; i < 15; i++)
 616              		.loc 1 66 9 view .LVU97
 617 02b4 0197     		str	r7, [sp, #4]
 618 02b6 6022     		movs	r2, #96
 619 02b8 0021     		movs	r1, #0
 620 02ba 02A8     		add	r0, sp, #8
 621 02bc FFF7FEFF 		bl	memset
 622              	.LVL67:
  66:Src/cmd.c     ****         for (int i = 0; i < 15; i++)
 623              		.loc 1 66 9 view .LVU98
 624 02c0 FFF7FEFF 		bl	ADC_SPI_READ_16
 625              	.LVL68:
 626 02c4 0200     		movs	r2, r0
 627 02c6 4549     		ldr	r1, .L31+56
 628 02c8 2000     		movs	r0, r4
 629 02ca FFF7FEFF 		bl	sprintf
 630              	.LVL69:
  66:Src/cmd.c     ****         for (int i = 0; i < 15; i++)
 631              		.loc 1 66 9 view .LVU99
 632 02ce 3300     		movs	r3, r6
 633 02d0 1522     		movs	r2, #21
 634 02d2 2100     		movs	r1, r4
 635 02d4 2800     		movs	r0, r5
 636 02d6 FFF7FEFF 		bl	HAL_UART_Transmit
ARM GAS  C:\Users\Mateusz\AppData\Local\Temp\ccbFMXL0.s 			page 17


 637              	.LVL70:
 638              	.LBE15:
  66:Src/cmd.c     ****         for (int i = 0; i < 15; i++)
 639              		.loc 1 66 69 view .LVU100
  67:Src/cmd.c     ****         {
 640              		.loc 1 67 9 view .LVU101
 641              	.LBB16:
  67:Src/cmd.c     ****         {
 642              		.loc 1 67 14 view .LVU102
  67:Src/cmd.c     ****         {
 643              		.loc 1 67 18 is_stmt 0 view .LVU103
 644 02da 0024     		movs	r4, #0
  67:Src/cmd.c     ****         {
 645              		.loc 1 67 9 view .LVU104
 646 02dc 1CE0     		b	.L17
 647              	.LVL71:
 648              	.L18:
  69:Src/cmd.c     ****             SERIAL_WRITE("\tADC_CH%i_REG:\t\t0x%04x\n", i, ADC_SPI_READ_16());
 649              		.loc 1 69 13 is_stmt 1 discriminator 3 view .LVU105
  69:Src/cmd.c     ****             SERIAL_WRITE("\tADC_CH%i_REG:\t\t0x%04x\n", i, ADC_SPI_READ_16());
 650              		.loc 1 69 31 is_stmt 0 discriminator 3 view .LVU106
 651 02de 2100     		movs	r1, r4
 652 02e0 1031     		adds	r1, r1, #16
  69:Src/cmd.c     ****             SERIAL_WRITE("\tADC_CH%i_REG:\t\t0x%04x\n", i, ADC_SPI_READ_16());
 653              		.loc 1 69 13 discriminator 3 view .LVU107
 654 02e2 C9B2     		uxtb	r1, r1
 655 02e4 4020     		movs	r0, #64
 656 02e6 FFF7FEFF 		bl	ADC_CMD
 657              	.LVL72:
 658              	.LBB17:
  70:Src/cmd.c     ****         }
 659              		.loc 1 70 13 is_stmt 1 discriminator 3 view .LVU108
 660 02ea 0023     		movs	r3, #0
 661 02ec 0193     		str	r3, [sp, #4]
 662 02ee 6022     		movs	r2, #96
 663 02f0 0021     		movs	r1, #0
 664 02f2 02A8     		add	r0, sp, #8
 665 02f4 FFF7FEFF 		bl	memset
 666              	.LVL73:
  70:Src/cmd.c     ****         }
 667              		.loc 1 70 13 discriminator 3 view .LVU109
 668 02f8 FFF7FEFF 		bl	ADC_SPI_READ_16
 669              	.LVL74:
 670 02fc 0300     		movs	r3, r0
 671 02fe 2200     		movs	r2, r4
 672 0300 3749     		ldr	r1, .L31+60
 673 0302 01A8     		add	r0, sp, #4
 674 0304 FFF7FEFF 		bl	sprintf
 675              	.LVL75:
  70:Src/cmd.c     ****         }
 676              		.loc 1 70 13 discriminator 3 view .LVU110
 677 0308 FA23     		movs	r3, #250
 678 030a 82B2     		uxth	r2, r0
 679 030c 9B00     		lsls	r3, r3, #2
 680 030e 01A9     		add	r1, sp, #4
 681 0310 2748     		ldr	r0, .L31+12
 682              	.LVL76:
ARM GAS  C:\Users\Mateusz\AppData\Local\Temp\ccbFMXL0.s 			page 18


  70:Src/cmd.c     ****         }
 683              		.loc 1 70 13 is_stmt 0 discriminator 3 view .LVU111
 684 0312 FFF7FEFF 		bl	HAL_UART_Transmit
 685              	.LVL77:
 686              	.LBE17:
  70:Src/cmd.c     ****         }
 687              		.loc 1 70 78 is_stmt 1 discriminator 3 view .LVU112
  67:Src/cmd.c     ****         {
 688              		.loc 1 67 33 discriminator 3 view .LVU113
  67:Src/cmd.c     ****         {
 689              		.loc 1 67 34 is_stmt 0 discriminator 3 view .LVU114
 690 0316 0134     		adds	r4, r4, #1
 691              	.LVL78:
 692              	.L17:
  67:Src/cmd.c     ****         {
 693              		.loc 1 67 25 is_stmt 1 discriminator 1 view .LVU115
  67:Src/cmd.c     ****         {
 694              		.loc 1 67 9 is_stmt 0 discriminator 1 view .LVU116
 695 0318 0E2C     		cmp	r4, #14
 696 031a E0DD     		ble	.L18
 697              	.LBE16:
 698              	.LBB18:
  72:Src/cmd.c     ****         {
 699              		.loc 1 72 18 view .LVU117
 700 031c 0024     		movs	r4, #0
 701              	.LVL79:
  72:Src/cmd.c     ****         {
 702              		.loc 1 72 18 view .LVU118
 703 031e 1CE0     		b	.L19
 704              	.LVL80:
 705              	.L20:
  74:Src/cmd.c     ****             SERIAL_WRITE("\tADC_SETUPCON%i_REG:\t0x%04x\n", i, ADC_SPI_READ_16());
 706              		.loc 1 74 13 is_stmt 1 discriminator 3 view .LVU119
  74:Src/cmd.c     ****             SERIAL_WRITE("\tADC_SETUPCON%i_REG:\t0x%04x\n", i, ADC_SPI_READ_16());
 707              		.loc 1 74 31 is_stmt 0 discriminator 3 view .LVU120
 708 0320 2100     		movs	r1, r4
 709 0322 2031     		adds	r1, r1, #32
  74:Src/cmd.c     ****             SERIAL_WRITE("\tADC_SETUPCON%i_REG:\t0x%04x\n", i, ADC_SPI_READ_16());
 710              		.loc 1 74 13 discriminator 3 view .LVU121
 711 0324 C9B2     		uxtb	r1, r1
 712 0326 4020     		movs	r0, #64
 713 0328 FFF7FEFF 		bl	ADC_CMD
 714              	.LVL81:
 715              	.LBB19:
  75:Src/cmd.c     ****         }
 716              		.loc 1 75 13 is_stmt 1 discriminator 3 view .LVU122
 717 032c 0023     		movs	r3, #0
 718 032e 0193     		str	r3, [sp, #4]
 719 0330 6022     		movs	r2, #96
 720 0332 0021     		movs	r1, #0
 721 0334 02A8     		add	r0, sp, #8
 722 0336 FFF7FEFF 		bl	memset
 723              	.LVL82:
  75:Src/cmd.c     ****         }
 724              		.loc 1 75 13 discriminator 3 view .LVU123
 725 033a FFF7FEFF 		bl	ADC_SPI_READ_16
 726              	.LVL83:
ARM GAS  C:\Users\Mateusz\AppData\Local\Temp\ccbFMXL0.s 			page 19


 727 033e 0300     		movs	r3, r0
 728 0340 2200     		movs	r2, r4
 729 0342 2849     		ldr	r1, .L31+64
 730 0344 01A8     		add	r0, sp, #4
 731 0346 FFF7FEFF 		bl	sprintf
 732              	.LVL84:
  75:Src/cmd.c     ****         }
 733              		.loc 1 75 13 discriminator 3 view .LVU124
 734 034a FA23     		movs	r3, #250
 735 034c 9B00     		lsls	r3, r3, #2
 736 034e 1B22     		movs	r2, #27
 737 0350 01A9     		add	r1, sp, #4
 738 0352 1748     		ldr	r0, .L31+12
 739 0354 FFF7FEFF 		bl	HAL_UART_Transmit
 740              	.LVL85:
 741              	.LBE19:
  75:Src/cmd.c     ****         }
 742              		.loc 1 75 82 discriminator 3 view .LVU125
  72:Src/cmd.c     ****         {
 743              		.loc 1 72 32 discriminator 3 view .LVU126
  72:Src/cmd.c     ****         {
 744              		.loc 1 72 33 is_stmt 0 discriminator 3 view .LVU127
 745 0358 0134     		adds	r4, r4, #1
 746              	.LVL86:
 747              	.L19:
  72:Src/cmd.c     ****         {
 748              		.loc 1 72 25 is_stmt 1 discriminator 1 view .LVU128
  72:Src/cmd.c     ****         {
 749              		.loc 1 72 9 is_stmt 0 discriminator 1 view .LVU129
 750 035a 062C     		cmp	r4, #6
 751 035c E0DD     		ble	.L20
 752              	.LBE18:
 753              	.LBB20:
  77:Src/cmd.c     ****         {
 754              		.loc 1 77 18 view .LVU130
 755 035e 0024     		movs	r4, #0
 756              	.LVL87:
  77:Src/cmd.c     ****         {
 757              		.loc 1 77 18 view .LVU131
 758 0360 1CE0     		b	.L21
 759              	.LVL88:
 760              	.L22:
  79:Src/cmd.c     ****             SERIAL_WRITE("\tADC_FILTCON%i_REG:\t0x%04x\n", i, ADC_SPI_READ_16());
 761              		.loc 1 79 13 is_stmt 1 discriminator 3 view .LVU132
  79:Src/cmd.c     ****             SERIAL_WRITE("\tADC_FILTCON%i_REG:\t0x%04x\n", i, ADC_SPI_READ_16());
 762              		.loc 1 79 31 is_stmt 0 discriminator 3 view .LVU133
 763 0362 2100     		movs	r1, r4
 764 0364 2831     		adds	r1, r1, #40
  79:Src/cmd.c     ****             SERIAL_WRITE("\tADC_FILTCON%i_REG:\t0x%04x\n", i, ADC_SPI_READ_16());
 765              		.loc 1 79 13 discriminator 3 view .LVU134
 766 0366 C9B2     		uxtb	r1, r1
 767 0368 4020     		movs	r0, #64
 768 036a FFF7FEFF 		bl	ADC_CMD
 769              	.LVL89:
 770              	.LBB21:
  80:Src/cmd.c     ****         }
 771              		.loc 1 80 13 is_stmt 1 discriminator 3 view .LVU135
ARM GAS  C:\Users\Mateusz\AppData\Local\Temp\ccbFMXL0.s 			page 20


 772 036e 0023     		movs	r3, #0
 773 0370 0193     		str	r3, [sp, #4]
 774 0372 6022     		movs	r2, #96
 775 0374 0021     		movs	r1, #0
 776 0376 02A8     		add	r0, sp, #8
 777 0378 FFF7FEFF 		bl	memset
 778              	.LVL90:
  80:Src/cmd.c     ****         }
 779              		.loc 1 80 13 discriminator 3 view .LVU136
 780 037c FFF7FEFF 		bl	ADC_SPI_READ_16
 781              	.LVL91:
 782 0380 0300     		movs	r3, r0
 783 0382 2200     		movs	r2, r4
 784 0384 1849     		ldr	r1, .L31+68
 785 0386 01A8     		add	r0, sp, #4
 786 0388 FFF7FEFF 		bl	sprintf
 787              	.LVL92:
  80:Src/cmd.c     ****         }
 788              		.loc 1 80 13 discriminator 3 view .LVU137
 789 038c FA23     		movs	r3, #250
 790 038e 9B00     		lsls	r3, r3, #2
 791 0390 1A22     		movs	r2, #26
 792 0392 01A9     		add	r1, sp, #4
 793 0394 0648     		ldr	r0, .L31+12
 794 0396 FFF7FEFF 		bl	HAL_UART_Transmit
 795              	.LVL93:
 796              	.LBE21:
  80:Src/cmd.c     ****         }
 797              		.loc 1 80 81 discriminator 3 view .LVU138
  77:Src/cmd.c     ****         {
 798              		.loc 1 77 32 discriminator 3 view .LVU139
  77:Src/cmd.c     ****         {
 799              		.loc 1 77 33 is_stmt 0 discriminator 3 view .LVU140
 800 039a 0134     		adds	r4, r4, #1
 801              	.LVL94:
 802              	.L21:
  77:Src/cmd.c     ****         {
 803              		.loc 1 77 25 is_stmt 1 discriminator 1 view .LVU141
  77:Src/cmd.c     ****         {
 804              		.loc 1 77 9 is_stmt 0 discriminator 1 view .LVU142
 805 039c 062C     		cmp	r4, #6
 806 039e E0DD     		ble	.L22
 807              	.LBE20:
 808              	.LBB22:
  82:Src/cmd.c     ****         {
 809              		.loc 1 82 18 view .LVU143
 810 03a0 0024     		movs	r4, #0
 811              	.LVL95:
  82:Src/cmd.c     ****         {
 812              		.loc 1 82 18 view .LVU144
 813 03a2 40E0     		b	.L23
 814              	.L32:
 815              		.align	2
 816              	.L31:
 817 03a4 00000000 		.word	State
 818 03a8 00000000 		.word	.L6
 819 03ac 88010000 		.word	.LC41
ARM GAS  C:\Users\Mateusz\AppData\Local\Temp\ccbFMXL0.s 			page 21


 820 03b0 00000000 		.word	huart2
 821 03b4 6F6B0A00 		.word	682863
 822 03b8 00000000 		.word	.LC3
 823 03bc 08000000 		.word	.LC5
 824 03c0 14000000 		.word	.LC7
 825 03c4 24000000 		.word	.LC9
 826 03c8 40000000 		.word	.LC11
 827 03cc 58000000 		.word	.LC13
 828 03d0 74000000 		.word	.LC15
 829 03d4 90000000 		.word	.LC17
 830 03d8 A8000000 		.word	.LC19
 831 03dc C0000000 		.word	.LC21
 832 03e0 D8000000 		.word	.LC23
 833 03e4 F0000000 		.word	.LC25
 834 03e8 10010000 		.word	.LC27
 835              	.LVL96:
 836              	.L24:
  84:Src/cmd.c     ****             SERIAL_WRITE("\tADC_OFFSET%i_REG:\t0x%04x\n", i, ADC_SPI_READ_24());
 837              		.loc 1 84 13 is_stmt 1 discriminator 3 view .LVU145
  84:Src/cmd.c     ****             SERIAL_WRITE("\tADC_OFFSET%i_REG:\t0x%04x\n", i, ADC_SPI_READ_24());
 838              		.loc 1 84 31 is_stmt 0 discriminator 3 view .LVU146
 839 03ec 2100     		movs	r1, r4
 840 03ee 3031     		adds	r1, r1, #48
  84:Src/cmd.c     ****             SERIAL_WRITE("\tADC_OFFSET%i_REG:\t0x%04x\n", i, ADC_SPI_READ_24());
 841              		.loc 1 84 13 discriminator 3 view .LVU147
 842 03f0 C9B2     		uxtb	r1, r1
 843 03f2 4020     		movs	r0, #64
 844 03f4 FFF7FEFF 		bl	ADC_CMD
 845              	.LVL97:
 846              	.LBB23:
  85:Src/cmd.c     ****         }
 847              		.loc 1 85 13 is_stmt 1 discriminator 3 view .LVU148
 848 03f8 0023     		movs	r3, #0
 849 03fa 0193     		str	r3, [sp, #4]
 850 03fc 6022     		movs	r2, #96
 851 03fe 0021     		movs	r1, #0
 852 0400 02A8     		add	r0, sp, #8
 853 0402 FFF7FEFF 		bl	memset
 854              	.LVL98:
  85:Src/cmd.c     ****         }
 855              		.loc 1 85 13 discriminator 3 view .LVU149
 856 0406 FFF7FEFF 		bl	ADC_SPI_READ_24
 857              	.LVL99:
 858 040a 0300     		movs	r3, r0
 859 040c 2200     		movs	r2, r4
 860 040e 6B49     		ldr	r1, .L33
 861 0410 01A8     		add	r0, sp, #4
 862 0412 FFF7FEFF 		bl	sprintf
 863              	.LVL100:
  85:Src/cmd.c     ****         }
 864              		.loc 1 85 13 discriminator 3 view .LVU150
 865 0416 FA23     		movs	r3, #250
 866 0418 82B2     		uxth	r2, r0
 867 041a 9B00     		lsls	r3, r3, #2
 868 041c 01A9     		add	r1, sp, #4
 869 041e 6848     		ldr	r0, .L33+4
 870              	.LVL101:
ARM GAS  C:\Users\Mateusz\AppData\Local\Temp\ccbFMXL0.s 			page 22


  85:Src/cmd.c     ****         }
 871              		.loc 1 85 13 is_stmt 0 discriminator 3 view .LVU151
 872 0420 FFF7FEFF 		bl	HAL_UART_Transmit
 873              	.LVL102:
 874              	.LBE23:
  85:Src/cmd.c     ****         }
 875              		.loc 1 85 80 is_stmt 1 discriminator 3 view .LVU152
  82:Src/cmd.c     ****         {
 876              		.loc 1 82 32 discriminator 3 view .LVU153
  82:Src/cmd.c     ****         {
 877              		.loc 1 82 33 is_stmt 0 discriminator 3 view .LVU154
 878 0424 0134     		adds	r4, r4, #1
 879              	.LVL103:
 880              	.L23:
  82:Src/cmd.c     ****         {
 881              		.loc 1 82 25 is_stmt 1 discriminator 1 view .LVU155
  82:Src/cmd.c     ****         {
 882              		.loc 1 82 9 is_stmt 0 discriminator 1 view .LVU156
 883 0426 062C     		cmp	r4, #6
 884 0428 E0DD     		ble	.L24
 885              	.LBE22:
 886              	.LBB24:
  87:Src/cmd.c     ****         {
 887              		.loc 1 87 18 view .LVU157
 888 042a 0024     		movs	r4, #0
 889              	.LVL104:
  87:Src/cmd.c     ****         {
 890              		.loc 1 87 18 view .LVU158
 891 042c 1CE0     		b	.L25
 892              	.LVL105:
 893              	.L26:
  89:Src/cmd.c     ****             SERIAL_WRITE("\tADC_GAIN%i_REG:\t\t0x%04x\n", i, ADC_SPI_READ_24());
 894              		.loc 1 89 13 is_stmt 1 discriminator 3 view .LVU159
  89:Src/cmd.c     ****             SERIAL_WRITE("\tADC_GAIN%i_REG:\t\t0x%04x\n", i, ADC_SPI_READ_24());
 895              		.loc 1 89 31 is_stmt 0 discriminator 3 view .LVU160
 896 042e 2100     		movs	r1, r4
 897 0430 3831     		adds	r1, r1, #56
  89:Src/cmd.c     ****             SERIAL_WRITE("\tADC_GAIN%i_REG:\t\t0x%04x\n", i, ADC_SPI_READ_24());
 898              		.loc 1 89 13 discriminator 3 view .LVU161
 899 0432 C9B2     		uxtb	r1, r1
 900 0434 4020     		movs	r0, #64
 901 0436 FFF7FEFF 		bl	ADC_CMD
 902              	.LVL106:
 903              	.LBB25:
  90:Src/cmd.c     ****         }
 904              		.loc 1 90 13 is_stmt 1 discriminator 3 view .LVU162
 905 043a 0023     		movs	r3, #0
 906 043c 0193     		str	r3, [sp, #4]
 907 043e 6022     		movs	r2, #96
 908 0440 0021     		movs	r1, #0
 909 0442 02A8     		add	r0, sp, #8
 910 0444 FFF7FEFF 		bl	memset
 911              	.LVL107:
  90:Src/cmd.c     ****         }
 912              		.loc 1 90 13 discriminator 3 view .LVU163
 913 0448 FFF7FEFF 		bl	ADC_SPI_READ_24
 914              	.LVL108:
ARM GAS  C:\Users\Mateusz\AppData\Local\Temp\ccbFMXL0.s 			page 23


 915 044c 0300     		movs	r3, r0
 916 044e 2200     		movs	r2, r4
 917 0450 5C49     		ldr	r1, .L33+8
 918 0452 01A8     		add	r0, sp, #4
 919 0454 FFF7FEFF 		bl	sprintf
 920              	.LVL109:
  90:Src/cmd.c     ****         }
 921              		.loc 1 90 13 discriminator 3 view .LVU164
 922 0458 FA23     		movs	r3, #250
 923 045a 82B2     		uxth	r2, r0
 924 045c 9B00     		lsls	r3, r3, #2
 925 045e 01A9     		add	r1, sp, #4
 926 0460 5748     		ldr	r0, .L33+4
 927              	.LVL110:
  90:Src/cmd.c     ****         }
 928              		.loc 1 90 13 is_stmt 0 discriminator 3 view .LVU165
 929 0462 FFF7FEFF 		bl	HAL_UART_Transmit
 930              	.LVL111:
 931              	.LBE25:
  90:Src/cmd.c     ****         }
 932              		.loc 1 90 80 is_stmt 1 discriminator 3 view .LVU166
  87:Src/cmd.c     ****         {
 933              		.loc 1 87 32 discriminator 3 view .LVU167
  87:Src/cmd.c     ****         {
 934              		.loc 1 87 33 is_stmt 0 discriminator 3 view .LVU168
 935 0466 0134     		adds	r4, r4, #1
 936              	.LVL112:
 937              	.L25:
  87:Src/cmd.c     ****         {
 938              		.loc 1 87 25 is_stmt 1 discriminator 1 view .LVU169
  87:Src/cmd.c     ****         {
 939              		.loc 1 87 9 is_stmt 0 discriminator 1 view .LVU170
 940 0468 062C     		cmp	r4, #6
 941 046a E0DD     		ble	.L26
 942              	.LBE24:
  92:Src/cmd.c     ****         break;
 943              		.loc 1 92 9 is_stmt 1 view .LVU171
  92:Src/cmd.c     ****         break;
 944              		.loc 1 92 19 is_stmt 0 view .LVU172
 945 046c 564A     		ldr	r2, .L33+12
 946 046e 4D23     		movs	r3, #77
 947 0470 0021     		movs	r1, #0
 948 0472 D154     		strb	r1, [r2, r3]
  93:Src/cmd.c     ****     }
 949              		.loc 1 93 9 is_stmt 1 view .LVU173
 950 0474 3BE6     		b	.L4
 951              	.LVL113:
 952              	.L28:
  17:Src/cmd.c     ****     {
 953              		.loc 1 17 5 is_stmt 0 view .LVU174
 954 0476 0024     		movs	r4, #0
 955              	.L8:
 956              	.LVL114:
 957              	.LBB26:
  97:Src/cmd.c     ****         {
 958              		.loc 1 97 25 is_stmt 1 discriminator 1 view .LVU175
  97:Src/cmd.c     ****         {
ARM GAS  C:\Users\Mateusz\AppData\Local\Temp\ccbFMXL0.s 			page 24


 959              		.loc 1 97 9 is_stmt 0 discriminator 1 view .LVU176
 960 0478 0F2C     		cmp	r4, #15
 961 047a 4DDC     		bgt	.L30
 962              	.LBB27:
  99:Src/cmd.c     ****             SERIAL_WRITE("[%i]\t", i);
 963              		.loc 1 99 13 is_stmt 1 discriminator 3 view .LVU177
  99:Src/cmd.c     ****             SERIAL_WRITE("[%i]\t", i);
 964              		.loc 1 99 63 is_stmt 0 discriminator 3 view .LVU178
 965 047c A51C     		adds	r5, r4, #2
 966 047e AD00     		lsls	r5, r5, #2
 967 0480 514B     		ldr	r3, .L33+12
 968 0482 5D19     		adds	r5, r3, r5
  99:Src/cmd.c     ****             SERIAL_WRITE("[%i]\t", i);
 969              		.loc 1 99 37 discriminator 3 view .LVU179
 970 0484 0023     		movs	r3, #0
 971 0486 9846     		mov	r8, r3
  99:Src/cmd.c     ****             SERIAL_WRITE("[%i]\t", i);
 972              		.loc 1 99 67 discriminator 3 view .LVU180
 973 0488 504A     		ldr	r2, .L33+16
 974 048a 0023     		movs	r3, #0
 975 048c 6868     		ldr	r0, [r5, #4]
 976 048e 0021     		movs	r1, #0
 977 0490 FFF7FEFF 		bl	__aeabi_lmul
 978              	.LVL115:
  99:Src/cmd.c     ****             SERIAL_WRITE("[%i]\t", i);
 979              		.loc 1 99 22 discriminator 3 view .LVU181
 980 0494 4E4A     		ldr	r2, .L33+20
 981 0496 0023     		movs	r3, #0
 982 0498 FFF7FEFF 		bl	__aeabi_uldivmod
 983              	.LVL116:
 984 049c 8246     		mov	r10, r0
 985 049e 8946     		mov	r9, r1
 986              	.LVL117:
 987              	.LBB28:
 100:Src/cmd.c     ****             SERIAL_WRITE("%10i uV\t\t", voltage_uV);
 988              		.loc 1 100 13 is_stmt 1 discriminator 3 view .LVU182
 989 04a0 4346     		mov	r3, r8
 990 04a2 0193     		str	r3, [sp, #4]
 991 04a4 6022     		movs	r2, #96
 992 04a6 0021     		movs	r1, #0
 993              	.LVL118:
 100:Src/cmd.c     ****             SERIAL_WRITE("%10i uV\t\t", voltage_uV);
 994              		.loc 1 100 13 is_stmt 0 discriminator 3 view .LVU183
 995 04a8 02A8     		add	r0, sp, #8
 996              	.LVL119:
 100:Src/cmd.c     ****             SERIAL_WRITE("%10i uV\t\t", voltage_uV);
 997              		.loc 1 100 13 discriminator 3 view .LVU184
 998 04aa FFF7FEFF 		bl	memset
 999              	.LVL120:
 100:Src/cmd.c     ****             SERIAL_WRITE("%10i uV\t\t", voltage_uV);
 1000              		.loc 1 100 13 is_stmt 1 discriminator 3 view .LVU185
 1001 04ae 2200     		movs	r2, r4
 1002 04b0 4849     		ldr	r1, .L33+24
 1003 04b2 01A8     		add	r0, sp, #4
 1004 04b4 FFF7FEFF 		bl	sprintf
 1005              	.LVL121:
 100:Src/cmd.c     ****             SERIAL_WRITE("%10i uV\t\t", voltage_uV);
ARM GAS  C:\Users\Mateusz\AppData\Local\Temp\ccbFMXL0.s 			page 25


 1006              		.loc 1 100 13 discriminator 3 view .LVU186
 1007 04b8 FA27     		movs	r7, #250
 1008 04ba BF00     		lsls	r7, r7, #2
 1009 04bc 82B2     		uxth	r2, r0
 1010 04be 404E     		ldr	r6, .L33+4
 1011 04c0 3B00     		movs	r3, r7
 1012 04c2 01A9     		add	r1, sp, #4
 1013 04c4 3000     		movs	r0, r6
 1014              	.LVL122:
 100:Src/cmd.c     ****             SERIAL_WRITE("%10i uV\t\t", voltage_uV);
 1015              		.loc 1 100 13 is_stmt 0 discriminator 3 view .LVU187
 1016 04c6 FFF7FEFF 		bl	HAL_UART_Transmit
 1017              	.LVL123:
 1018              	.LBE28:
 100:Src/cmd.c     ****             SERIAL_WRITE("%10i uV\t\t", voltage_uV);
 1019              		.loc 1 100 38 is_stmt 1 discriminator 3 view .LVU188
 1020              	.LBB29:
 101:Src/cmd.c     ****             SERIAL_WRITE("0x%06x\n", State.ADC_Values[i]);
 1021              		.loc 1 101 13 discriminator 3 view .LVU189
 1022 04ca 4346     		mov	r3, r8
 1023 04cc 0193     		str	r3, [sp, #4]
 1024 04ce 6022     		movs	r2, #96
 1025 04d0 0021     		movs	r1, #0
 1026 04d2 02A8     		add	r0, sp, #8
 1027 04d4 FFF7FEFF 		bl	memset
 1028              	.LVL124:
 101:Src/cmd.c     ****             SERIAL_WRITE("0x%06x\n", State.ADC_Values[i]);
 1029              		.loc 1 101 13 discriminator 3 view .LVU190
 1030 04d8 5246     		mov	r2, r10
 1031 04da 4B46     		mov	r3, r9
 1032 04dc 3E49     		ldr	r1, .L33+28
 1033 04de 01A8     		add	r0, sp, #4
 1034 04e0 FFF7FEFF 		bl	sprintf
 1035              	.LVL125:
 101:Src/cmd.c     ****             SERIAL_WRITE("0x%06x\n", State.ADC_Values[i]);
 1036              		.loc 1 101 13 discriminator 3 view .LVU191
 1037 04e4 3B00     		movs	r3, r7
 1038 04e6 0F22     		movs	r2, #15
 1039 04e8 01A9     		add	r1, sp, #4
 1040 04ea 3000     		movs	r0, r6
 1041 04ec FFF7FEFF 		bl	HAL_UART_Transmit
 1042              	.LVL126:
 1043              	.LBE29:
 101:Src/cmd.c     ****             SERIAL_WRITE("0x%06x\n", State.ADC_Values[i]);
 1044              		.loc 1 101 52 discriminator 3 view .LVU192
 1045              	.LBB30:
 102:Src/cmd.c     ****         }
 1046              		.loc 1 102 13 discriminator 3 view .LVU193
 1047 04f0 4346     		mov	r3, r8
 1048 04f2 0193     		str	r3, [sp, #4]
 1049 04f4 6022     		movs	r2, #96
 1050 04f6 0021     		movs	r1, #0
 1051 04f8 02A8     		add	r0, sp, #8
 1052 04fa FFF7FEFF 		bl	memset
 1053              	.LVL127:
 102:Src/cmd.c     ****         }
 1054              		.loc 1 102 13 discriminator 3 view .LVU194
ARM GAS  C:\Users\Mateusz\AppData\Local\Temp\ccbFMXL0.s 			page 26


 1055 04fe 6A68     		ldr	r2, [r5, #4]
 1056 0500 3649     		ldr	r1, .L33+32
 1057 0502 01A8     		add	r0, sp, #4
 1058 0504 FFF7FEFF 		bl	sprintf
 1059              	.LVL128:
 102:Src/cmd.c     ****         }
 1060              		.loc 1 102 13 discriminator 3 view .LVU195
 1061 0508 82B2     		uxth	r2, r0
 1062 050a 3B00     		movs	r3, r7
 1063 050c 01A9     		add	r1, sp, #4
 1064 050e 3000     		movs	r0, r6
 1065              	.LVL129:
 102:Src/cmd.c     ****         }
 1066              		.loc 1 102 13 is_stmt 0 discriminator 3 view .LVU196
 1067 0510 FFF7FEFF 		bl	HAL_UART_Transmit
 1068              	.LVL130:
 1069              	.LBE30:
 102:Src/cmd.c     ****         }
 1070              		.loc 1 102 58 is_stmt 1 discriminator 3 view .LVU197
 1071              	.LBE27:
  97:Src/cmd.c     ****         {
 1072              		.loc 1 97 33 discriminator 3 view .LVU198
  97:Src/cmd.c     ****         {
 1073              		.loc 1 97 34 is_stmt 0 discriminator 3 view .LVU199
 1074 0514 0134     		adds	r4, r4, #1
 1075              	.LVL131:
  97:Src/cmd.c     ****         {
 1076              		.loc 1 97 34 discriminator 3 view .LVU200
 1077 0516 AFE7     		b	.L8
 1078              	.LVL132:
 1079              	.L30:
  97:Src/cmd.c     ****         {
 1080              		.loc 1 97 34 discriminator 3 view .LVU201
 1081              	.LBE26:
 104:Src/cmd.c     ****         break;
 1082              		.loc 1 104 9 is_stmt 1 view .LVU202
 104:Src/cmd.c     ****         break;
 1083              		.loc 1 104 19 is_stmt 0 view .LVU203
 1084 0518 2B4A     		ldr	r2, .L33+12
 1085 051a 4D23     		movs	r3, #77
 1086 051c 0021     		movs	r1, #0
 1087 051e D154     		strb	r1, [r2, r3]
 105:Src/cmd.c     ****     }
 1088              		.loc 1 105 9 is_stmt 1 view .LVU204
 1089 0520 E5E5     		b	.L4
 1090              	.LVL133:
 1091              	.L7:
 1092              	.LBB31:
 109:Src/cmd.c     ****         SERIAL_WRITE("%03u *C\n", (State.temperature / 1000) % 1000); //-66.875 to +52.443 C
 1093              		.loc 1 109 9 view .LVU205
 1094 0522 0026     		movs	r6, #0
 1095 0524 0196     		str	r6, [sp, #4]
 1096 0526 6022     		movs	r2, #96
 1097 0528 0021     		movs	r1, #0
 1098 052a 02A8     		add	r0, sp, #8
 1099 052c FFF7FEFF 		bl	memset
 1100              	.LVL134:
ARM GAS  C:\Users\Mateusz\AppData\Local\Temp\ccbFMXL0.s 			page 27


 109:Src/cmd.c     ****         SERIAL_WRITE("%03u *C\n", (State.temperature / 1000) % 1000); //-66.875 to +52.443 C
 1101              		.loc 1 109 9 view .LVU206
 1102 0530 254D     		ldr	r5, .L33+12
 1103 0532 2B49     		ldr	r1, .L33+36
 1104 0534 6868     		ldr	r0, [r5, #4]
 1105 0536 FFF7FEFF 		bl	__aeabi_idiv
 1106              	.LVL135:
 1107 053a 0200     		movs	r2, r0
 1108 053c 2949     		ldr	r1, .L33+40
 1109 053e 01A8     		add	r0, sp, #4
 1110 0540 FFF7FEFF 		bl	sprintf
 1111              	.LVL136:
 109:Src/cmd.c     ****         SERIAL_WRITE("%03u *C\n", (State.temperature / 1000) % 1000); //-66.875 to +52.443 C
 1112              		.loc 1 109 9 view .LVU207
 1113 0544 FA24     		movs	r4, #250
 1114 0546 A400     		lsls	r4, r4, #2
 1115 0548 82B2     		uxth	r2, r0
 1116 054a 1D4F     		ldr	r7, .L33+4
 1117 054c 2300     		movs	r3, r4
 1118 054e 01A9     		add	r1, sp, #4
 1119 0550 3800     		movs	r0, r7
 1120              	.LVL137:
 109:Src/cmd.c     ****         SERIAL_WRITE("%03u *C\n", (State.temperature / 1000) % 1000); //-66.875 to +52.443 C
 1121              		.loc 1 109 9 is_stmt 0 view .LVU208
 1122 0552 FFF7FEFF 		bl	HAL_UART_Transmit
 1123              	.LVL138:
 1124              	.LBE31:
 109:Src/cmd.c     ****         SERIAL_WRITE("%03u *C\n", (State.temperature / 1000) % 1000); //-66.875 to +52.443 C
 1125              		.loc 1 109 57 is_stmt 1 view .LVU209
 1126              	.LBB32:
 110:Src/cmd.c     ****         State.cmd = 0;
 1127              		.loc 1 110 9 view .LVU210
 1128 0556 0196     		str	r6, [sp, #4]
 1129 0558 6022     		movs	r2, #96
 1130 055a 0021     		movs	r1, #0
 1131 055c 02A8     		add	r0, sp, #8
 1132 055e FFF7FEFF 		bl	memset
 1133              	.LVL139:
 110:Src/cmd.c     ****         State.cmd = 0;
 1134              		.loc 1 110 9 view .LVU211
 1135 0562 2100     		movs	r1, r4
 1136 0564 6868     		ldr	r0, [r5, #4]
 1137 0566 FFF7FEFF 		bl	__aeabi_idiv
 1138              	.LVL140:
 1139 056a 2100     		movs	r1, r4
 1140 056c FFF7FEFF 		bl	__aeabi_idivmod
 1141              	.LVL141:
 1142 0570 0A00     		movs	r2, r1
 1143 0572 1D49     		ldr	r1, .L33+44
 1144 0574 01A8     		add	r0, sp, #4
 1145 0576 FFF7FEFF 		bl	sprintf
 1146              	.LVL142:
 110:Src/cmd.c     ****         State.cmd = 0;
 1147              		.loc 1 110 9 view .LVU212
 1148 057a 82B2     		uxth	r2, r0
 1149 057c 2300     		movs	r3, r4
 1150 057e 01A9     		add	r1, sp, #4
ARM GAS  C:\Users\Mateusz\AppData\Local\Temp\ccbFMXL0.s 			page 28


 1151 0580 3800     		movs	r0, r7
 1152              	.LVL143:
 110:Src/cmd.c     ****         State.cmd = 0;
 1153              		.loc 1 110 9 is_stmt 0 view .LVU213
 1154 0582 FFF7FEFF 		bl	HAL_UART_Transmit
 1155              	.LVL144:
 1156              	.LBE32:
 110:Src/cmd.c     ****         State.cmd = 0;
 1157              		.loc 1 110 69 is_stmt 1 view .LVU214
 111:Src/cmd.c     ****         break;
 1158              		.loc 1 111 9 view .LVU215
 111:Src/cmd.c     ****         break;
 1159              		.loc 1 111 19 is_stmt 0 view .LVU216
 1160 0586 4D23     		movs	r3, #77
 1161 0588 EE54     		strb	r6, [r5, r3]
 112:Src/cmd.c     ****     }
 1162              		.loc 1 112 9 is_stmt 1 view .LVU217
 1163 058a B0E5     		b	.L4
 1164              	.L5:
 1165              	.LBB33:
 116:Src/cmd.c     ****         DAC_test();
 1166              		.loc 1 116 9 view .LVU218
 1167 058c 01AD     		add	r5, sp, #4
 1168 058e 0024     		movs	r4, #0
 1169 0590 0194     		str	r4, [sp, #4]
 1170 0592 6022     		movs	r2, #96
 1171 0594 0021     		movs	r1, #0
 1172 0596 02A8     		add	r0, sp, #8
 1173 0598 FFF7FEFF 		bl	memset
 1174              	.LVL145:
 116:Src/cmd.c     ****         DAC_test();
 1175              		.loc 1 116 9 view .LVU219
 1176 059c 0A23     		movs	r3, #10
 1177 059e 2B80     		strh	r3, [r5]
 1178              	.LVL146:
 116:Src/cmd.c     ****         DAC_test();
 1179              		.loc 1 116 9 view .LVU220
 1180 05a0 F033     		adds	r3, r3, #240
 1181 05a2 9B00     		lsls	r3, r3, #2
 1182 05a4 0122     		movs	r2, #1
 1183 05a6 2900     		movs	r1, r5
 1184 05a8 0548     		ldr	r0, .L33+4
 1185 05aa FFF7FEFF 		bl	HAL_UART_Transmit
 1186              	.LVL147:
 1187              	.LBE33:
 116:Src/cmd.c     ****         DAC_test();
 1188              		.loc 1 116 27 view .LVU221
 117:Src/cmd.c     ****         State.cmd = 0;
 1189              		.loc 1 117 9 view .LVU222
 1190 05ae FFF7FEFF 		bl	DAC_test
 1191              	.LVL148:
 118:Src/cmd.c     ****         break;
 1192              		.loc 1 118 9 view .LVU223
 118:Src/cmd.c     ****         break;
 1193              		.loc 1 118 19 is_stmt 0 view .LVU224
 1194 05b2 054A     		ldr	r2, .L33+12
 1195 05b4 4D23     		movs	r3, #77
ARM GAS  C:\Users\Mateusz\AppData\Local\Temp\ccbFMXL0.s 			page 29


 1196 05b6 D454     		strb	r4, [r2, r3]
 119:Src/cmd.c     ****     }
 1197              		.loc 1 119 9 is_stmt 1 view .LVU225
 1198 05b8 99E5     		b	.L4
 1199              	.L34:
 1200 05ba C046     		.align	2
 1201              	.L33:
 1202 05bc 2C010000 		.word	.LC29
 1203 05c0 00000000 		.word	huart2
 1204 05c4 48010000 		.word	.LC31
 1205 05c8 00000000 		.word	State
 1206 05cc 40771B00 		.word	1800000
 1207 05d0 FFFFFF00 		.word	16777215
 1208 05d4 64010000 		.word	.LC33
 1209 05d8 6C010000 		.word	.LC35
 1210 05dc 00000000 		.word	.LC3
 1211 05e0 40420F00 		.word	1000000
 1212 05e4 78010000 		.word	.LC37
 1213 05e8 7C010000 		.word	.LC39
 1214              		.cfi_endproc
 1215              	.LFE284:
 1217              		.text
 1218              	.Letext0:
 1219              		.file 2 "c:\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\\machine\\_default_ty
 1220              		.file 3 "c:\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\\sys\\_stdint.h"
 1221              		.file 4 "Drivers/CMSIS/Device/ST/STM32G0xx/Include/system_stm32g0xx.h"
 1222              		.file 5 "Drivers/CMSIS/Device/ST/STM32G0xx/Include/stm32g071xx.h"
 1223              		.file 6 "Drivers/STM32G0xx_HAL_Driver/Inc/stm32g0xx_hal_def.h"
 1224              		.file 7 "Drivers/STM32G0xx_HAL_Driver/Inc/stm32g0xx_hal_dma.h"
 1225              		.file 8 "Drivers/STM32G0xx_HAL_Driver/Inc/stm32g0xx_hal_flash.h"
 1226              		.file 9 "Drivers/STM32G0xx_HAL_Driver/Inc/stm32g0xx_hal_uart.h"
 1227              		.file 10 "Drivers/STM32G0xx_HAL_Driver/Inc/stm32g0xx_hal.h"
 1228              		.file 11 "c:\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\\sys\\lock.h"
 1229              		.file 12 "c:\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\\sys\\_types.h"
 1230              		.file 13 "c:\\gnu tools arm embedded\\9 2019-q4-major\\lib\\gcc\\arm-none-eabi\\9.2.1\\include\\st
 1231              		.file 14 "c:\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\\sys\\reent.h"
 1232              		.file 15 "Inc/usart.h"
 1233              		.file 16 "Inc/state.h"
 1234              		.file 17 "Drivers/STM32G0xx_HAL_Driver/Inc/stm32g0xx_hal_gpio.h"
 1235              		.file 18 "Inc/ADC.h"
 1236              		.file 19 "c:\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\\stdio.h"
 1237              		.file 20 "Inc/DAC.h"
 1238              		.file 21 "<built-in>"
ARM GAS  C:\Users\Mateusz\AppData\Local\Temp\ccbFMXL0.s 			page 30


DEFINED SYMBOLS
                            *ABS*:00000000 cmd.c
C:\Users\Mateusz\AppData\Local\Temp\ccbFMXL0.s:16     .rodata.cmd.str1.4:00000000 $d
C:\Users\Mateusz\AppData\Local\Temp\ccbFMXL0.s:81     .text.cmd:00000000 $t
C:\Users\Mateusz\AppData\Local\Temp\ccbFMXL0.s:89     .text.cmd:00000000 cmd
C:\Users\Mateusz\AppData\Local\Temp\ccbFMXL0.s:142    .rodata.cmd:00000000 $d
C:\Users\Mateusz\AppData\Local\Temp\ccbFMXL0.s:817    .text.cmd:000003a4 $d
C:\Users\Mateusz\AppData\Local\Temp\ccbFMXL0.s:839    .text.cmd:000003ec $t
C:\Users\Mateusz\AppData\Local\Temp\ccbFMXL0.s:1202   .text.cmd:000005bc $d

UNDEFINED SYMBOLS
__aeabi_lmul
__aeabi_uldivmod
__aeabi_idiv
__aeabi_idivmod
HAL_GPIO_TogglePin
HAL_Delay
memset
HAL_UART_Transmit
ADC_ID
sprintf
ADC_CMD
ADC_SPI_READ_24
ADC_reset
ADC_SPI_READ_8
ADC_SPI_READ_16
State
huart2
DAC_test
