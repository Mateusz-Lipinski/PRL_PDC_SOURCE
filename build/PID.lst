ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 1


   1              		.cpu cortex-m0plus
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 0
  10              		.eabi_attribute 18, 4
  11              		.file	"PID.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.global	__aeabi_lmul
  16              		.global	__aeabi_uldivmod
  17              		.section	.text.Voltage_nV,"ax",%progbits
  18              		.align	1
  19              		.global	Voltage_nV
  20              		.arch armv6s-m
  21              		.syntax unified
  22              		.code	16
  23              		.thumb_func
  24              		.fpu softvfp
  26              	Voltage_nV:
  27              	.LVL0:
  28              	.LFB284:
  29              		.file 1 "Src/PID.c"
   1:Src/PID.c     **** #include "usart.h"
   2:Src/PID.c     **** #include <stdio.h>
   3:Src/PID.c     **** #include "state.h"
   4:Src/PID.c     **** #include "usart_utils.h"
   5:Src/PID.c     **** #include "ADC.h"
   6:Src/PID.c     **** #include "spi.h"
   7:Src/PID.c     **** #include "DAC.h"
   8:Src/PID.c     **** 
   9:Src/PID.c     **** extern state State;
  10:Src/PID.c     **** 
  11:Src/PID.c     **** //Returns voltage in [nV] measured by adc channel ADC_CH.
  12:Src/PID.c     **** uint64_t Voltage_nV(uint8_t ADC_CH)
  13:Src/PID.c     **** {
  30              		.loc 1 13 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 13 1 is_stmt 0 view .LVU1
  35 0000 10B5     		push	{r4, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 8
  38              		.cfi_offset 4, -8
  39              		.cfi_offset 14, -4
  14:Src/PID.c     ****     return (((uint64_t)State.ADC_ValuesFiltered[ADC_CH] * 1800000000) / 0xffffff);
  40              		.loc 1 14 5 is_stmt 1 view .LVU2
  41              		.loc 1 14 48 is_stmt 0 view .LVU3
  42 0002 2530     		adds	r0, r0, #37
  43              	.LVL1:
  44              		.loc 1 14 48 view .LVU4
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 2


  45 0004 FF30     		adds	r0, r0, #255
  46 0006 8000     		lsls	r0, r0, #2
  47 0008 054B     		ldr	r3, .L2
  48 000a C058     		ldr	r0, [r0, r3]
  49              		.loc 1 14 57 view .LVU5
  50 000c 054A     		ldr	r2, .L2+4
  51 000e 0023     		movs	r3, #0
  52 0010 0021     		movs	r1, #0
  53 0012 FFF7FEFF 		bl	__aeabi_lmul
  54              	.LVL2:
  55              		.loc 1 14 71 view .LVU6
  56 0016 044A     		ldr	r2, .L2+8
  57 0018 0023     		movs	r3, #0
  58 001a FFF7FEFF 		bl	__aeabi_uldivmod
  59              	.LVL3:
  15:Src/PID.c     **** };
  60              		.loc 1 15 1 view .LVU7
  61              		@ sp needed
  62 001e 10BD     		pop	{r4, pc}
  63              	.L3:
  64              		.align	2
  65              	.L2:
  66 0020 00000000 		.word	State
  67 0024 00D2496B 		.word	1800000000
  68 0028 FFFFFF00 		.word	16777215
  69              		.cfi_endproc
  70              	.LFE284:
  72              		.section	.text.Voltage,"ax",%progbits
  73              		.align	1
  74              		.global	Voltage
  75              		.syntax unified
  76              		.code	16
  77              		.thumb_func
  78              		.fpu softvfp
  80              	Voltage:
  81              	.LVL4:
  82              	.LFB285:
  16:Src/PID.c     **** 
  17:Src/PID.c     **** //Returns voltage in [uV] measured by adc channel ADC_CH.
  18:Src/PID.c     **** uint64_t Voltage(uint8_t ADC_CH)
  19:Src/PID.c     **** {
  83              		.loc 1 19 1 is_stmt 1 view -0
  84              		.cfi_startproc
  85              		@ args = 0, pretend = 0, frame = 0
  86              		@ frame_needed = 0, uses_anonymous_args = 0
  87              		.loc 1 19 1 is_stmt 0 view .LVU9
  88 0000 10B5     		push	{r4, lr}
  89              	.LCFI1:
  90              		.cfi_def_cfa_offset 8
  91              		.cfi_offset 4, -8
  92              		.cfi_offset 14, -4
  20:Src/PID.c     ****     return (((uint64_t)State.ADC_ValuesFiltered[ADC_CH] * 1800000) / 0xffffff);
  93              		.loc 1 20 5 is_stmt 1 view .LVU10
  94              		.loc 1 20 48 is_stmt 0 view .LVU11
  95 0002 2530     		adds	r0, r0, #37
  96              	.LVL5:
  97              		.loc 1 20 48 view .LVU12
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 3


  98 0004 FF30     		adds	r0, r0, #255
  99 0006 8000     		lsls	r0, r0, #2
 100 0008 054B     		ldr	r3, .L5
 101 000a C058     		ldr	r0, [r0, r3]
 102              		.loc 1 20 57 view .LVU13
 103 000c 054A     		ldr	r2, .L5+4
 104 000e 0023     		movs	r3, #0
 105 0010 0021     		movs	r1, #0
 106 0012 FFF7FEFF 		bl	__aeabi_lmul
 107              	.LVL6:
 108              		.loc 1 20 68 view .LVU14
 109 0016 044A     		ldr	r2, .L5+8
 110 0018 0023     		movs	r3, #0
 111 001a FFF7FEFF 		bl	__aeabi_uldivmod
 112              	.LVL7:
  21:Src/PID.c     **** };
 113              		.loc 1 21 1 view .LVU15
 114              		@ sp needed
 115 001e 10BD     		pop	{r4, pc}
 116              	.L6:
 117              		.align	2
 118              	.L5:
 119 0020 00000000 		.word	State
 120 0024 40771B00 		.word	1800000
 121 0028 FFFFFF00 		.word	16777215
 122              		.cfi_endproc
 123              	.LFE285:
 125              		.section	.text.Phase,"ax",%progbits
 126              		.align	1
 127              		.global	Phase
 128              		.syntax unified
 129              		.code	16
 130              		.thumb_func
 131              		.fpu softvfp
 133              	Phase:
 134              	.LVL8:
 135              	.LFB286:
  22:Src/PID.c     **** 
  23:Src/PID.c     **** //Returns Phase absolute value in [deg e-3] measured by adc channel ADC_CH.
  24:Src/PID.c     **** uint64_t Phase(uint8_t ADC_CH)
  25:Src/PID.c     **** {
 136              		.loc 1 25 1 is_stmt 1 view -0
 137              		.cfi_startproc
 138              		@ args = 0, pretend = 0, frame = 0
 139              		@ frame_needed = 0, uses_anonymous_args = 0
 140              		.loc 1 25 1 is_stmt 0 view .LVU17
 141 0000 10B5     		push	{r4, lr}
 142              	.LCFI2:
 143              		.cfi_def_cfa_offset 8
 144              		.cfi_offset 4, -8
 145              		.cfi_offset 14, -4
  26:Src/PID.c     ****     return (1800000000 - Voltage_nV(ADC_CH)) / 10000;
 146              		.loc 1 26 5 is_stmt 1 view .LVU18
 147              		.loc 1 26 26 is_stmt 0 view .LVU19
 148 0002 FFF7FEFF 		bl	Voltage_nV
 149              	.LVL9:
 150              		.loc 1 26 24 view .LVU20
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 4


 151 0006 054A     		ldr	r2, .L8
 152 0008 0023     		movs	r3, #0
 153 000a 121A     		subs	r2, r2, r0
 154 000c 8B41     		sbcs	r3, r3, r1
 155 000e 1000     		movs	r0, r2
 156 0010 1900     		movs	r1, r3
 157              		.loc 1 26 46 view .LVU21
 158 0012 034A     		ldr	r2, .L8+4
 159 0014 0023     		movs	r3, #0
 160 0016 FFF7FEFF 		bl	__aeabi_uldivmod
 161              	.LVL10:
  27:Src/PID.c     **** };
 162              		.loc 1 27 1 view .LVU22
 163              		@ sp needed
 164 001a 10BD     		pop	{r4, pc}
 165              	.L9:
 166              		.align	2
 167              	.L8:
 168 001c 00D2496B 		.word	1800000000
 169 0020 10270000 		.word	10000
 170              		.cfi_endproc
 171              	.LFE286:
 173              		.section	.text.Phase_u,"ax",%progbits
 174              		.align	1
 175              		.global	Phase_u
 176              		.syntax unified
 177              		.code	16
 178              		.thumb_func
 179              		.fpu softvfp
 181              	Phase_u:
 182              	.LVL11:
 183              	.LFB287:
  28:Src/PID.c     **** 
  29:Src/PID.c     **** //Returns Phase absolute value in [deg e-6] measured by adc channel ADC_CH.
  30:Src/PID.c     **** uint64_t Phase_u(uint8_t ADC_CH)
  31:Src/PID.c     **** {
 184              		.loc 1 31 1 is_stmt 1 view -0
 185              		.cfi_startproc
 186              		@ args = 0, pretend = 0, frame = 0
 187              		@ frame_needed = 0, uses_anonymous_args = 0
 188              		.loc 1 31 1 is_stmt 0 view .LVU24
 189 0000 10B5     		push	{r4, lr}
 190              	.LCFI3:
 191              		.cfi_def_cfa_offset 8
 192              		.cfi_offset 4, -8
 193              		.cfi_offset 14, -4
  32:Src/PID.c     ****     return (1800000000 - Voltage_nV(ADC_CH)) / 10;
 194              		.loc 1 32 5 is_stmt 1 view .LVU25
 195              		.loc 1 32 26 is_stmt 0 view .LVU26
 196 0002 FFF7FEFF 		bl	Voltage_nV
 197              	.LVL12:
 198              		.loc 1 32 24 view .LVU27
 199 0006 054A     		ldr	r2, .L11
 200 0008 0023     		movs	r3, #0
 201 000a 121A     		subs	r2, r2, r0
 202 000c 8B41     		sbcs	r3, r3, r1
 203 000e 1000     		movs	r0, r2
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 5


 204 0010 1900     		movs	r1, r3
 205              		.loc 1 32 46 view .LVU28
 206 0012 0A22     		movs	r2, #10
 207 0014 0023     		movs	r3, #0
 208 0016 FFF7FEFF 		bl	__aeabi_uldivmod
 209              	.LVL13:
  33:Src/PID.c     **** };
 210              		.loc 1 33 1 view .LVU29
 211              		@ sp needed
 212 001a 10BD     		pop	{r4, pc}
 213              	.L12:
 214              		.align	2
 215              	.L11:
 216 001c 00D2496B 		.word	1800000000
 217              		.cfi_endproc
 218              	.LFE287:
 220              		.section	.text.Temperature,"ax",%progbits
 221              		.align	1
 222              		.global	Temperature
 223              		.syntax unified
 224              		.code	16
 225              		.thumb_func
 226              		.fpu softvfp
 228              	Temperature:
 229              	.LFB288:
  34:Src/PID.c     **** 
  35:Src/PID.c     **** //Returns Temperature in [deg C e-3] measured by adc thermometer channel.
  36:Src/PID.c     **** int64_t Temperature()
  37:Src/PID.c     **** {
 230              		.loc 1 37 1 is_stmt 1 view -0
 231              		.cfi_startproc
 232              		@ args = 0, pretend = 0, frame = 0
 233              		@ frame_needed = 0, uses_anonymous_args = 0
 234 0000 10B5     		push	{r4, lr}
 235              	.LCFI4:
 236              		.cfi_def_cfa_offset 8
 237              		.cfi_offset 4, -8
 238              		.cfi_offset 14, -4
  38:Src/PID.c     ****     return (-45000000 - 175000000 / 8 + 17500 * Voltage(ADC_T_CH) / 264);
 239              		.loc 1 38 5 view .LVU31
 240              		.loc 1 38 49 is_stmt 0 view .LVU32
 241 0002 0720     		movs	r0, #7
 242 0004 FFF7FEFF 		bl	Voltage
 243              	.LVL14:
 244              		.loc 1 38 47 view .LVU33
 245 0008 074A     		ldr	r2, .L14
 246 000a 0023     		movs	r3, #0
 247 000c FFF7FEFF 		bl	__aeabi_lmul
 248              	.LVL15:
 249              		.loc 1 38 67 view .LVU34
 250 0010 8422     		movs	r2, #132
 251 0012 5200     		lsls	r2, r2, #1
 252 0014 0023     		movs	r3, #0
 253 0016 FFF7FEFF 		bl	__aeabi_uldivmod
 254              	.LVL16:
 255              		.loc 1 38 39 view .LVU35
 256 001a 044A     		ldr	r2, .L14+4
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 6


 257 001c 0123     		movs	r3, #1
 258 001e 5B42     		rsbs	r3, r3, #0
 259 0020 8018     		adds	r0, r0, r2
 260 0022 5941     		adcs	r1, r1, r3
  39:Src/PID.c     **** };
 261              		.loc 1 39 1 view .LVU36
 262              		@ sp needed
 263 0024 10BD     		pop	{r4, pc}
 264              	.L15:
 265 0026 C046     		.align	2
 266              	.L14:
 267 0028 5C440000 		.word	17500
 268 002c 889103FC 		.word	-66875000
 269              		.cfi_endproc
 270              	.LFE288:
 272              		.section	.text.Relative_Power,"ax",%progbits
 273              		.align	1
 274              		.global	Relative_Power
 275              		.syntax unified
 276              		.code	16
 277              		.thumb_func
 278              		.fpu softvfp
 280              	Relative_Power:
 281              	.LVL17:
 282              	.LFB289:
  40:Src/PID.c     **** 
  41:Src/PID.c     **** //Returns Relative Power in [dB e-3] measured by adc channel ADC_CH.
  42:Src/PID.c     **** int64_t Relative_Power(uint8_t ADC_CH)
  43:Src/PID.c     **** {
 283              		.loc 1 43 1 is_stmt 1 view -0
 284              		.cfi_startproc
 285              		@ args = 0, pretend = 0, frame = 0
 286              		@ frame_needed = 0, uses_anonymous_args = 0
 287              		.loc 1 43 1 is_stmt 0 view .LVU38
 288 0000 10B5     		push	{r4, lr}
 289              	.LCFI5:
 290              		.cfi_def_cfa_offset 8
 291              		.cfi_offset 4, -8
 292              		.cfi_offset 14, -4
  44:Src/PID.c     ****     return ((Voltage(ADC_CH) / 30) - 30000);
 293              		.loc 1 44 5 is_stmt 1 view .LVU39
 294              		.loc 1 44 14 is_stmt 0 view .LVU40
 295 0002 FFF7FEFF 		bl	Voltage
 296              	.LVL18:
 297              		.loc 1 44 30 view .LVU41
 298 0006 1E22     		movs	r2, #30
 299 0008 0023     		movs	r3, #0
 300 000a FFF7FEFF 		bl	__aeabi_uldivmod
 301              	.LVL19:
 302              		.loc 1 44 36 view .LVU42
 303 000e 034A     		ldr	r2, .L17
 304 0010 0123     		movs	r3, #1
 305 0012 5B42     		rsbs	r3, r3, #0
 306 0014 8018     		adds	r0, r0, r2
 307 0016 5941     		adcs	r1, r1, r3
  45:Src/PID.c     **** };
 308              		.loc 1 45 1 view .LVU43
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 7


 309              		@ sp needed
 310 0018 10BD     		pop	{r4, pc}
 311              	.L18:
 312 001a C046     		.align	2
 313              	.L17:
 314 001c D08AFFFF 		.word	-30000
 315              		.cfi_endproc
 316              	.LFE289:
 318              		.global	__aeabi_ldivmod
 319              		.section	.text.RMS_Power,"ax",%progbits
 320              		.align	1
 321              		.global	RMS_Power
 322              		.syntax unified
 323              		.code	16
 324              		.thumb_func
 325              		.fpu softvfp
 327              	RMS_Power:
 328              	.LVL20:
 329              	.LFB290:
  46:Src/PID.c     **** //Returns Power in [dBm  e-3] measured by adc channel ADC_CH.
  47:Src/PID.c     **** int64_t RMS_Power(uint8_t ADC_CH)
  48:Src/PID.c     **** {
 330              		.loc 1 48 1 is_stmt 1 view -0
 331              		.cfi_startproc
 332              		@ args = 0, pretend = 0, frame = 128
 333              		@ frame_needed = 0, uses_anonymous_args = 0
 334              		.loc 1 48 1 is_stmt 0 view .LVU45
 335 0000 10B5     		push	{r4, lr}
 336              	.LCFI6:
 337              		.cfi_def_cfa_offset 8
 338              		.cfi_offset 4, -8
 339              		.cfi_offset 14, -4
 340 0002 A0B0     		sub	sp, sp, #128
 341              	.LCFI7:
 342              		.cfi_def_cfa_offset 136
 343 0004 0400     		movs	r4, r0
  49:Src/PID.c     ****     const int64_t cal[16] = {0, 0, 0, 0, 399874, 0, 0, 0, 0, 448454, 427524, 0, 0, 0, 0, 408285}; /
 344              		.loc 1 49 5 is_stmt 1 view .LVU46
 345              		.loc 1 49 19 is_stmt 0 view .LVU47
 346 0006 8022     		movs	r2, #128
 347 0008 0B49     		ldr	r1, .L20
 348 000a 6846     		mov	r0, sp
 349              	.LVL21:
 350              		.loc 1 49 19 view .LVU48
 351 000c FFF7FEFF 		bl	memcpy
 352              	.LVL22:
  50:Src/PID.c     ****     return (int64_t)(Voltage(ADC_CH) - cal[ADC_CH]) / 20 - 65000;
 353              		.loc 1 50 5 is_stmt 1 view .LVU49
 354              		.loc 1 50 22 is_stmt 0 view .LVU50
 355 0010 2000     		movs	r0, r4
 356 0012 FFF7FEFF 		bl	Voltage
 357              	.LVL23:
 358              		.loc 1 50 43 view .LVU51
 359 0016 E400     		lsls	r4, r4, #3
 360 0018 6C44     		add	r4, r4, sp
 361 001a 2268     		ldr	r2, [r4]
 362 001c 6368     		ldr	r3, [r4, #4]
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 8


 363              		.loc 1 50 38 view .LVU52
 364 001e 801A     		subs	r0, r0, r2
 365 0020 9941     		sbcs	r1, r1, r3
 366              		.loc 1 50 53 view .LVU53
 367 0022 1422     		movs	r2, #20
 368 0024 0023     		movs	r3, #0
 369 0026 FFF7FEFF 		bl	__aeabi_ldivmod
 370              	.LVL24:
 371              		.loc 1 50 58 view .LVU54
 372 002a 044A     		ldr	r2, .L20+4
 373 002c 0123     		movs	r3, #1
 374 002e 5B42     		rsbs	r3, r3, #0
 375 0030 8018     		adds	r0, r0, r2
 376 0032 5941     		adcs	r1, r1, r3
  51:Src/PID.c     **** };
 377              		.loc 1 51 1 view .LVU55
 378 0034 20B0     		add	sp, sp, #128
 379              		@ sp needed
 380 0036 10BD     		pop	{r4, pc}
 381              	.L21:
 382              		.align	2
 383              	.L20:
 384 0038 00000000 		.word	.LC0
 385 003c 1802FFFF 		.word	-65000
 386              		.cfi_endproc
 387              	.LFE290:
 389              		.section	.rodata.Calib352.str1.4,"aMS",%progbits,1
 390              		.align	2
 391              	.LC4:
 392 0000 5B43414C 		.ascii	"[CALIBRATION] ...\000"
 392      49425241 
 392      54494F4E 
 392      5D202E2E 
 392      2E00
 393 0012 0000     		.align	2
 394              	.LC8:
 395 0014 08080850 		.ascii	"\010\010\010PD3+PD4 SETPOINT: %li\012\000"
 395      44332B50 
 395      44342053 
 395      4554504F 
 395      494E543A 
 396 002e 0000     		.align	2
 397              	.LC10:
 398 0030 5B43414C 		.ascii	"[CALIBRATION] PD3 SLOPE: %i\012\000"
 398      49425241 
 398      54494F4E 
 398      5D205044 
 398      3320534C 
 399 004d 000000   		.align	2
 400              	.LC12:
 401 0050 5B43414C 		.ascii	"[CALIBRATION] PD4 SLOPE: %i\012\000"
 401      49425241 
 401      54494F4E 
 401      5D205044 
 401      3420534C 
 402 006d 000000   		.align	2
 403              	.LC14:
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 9


 404 0070 5B43414C 		.ascii	"[CALIBRATION] PS352 OFFSET: %u\012\000"
 404      49425241 
 404      54494F4E 
 404      5D205053 
 404      33353220 
 405              		.section	.text.Calib352,"ax",%progbits
 406              		.align	1
 407              		.global	Calib352
 408              		.syntax unified
 409              		.code	16
 410              		.thumb_func
 411              		.fpu softvfp
 413              	Calib352:
 414              	.LFB291:
  52:Src/PID.c     **** 
  53:Src/PID.c     **** //Determines optimal setpoints of Phase shifters, detectors slopes
  54:Src/PID.c     **** void Calib352()
  55:Src/PID.c     **** {
 415              		.loc 1 55 1 is_stmt 1 view -0
 416              		.cfi_startproc
 417              		@ args = 0, pretend = 0, frame = 128
 418              		@ frame_needed = 0, uses_anonymous_args = 0
 419 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 420              	.LCFI8:
 421              		.cfi_def_cfa_offset 20
 422              		.cfi_offset 4, -20
 423              		.cfi_offset 5, -16
 424              		.cfi_offset 6, -12
 425              		.cfi_offset 7, -8
 426              		.cfi_offset 14, -4
 427 0002 DE46     		mov	lr, fp
 428 0004 5746     		mov	r7, r10
 429 0006 4E46     		mov	r6, r9
 430 0008 4546     		mov	r5, r8
 431 000a E0B5     		push	{r5, r6, r7, lr}
 432              	.LCFI9:
 433              		.cfi_def_cfa_offset 36
 434              		.cfi_offset 8, -36
 435              		.cfi_offset 9, -32
 436              		.cfi_offset 10, -28
 437              		.cfi_offset 11, -24
 438 000c A1B0     		sub	sp, sp, #132
 439              	.LCFI10:
 440              		.cfi_def_cfa_offset 168
 441              	.LBB2:
  56:Src/PID.c     ****     SERIAL_WRITE("[CALIBRATION] ...")
 442              		.loc 1 56 5 view .LVU57
 443 000e 07AC     		add	r4, sp, #28
 444 0010 6022     		movs	r2, #96
 445 0012 0021     		movs	r1, #0
 446 0014 08A8     		add	r0, sp, #32
 447 0016 FFF7FEFF 		bl	memset
 448              	.LVL25:
 449              		.loc 1 56 5 view .LVU58
 450 001a 9B4B     		ldr	r3, .L37
 451 001c 2200     		movs	r2, r4
 452 001e 23CB     		ldmia	r3!, {r0, r1, r5}
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 10


 453 0020 23C2     		stmia	r2!, {r0, r1, r5}
 454 0022 1968     		ldr	r1, [r3]
 455 0024 1160     		str	r1, [r2]
 456 0026 9B88     		ldrh	r3, [r3, #4]
 457 0028 9380     		strh	r3, [r2, #4]
 458              	.LVL26:
 459              		.loc 1 56 5 view .LVU59
 460 002a FA23     		movs	r3, #250
 461 002c 9B00     		lsls	r3, r3, #2
 462 002e 1122     		movs	r2, #17
 463 0030 2100     		movs	r1, r4
 464 0032 9648     		ldr	r0, .L37+4
 465 0034 FFF7FEFF 		bl	HAL_UART_Transmit
 466              	.LVL27:
 467              	.LBE2:
  57:Src/PID.c     ****     DAC_cmd(RF_PS_352_OFFSET + DAC_WRITE + 0);
 468              		.loc 1 57 5 view .LVU60
 469 0038 A020     		movs	r0, #160
 470 003a 4003     		lsls	r0, r0, #13
 471 003c FFF7FEFF 		bl	DAC_cmd
 472              	.LVL28:
  58:Src/PID.c     ****     DAC_cmd(RF_PS_352_FINE + DAC_WRITE + 0x7fff);
 473              		.loc 1 58 5 view .LVU61
 474 0040 9348     		ldr	r0, .L37+8
 475 0042 FFF7FEFF 		bl	DAC_cmd
 476              	.LVL29:
  59:Src/PID.c     ****     State.PD3_PD4_MSE = 16200000000;
 477              		.loc 1 59 5 view .LVU62
 478              		.loc 1 59 23 is_stmt 0 view .LVU63
 479 0046 934B     		ldr	r3, .L37+12
 480 0048 A022     		movs	r2, #160
 481 004a D200     		lsls	r2, r2, #3
 482 004c 9446     		mov	ip, r2
 483 004e 6344     		add	r3, r3, ip
 484 0050 9148     		ldr	r0, .L37+16
 485 0052 0321     		movs	r1, #3
 486 0054 1860     		str	r0, [r3]
 487 0056 5960     		str	r1, [r3, #4]
  60:Src/PID.c     ****     uint64_t prevPhase3 = 0;
 488              		.loc 1 60 5 is_stmt 1 view .LVU64
 489              	.LVL30:
  61:Src/PID.c     ****     uint64_t prevPhase4 = 0;
 490              		.loc 1 61 5 view .LVU65
  62:Src/PID.c     ****     for (uint32_t PS = 0; PS < 0xffff; PS += 0x0700)
 491              		.loc 1 62 5 view .LVU66
 492              	.LBB3:
 493              		.loc 1 62 10 view .LVU67
 494              		.loc 1 62 19 is_stmt 0 view .LVU68
 495 0058 0023     		movs	r3, #0
 496 005a 9946     		mov	r9, r3
 497              	.LBE3:
  61:Src/PID.c     ****     uint64_t prevPhase4 = 0;
 498              		.loc 1 61 14 view .LVU69
 499 005c 0593     		str	r3, [sp, #20]
 500 005e 9B46     		mov	fp, r3
  60:Src/PID.c     ****     uint64_t prevPhase3 = 0;
 501              		.loc 1 60 14 view .LVU70
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 11


 502 0060 0493     		str	r3, [sp, #16]
 503 0062 9A46     		mov	r10, r3
 504              	.LBB7:
 505              		.loc 1 62 5 view .LVU71
 506 0064 29E0     		b	.L23
 507              	.LVL31:
 508              	.L31:
 509              	.LBB4:
  63:Src/PID.c     ****     {
  64:Src/PID.c     ****         DAC_cmd(RF_PS_352_OFFSET + DAC_WRITE + PS);
  65:Src/PID.c     ****         HAL_Delay(100);
  66:Src/PID.c     ****         uint64_t Phase3 = (1800000 - (((uint64_t)State.ADC_Values[ADC_PD3_Phase_CH] * 1800000) / 0x
  67:Src/PID.c     ****         uint64_t Phase4 = (1800000 - (((uint64_t)State.ADC_Values[ADC_PD4_Phase_CH] * 1800000) / 0x
  68:Src/PID.c     **** 
  69:Src/PID.c     ****         int64_t error3 = 90000 - Phase3;
  70:Src/PID.c     ****         int64_t error4 = 90000 - Phase4;
  71:Src/PID.c     ****         int64_t MSE352 = error3 * error3 + error4 * error4;
  72:Src/PID.c     **** 
  73:Src/PID.c     ****         if (MSE352 < State.PD3_PD4_MSE)
  74:Src/PID.c     ****         {
  75:Src/PID.c     ****             // SERIAL_WRITE("Phase3: %lu\n", Phase3);
  76:Src/PID.c     ****             // SERIAL_WRITE("Phase4: %lu\n", Phase4);
  77:Src/PID.c     ****             // SERIAL_WRITE("error3: %li\n", error3);
  78:Src/PID.c     ****             // SERIAL_WRITE("error3: %li\n", error4);
  79:Src/PID.c     ****             // SERIAL_WRITE("MSE352: %li\n\n", MSE352);
  80:Src/PID.c     **** 
  81:Src/PID.c     ****             State.PD3_PD4_Offset = PS;
  82:Src/PID.c     ****             State.PD3_PD4_MSE = MSE352;
  83:Src/PID.c     ****             State.PD3_Slope = prevPhase3 < Phase3 ? 1 : -1;
 510              		.loc 1 83 29 view .LVU72
 511 0066 0120     		movs	r0, #1
 512              	.LVL32:
 513              		.loc 1 83 29 view .LVU73
 514 0068 4042     		rsbs	r0, r0, #0
 515 006a 9EE0     		b	.L26
 516              	.LVL33:
 517              	.L35:
  84:Src/PID.c     ****             State.PD4_Slope = prevPhase4 < Phase4 ? 1 : -1;
 518              		.loc 1 84 29 view .LVU74
 519 006c 0123     		movs	r3, #1
 520 006e 9A46     		mov	r10, r3
 521              	.LVL34:
 522              	.L28:
 523              		.loc 1 84 29 discriminator 4 view .LVU75
 524 0070 884B     		ldr	r3, .L37+12
 525 0072 9846     		mov	r8, r3
 526 0074 894B     		ldr	r3, .L37+20
 527 0076 4246     		mov	r2, r8
 528              		.loc 1 84 29 discriminator 4 view .LVU76
 529 0078 5146     		mov	r1, r10
 530 007a D154     		strb	r1, [r2, r3]
  85:Src/PID.c     ****             State.PD3_PD4_SetPoint = State.PD3_Slope * Phase3 + State.PD4_Slope * Phase4;
 531              		.loc 1 85 13 is_stmt 1 discriminator 4 view .LVU77
 532              		.loc 1 85 43 is_stmt 0 discriminator 4 view .LVU78
 533 007c C117     		asrs	r1, r0, #31
 534              		.loc 1 85 54 discriminator 4 view .LVU79
 535 007e 009A     		ldr	r2, [sp]
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 12


 536 0080 019B     		ldr	r3, [sp, #4]
 537              	.LVL35:
 538              		.loc 1 85 54 discriminator 4 view .LVU80
 539 0082 FFF7FEFF 		bl	__aeabi_lmul
 540              	.LVL36:
 541              		.loc 1 85 54 discriminator 4 view .LVU81
 542 0086 0400     		movs	r4, r0
 543              	.LVL37:
 544              		.loc 1 85 54 discriminator 4 view .LVU82
 545 0088 0D00     		movs	r5, r1
 546              		.loc 1 85 70 discriminator 4 view .LVU83
 547 008a 5346     		mov	r3, r10
 548 008c D917     		asrs	r1, r3, #31
 549              		.loc 1 85 81 discriminator 4 view .LVU84
 550 008e 3200     		movs	r2, r6
 551 0090 3B00     		movs	r3, r7
 552 0092 5046     		mov	r0, r10
 553 0094 FFF7FEFF 		bl	__aeabi_lmul
 554              	.LVL38:
 555              		.loc 1 85 63 discriminator 4 view .LVU85
 556 0098 2418     		adds	r4, r4, r0
 557 009a 4D41     		adcs	r5, r5, r1
 558              		.loc 1 85 36 discriminator 4 view .LVU86
 559 009c 9E23     		movs	r3, #158
 560 009e DB00     		lsls	r3, r3, #3
 561 00a0 4344     		add	r3, r3, r8
 562 00a2 1C60     		str	r4, [r3]
 563 00a4 5D60     		str	r5, [r3, #4]
 564              	.L24:
  86:Src/PID.c     ****         }
  87:Src/PID.c     ****         prevPhase3 = Phase3;
 565              		.loc 1 87 9 is_stmt 1 discriminator 2 view .LVU87
 566              	.LVL39:
  88:Src/PID.c     ****         prevPhase4 = Phase4;
 567              		.loc 1 88 9 discriminator 2 view .LVU88
 568              		.loc 1 88 9 is_stmt 0 discriminator 2 view .LVU89
 569              	.LBE4:
  62:Src/PID.c     ****     {
 570              		.loc 1 62 40 is_stmt 1 discriminator 2 view .LVU90
  62:Src/PID.c     ****     {
 571              		.loc 1 62 43 is_stmt 0 discriminator 2 view .LVU91
 572 00a6 E023     		movs	r3, #224
 573 00a8 DB00     		lsls	r3, r3, #3
 574 00aa 9C46     		mov	ip, r3
 575 00ac E144     		add	r9, r9, ip
 576              	.LVL40:
 577              	.LBB5:
 578              		.loc 1 88 20 discriminator 2 view .LVU92
 579 00ae 0596     		str	r6, [sp, #20]
 580 00b0 BB46     		mov	fp, r7
  87:Src/PID.c     ****         prevPhase4 = Phase4;
 581              		.loc 1 87 20 discriminator 2 view .LVU93
 582 00b2 009B     		ldr	r3, [sp]
 583 00b4 019C     		ldr	r4, [sp, #4]
 584 00b6 0493     		str	r3, [sp, #16]
 585 00b8 A246     		mov	r10, r4
 586              	.LVL41:
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 13


 587              	.L23:
  87:Src/PID.c     ****         prevPhase4 = Phase4;
 588              		.loc 1 87 20 discriminator 2 view .LVU94
 589              	.LBE5:
  62:Src/PID.c     ****     {
 590              		.loc 1 62 27 is_stmt 1 discriminator 1 view .LVU95
  62:Src/PID.c     ****     {
 591              		.loc 1 62 5 is_stmt 0 discriminator 1 view .LVU96
 592 00ba 794B     		ldr	r3, .L37+24
 593 00bc 9945     		cmp	r9, r3
 594 00be 00D9     		bls	.LCB446
 595 00c0 82E0     		b	.L36	@long jump
 596              	.LCB446:
 597              	.LBB6:
  64:Src/PID.c     ****         HAL_Delay(100);
 598              		.loc 1 64 9 is_stmt 1 view .LVU97
 599 00c2 A020     		movs	r0, #160
 600 00c4 4003     		lsls	r0, r0, #13
 601 00c6 4844     		add	r0, r0, r9
 602 00c8 FFF7FEFF 		bl	DAC_cmd
 603              	.LVL42:
  65:Src/PID.c     ****         uint64_t Phase3 = (1800000 - (((uint64_t)State.ADC_Values[ADC_PD3_Phase_CH] * 1800000) / 0x
 604              		.loc 1 65 9 view .LVU98
 605 00cc 6420     		movs	r0, #100
 606 00ce FFF7FEFF 		bl	HAL_Delay
 607              	.LVL43:
  66:Src/PID.c     ****         uint64_t Phase4 = (1800000 - (((uint64_t)State.ADC_Values[ADC_PD4_Phase_CH] * 1800000) / 0x
 608              		.loc 1 66 9 view .LVU99
  66:Src/PID.c     ****         uint64_t Phase4 = (1800000 - (((uint64_t)State.ADC_Values[ADC_PD4_Phase_CH] * 1800000) / 0x
 609              		.loc 1 66 66 is_stmt 0 view .LVU100
 610 00d2 704B     		ldr	r3, .L37+12
 611 00d4 9846     		mov	r8, r3
 612 00d6 8823     		movs	r3, #136
 613 00d8 4246     		mov	r2, r8
 614 00da D058     		ldr	r0, [r2, r3]
  66:Src/PID.c     ****         uint64_t Phase4 = (1800000 - (((uint64_t)State.ADC_Values[ADC_PD4_Phase_CH] * 1800000) / 0x
 615              		.loc 1 66 85 view .LVU101
 616 00dc 714A     		ldr	r2, .L37+28
 617 00de 0023     		movs	r3, #0
 618 00e0 0021     		movs	r1, #0
 619 00e2 FFF7FEFF 		bl	__aeabi_lmul
 620              	.LVL44:
  66:Src/PID.c     ****         uint64_t Phase4 = (1800000 - (((uint64_t)State.ADC_Values[ADC_PD4_Phase_CH] * 1800000) / 0x
 621              		.loc 1 66 96 view .LVU102
 622 00e6 704A     		ldr	r2, .L37+32
 623 00e8 0023     		movs	r3, #0
 624 00ea FFF7FEFF 		bl	__aeabi_uldivmod
 625              	.LVL45:
  66:Src/PID.c     ****         uint64_t Phase4 = (1800000 - (((uint64_t)State.ADC_Values[ADC_PD4_Phase_CH] * 1800000) / 0x
 626              		.loc 1 66 36 view .LVU103
 627 00ee 6D4C     		ldr	r4, .L37+28
 628 00f0 0025     		movs	r5, #0
 629 00f2 2200     		movs	r2, r4
 630 00f4 2B00     		movs	r3, r5
 631 00f6 121A     		subs	r2, r2, r0
 632 00f8 8B41     		sbcs	r3, r3, r1
 633 00fa 1000     		movs	r0, r2
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 14


 634 00fc 1900     		movs	r1, r3
  66:Src/PID.c     ****         uint64_t Phase4 = (1800000 - (((uint64_t)State.ADC_Values[ADC_PD4_Phase_CH] * 1800000) / 0x
 635              		.loc 1 66 18 view .LVU104
 636 00fe 0A22     		movs	r2, #10
 637 0100 0023     		movs	r3, #0
 638 0102 FFF7FEFF 		bl	__aeabi_uldivmod
 639              	.LVL46:
 640 0106 0090     		str	r0, [sp]
 641 0108 0191     		str	r1, [sp, #4]
 642              	.LVL47:
  67:Src/PID.c     **** 
 643              		.loc 1 67 9 is_stmt 1 view .LVU105
  67:Src/PID.c     **** 
 644              		.loc 1 67 85 is_stmt 0 view .LVU106
 645 010a 2200     		movs	r2, r4
 646 010c 2B00     		movs	r3, r5
 647 010e 4146     		mov	r1, r8
 648 0110 886D     		ldr	r0, [r1, #88]
 649 0112 0021     		movs	r1, #0
 650 0114 FFF7FEFF 		bl	__aeabi_lmul
 651              	.LVL48:
  67:Src/PID.c     **** 
 652              		.loc 1 67 96 view .LVU107
 653 0118 634A     		ldr	r2, .L37+32
 654 011a 0023     		movs	r3, #0
 655 011c FFF7FEFF 		bl	__aeabi_uldivmod
 656              	.LVL49:
  67:Src/PID.c     **** 
 657              		.loc 1 67 36 view .LVU108
 658 0120 241A     		subs	r4, r4, r0
 659 0122 8D41     		sbcs	r5, r5, r1
 660 0124 2000     		movs	r0, r4
 661 0126 2900     		movs	r1, r5
  67:Src/PID.c     **** 
 662              		.loc 1 67 18 view .LVU109
 663 0128 0A22     		movs	r2, #10
 664 012a 0023     		movs	r3, #0
 665 012c FFF7FEFF 		bl	__aeabi_uldivmod
 666              	.LVL50:
 667 0130 0600     		movs	r6, r0
 668 0132 0F00     		movs	r7, r1
 669              	.LVL51:
  69:Src/PID.c     ****         int64_t error4 = 90000 - Phase4;
 670              		.loc 1 69 9 is_stmt 1 view .LVU110
  69:Src/PID.c     ****         int64_t error4 = 90000 - Phase4;
 671              		.loc 1 69 32 is_stmt 0 view .LVU111
 672 0134 5D4C     		ldr	r4, .L37+36
 673 0136 0025     		movs	r5, #0
 674 0138 2000     		movs	r0, r4
 675 013a 2900     		movs	r1, r5
 676 013c 009A     		ldr	r2, [sp]
 677 013e 019B     		ldr	r3, [sp, #4]
 678 0140 801A     		subs	r0, r0, r2
 679 0142 9941     		sbcs	r1, r1, r3
 680              	.LVL52:
  70:Src/PID.c     ****         int64_t MSE352 = error3 * error3 + error4 * error4;
 681              		.loc 1 70 9 is_stmt 1 view .LVU112
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 15


  70:Src/PID.c     ****         int64_t MSE352 = error3 * error3 + error4 * error4;
 682              		.loc 1 70 32 is_stmt 0 view .LVU113
 683 0144 A41B     		subs	r4, r4, r6
 684 0146 BD41     		sbcs	r5, r5, r7
 685              	.LVL53:
  71:Src/PID.c     **** 
 686              		.loc 1 71 9 is_stmt 1 view .LVU114
  71:Src/PID.c     **** 
 687              		.loc 1 71 33 is_stmt 0 view .LVU115
 688 0148 0200     		movs	r2, r0
 689 014a 0B00     		movs	r3, r1
 690 014c FFF7FEFF 		bl	__aeabi_lmul
 691              	.LVL54:
  71:Src/PID.c     **** 
 692              		.loc 1 71 33 view .LVU116
 693 0150 0290     		str	r0, [sp, #8]
 694 0152 0391     		str	r1, [sp, #12]
  71:Src/PID.c     **** 
 695              		.loc 1 71 51 view .LVU117
 696 0154 2200     		movs	r2, r4
 697 0156 2B00     		movs	r3, r5
 698 0158 2000     		movs	r0, r4
 699 015a 2900     		movs	r1, r5
 700 015c FFF7FEFF 		bl	__aeabi_lmul
 701              	.LVL55:
  71:Src/PID.c     **** 
 702              		.loc 1 71 17 view .LVU118
 703 0160 029B     		ldr	r3, [sp, #8]
 704 0162 039C     		ldr	r4, [sp, #12]
 705 0164 1B18     		adds	r3, r3, r0
 706 0166 4C41     		adcs	r4, r4, r1
 707 0168 1800     		movs	r0, r3
 708 016a 2100     		movs	r1, r4
 709              	.LVL56:
  73:Src/PID.c     ****         {
 710              		.loc 1 73 9 is_stmt 1 view .LVU119
  73:Src/PID.c     ****         {
 711              		.loc 1 73 27 is_stmt 0 view .LVU120
 712 016c A023     		movs	r3, #160
 713 016e DB00     		lsls	r3, r3, #3
 714 0170 4344     		add	r3, r3, r8
 715 0172 1A68     		ldr	r2, [r3]
 716 0174 5B68     		ldr	r3, [r3, #4]
  73:Src/PID.c     ****         {
 717              		.loc 1 73 12 view .LVU121
 718 0176 A342     		cmp	r3, r4
 719 0178 02DC     		bgt	.L33
 720 017a 94D1     		bne	.L24
 721 017c 8242     		cmp	r2, r0
 722 017e 92D9     		bls	.L24
 723              	.L33:
  81:Src/PID.c     ****             State.PD3_PD4_MSE = MSE352;
 724              		.loc 1 81 13 is_stmt 1 view .LVU122
  81:Src/PID.c     ****             State.PD3_PD4_MSE = MSE352;
 725              		.loc 1 81 34 is_stmt 0 view .LVU123
 726 0180 444B     		ldr	r3, .L37+12
 727 0182 9F22     		movs	r2, #159
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 16


 728 0184 D200     		lsls	r2, r2, #3
 729 0186 4C46     		mov	r4, r9
 730              	.LVL57:
  81:Src/PID.c     ****             State.PD3_PD4_MSE = MSE352;
 731              		.loc 1 81 34 view .LVU124
 732 0188 9C50     		str	r4, [r3, r2]
  82:Src/PID.c     ****             State.PD3_Slope = prevPhase3 < Phase3 ? 1 : -1;
 733              		.loc 1 82 13 is_stmt 1 view .LVU125
  82:Src/PID.c     ****             State.PD3_Slope = prevPhase3 < Phase3 ? 1 : -1;
 734              		.loc 1 82 31 is_stmt 0 view .LVU126
 735 018a 0832     		adds	r2, r2, #8
 736 018c 9446     		mov	ip, r2
 737 018e 6344     		add	r3, r3, ip
 738 0190 1860     		str	r0, [r3]
 739 0192 5960     		str	r1, [r3, #4]
  83:Src/PID.c     ****             State.PD4_Slope = prevPhase4 < Phase4 ? 1 : -1;
 740              		.loc 1 83 13 is_stmt 1 view .LVU127
  83:Src/PID.c     ****             State.PD4_Slope = prevPhase4 < Phase4 ? 1 : -1;
 741              		.loc 1 83 29 is_stmt 0 view .LVU128
 742 0194 009B     		ldr	r3, [sp]
 743 0196 019C     		ldr	r4, [sp, #4]
 744 0198 5445     		cmp	r4, r10
 745 019a 05D8     		bhi	.L34
 746              	.LVL58:
  83:Src/PID.c     ****             State.PD4_Slope = prevPhase4 < Phase4 ? 1 : -1;
 747              		.loc 1 83 29 view .LVU129
 748 019c 00D0     		beq	.LCB567
 749 019e 62E7     		b	.L31	@long jump
 750              	.LCB567:
 751 01a0 049A     		ldr	r2, [sp, #16]
 752 01a2 9342     		cmp	r3, r2
 753 01a4 00D8     		bhi	.LCB570
 754 01a6 5EE7     		b	.L31	@long jump
 755              	.LCB570:
 756              	.L34:
 757 01a8 0120     		movs	r0, #1
 758              	.LVL59:
 759              	.L26:
  83:Src/PID.c     ****             State.PD4_Slope = prevPhase4 < Phase4 ? 1 : -1;
 760              		.loc 1 83 29 discriminator 4 view .LVU130
 761 01aa 3A4A     		ldr	r2, .L37+12
 762 01ac 404B     		ldr	r3, .L37+40
 763 01ae D054     		strb	r0, [r2, r3]
  84:Src/PID.c     ****             State.PD3_PD4_SetPoint = State.PD3_Slope * Phase3 + State.PD4_Slope * Phase4;
 764              		.loc 1 84 13 is_stmt 1 discriminator 4 view .LVU131
  84:Src/PID.c     ****             State.PD3_PD4_SetPoint = State.PD3_Slope * Phase3 + State.PD4_Slope * Phase4;
 765              		.loc 1 84 29 is_stmt 0 discriminator 4 view .LVU132
 766 01b0 5F45     		cmp	r7, fp
 767 01b2 00D9     		bls	.LCB581
 768 01b4 5AE7     		b	.L35	@long jump
 769              	.LCB581:
 770 01b6 03D1     		bne	.L32
 771 01b8 059B     		ldr	r3, [sp, #20]
 772 01ba 9E42     		cmp	r6, r3
 773 01bc 00D9     		bls	.LCB586
 774 01be 55E7     		b	.L35	@long jump
 775              	.LCB586:
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 17


 776              	.L32:
  84:Src/PID.c     ****             State.PD3_PD4_SetPoint = State.PD3_Slope * Phase3 + State.PD4_Slope * Phase4;
 777              		.loc 1 84 29 view .LVU133
 778 01c0 0123     		movs	r3, #1
 779 01c2 5B42     		rsbs	r3, r3, #0
 780 01c4 9A46     		mov	r10, r3
 781              	.LVL60:
  84:Src/PID.c     ****             State.PD3_PD4_SetPoint = State.PD3_Slope * Phase3 + State.PD4_Slope * Phase4;
 782              		.loc 1 84 29 view .LVU134
 783 01c6 53E7     		b	.L28
 784              	.LVL61:
 785              	.L36:
  84:Src/PID.c     ****             State.PD3_PD4_SetPoint = State.PD3_Slope * Phase3 + State.PD4_Slope * Phase4;
 786              		.loc 1 84 29 view .LVU135
 787              	.LBE6:
 788              	.LBE7:
 789              	.LBB8:
  89:Src/PID.c     ****     }
  90:Src/PID.c     ****     SERIAL_WRITE("\b\b\bPD3+PD4 SETPOINT: %li\n", State.PD3_PD4_SetPoint);
 790              		.loc 1 90 5 is_stmt 1 view .LVU136
 791 01c8 0027     		movs	r7, #0
 792 01ca 0797     		str	r7, [sp, #28]
 793 01cc 6022     		movs	r2, #96
 794 01ce 0021     		movs	r1, #0
 795 01d0 08A8     		add	r0, sp, #32
 796 01d2 FFF7FEFF 		bl	memset
 797              	.LVL62:
 798              		.loc 1 90 5 view .LVU137
 799 01d6 2F4C     		ldr	r4, .L37+12
 800 01d8 9E23     		movs	r3, #158
 801 01da DB00     		lsls	r3, r3, #3
 802 01dc E318     		adds	r3, r4, r3
 803 01de 1A68     		ldr	r2, [r3]
 804 01e0 5B68     		ldr	r3, [r3, #4]
 805 01e2 3449     		ldr	r1, .L37+44
 806 01e4 07A8     		add	r0, sp, #28
 807 01e6 FFF7FEFF 		bl	sprintf
 808              	.LVL63:
 809              		.loc 1 90 5 view .LVU138
 810 01ea FA26     		movs	r6, #250
 811 01ec B600     		lsls	r6, r6, #2
 812 01ee 82B2     		uxth	r2, r0
 813 01f0 264D     		ldr	r5, .L37+4
 814 01f2 3300     		movs	r3, r6
 815 01f4 07A9     		add	r1, sp, #28
 816 01f6 2800     		movs	r0, r5
 817              	.LVL64:
 818              		.loc 1 90 5 is_stmt 0 view .LVU139
 819 01f8 FFF7FEFF 		bl	HAL_UART_Transmit
 820              	.LVL65:
 821              	.LBE8:
 822              		.loc 1 90 74 is_stmt 1 view .LVU140
 823              	.LBB9:
  91:Src/PID.c     ****     SERIAL_WRITE("[CALIBRATION] PD3 SLOPE: %i\n", State.PD3_Slope);
 824              		.loc 1 91 5 view .LVU141
 825 01fc 0797     		str	r7, [sp, #28]
 826 01fe 6022     		movs	r2, #96
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 18


 827 0200 0021     		movs	r1, #0
 828 0202 08A8     		add	r0, sp, #32
 829 0204 FFF7FEFF 		bl	memset
 830              	.LVL66:
 831              		.loc 1 91 5 view .LVU142
 832 0208 294B     		ldr	r3, .L37+40
 833 020a E256     		ldrsb	r2, [r4, r3]
 834 020c 2A49     		ldr	r1, .L37+48
 835 020e 07A8     		add	r0, sp, #28
 836 0210 FFF7FEFF 		bl	sprintf
 837              	.LVL67:
 838              		.loc 1 91 5 view .LVU143
 839 0214 82B2     		uxth	r2, r0
 840 0216 3300     		movs	r3, r6
 841 0218 07A9     		add	r1, sp, #28
 842 021a 2800     		movs	r0, r5
 843              	.LVL68:
 844              		.loc 1 91 5 is_stmt 0 view .LVU144
 845 021c FFF7FEFF 		bl	HAL_UART_Transmit
 846              	.LVL69:
 847              	.LBE9:
 848              		.loc 1 91 67 is_stmt 1 view .LVU145
 849              	.LBB10:
  92:Src/PID.c     ****     SERIAL_WRITE("[CALIBRATION] PD4 SLOPE: %i\n", State.PD4_Slope);
 850              		.loc 1 92 5 view .LVU146
 851 0220 0797     		str	r7, [sp, #28]
 852 0222 6022     		movs	r2, #96
 853 0224 0021     		movs	r1, #0
 854 0226 08A8     		add	r0, sp, #32
 855 0228 FFF7FEFF 		bl	memset
 856              	.LVL70:
 857              		.loc 1 92 5 view .LVU147
 858 022c 1B4B     		ldr	r3, .L37+20
 859 022e E256     		ldrsb	r2, [r4, r3]
 860 0230 2249     		ldr	r1, .L37+52
 861 0232 07A8     		add	r0, sp, #28
 862 0234 FFF7FEFF 		bl	sprintf
 863              	.LVL71:
 864              		.loc 1 92 5 view .LVU148
 865 0238 82B2     		uxth	r2, r0
 866 023a 3300     		movs	r3, r6
 867 023c 07A9     		add	r1, sp, #28
 868 023e 2800     		movs	r0, r5
 869              	.LVL72:
 870              		.loc 1 92 5 is_stmt 0 view .LVU149
 871 0240 FFF7FEFF 		bl	HAL_UART_Transmit
 872              	.LVL73:
 873              	.LBE10:
 874              		.loc 1 92 67 is_stmt 1 view .LVU150
 875              	.LBB11:
  93:Src/PID.c     ****     SERIAL_WRITE("[CALIBRATION] PS352 OFFSET: %u\n", State.PD3_PD4_Offset);
 876              		.loc 1 93 5 view .LVU151
 877 0244 0797     		str	r7, [sp, #28]
 878 0246 6022     		movs	r2, #96
 879 0248 0021     		movs	r1, #0
 880 024a 08A8     		add	r0, sp, #32
 881 024c FFF7FEFF 		bl	memset
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 19


 882              	.LVL74:
 883              		.loc 1 93 5 view .LVU152
 884 0250 9F27     		movs	r7, #159
 885 0252 FF00     		lsls	r7, r7, #3
 886 0254 E259     		ldr	r2, [r4, r7]
 887 0256 1A49     		ldr	r1, .L37+56
 888 0258 07A8     		add	r0, sp, #28
 889 025a FFF7FEFF 		bl	sprintf
 890              	.LVL75:
 891              		.loc 1 93 5 view .LVU153
 892 025e 82B2     		uxth	r2, r0
 893 0260 3300     		movs	r3, r6
 894 0262 07A9     		add	r1, sp, #28
 895 0264 2800     		movs	r0, r5
 896              	.LVL76:
 897              		.loc 1 93 5 is_stmt 0 view .LVU154
 898 0266 FFF7FEFF 		bl	HAL_UART_Transmit
 899              	.LVL77:
 900              	.LBE11:
 901              		.loc 1 93 75 is_stmt 1 view .LVU155
  94:Src/PID.c     ****     DAC_cmd(RF_PS_352_OFFSET + DAC_WRITE + State.PD3_PD4_Offset);
 902              		.loc 1 94 5 view .LVU156
 903              		.loc 1 94 49 is_stmt 0 view .LVU157
 904 026a E059     		ldr	r0, [r4, r7]
 905              		.loc 1 94 5 view .LVU158
 906 026c A023     		movs	r3, #160
 907 026e 5B03     		lsls	r3, r3, #13
 908 0270 9C46     		mov	ip, r3
 909 0272 6044     		add	r0, r0, ip
 910 0274 FFF7FEFF 		bl	DAC_cmd
 911              	.LVL78:
  95:Src/PID.c     **** }
 912              		.loc 1 95 1 view .LVU159
 913 0278 21B0     		add	sp, sp, #132
 914              		@ sp needed
 915              	.LVL79:
 916              	.LVL80:
 917              	.LVL81:
 918              		.loc 1 95 1 view .LVU160
 919 027a 3CBC     		pop	{r2, r3, r4, r5}
 920 027c 9046     		mov	r8, r2
 921 027e 9946     		mov	r9, r3
 922 0280 A246     		mov	r10, r4
 923 0282 AB46     		mov	fp, r5
 924 0284 F0BD     		pop	{r4, r5, r6, r7, pc}
 925              	.L38:
 926 0286 C046     		.align	2
 927              	.L37:
 928 0288 00000000 		.word	.LC4
 929 028c 00000000 		.word	huart2
 930 0290 FF7F1500 		.word	1409023
 931 0294 00000000 		.word	State
 932 0298 006298C5 		.word	-979869184
 933 029c D5040000 		.word	1237
 934 02a0 FEFF0000 		.word	65534
 935 02a4 40771B00 		.word	1800000
 936 02a8 FFFFFF00 		.word	16777215
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 20


 937 02ac 905F0100 		.word	90000
 938 02b0 D4040000 		.word	1236
 939 02b4 14000000 		.word	.LC8
 940 02b8 30000000 		.word	.LC10
 941 02bc 50000000 		.word	.LC12
 942 02c0 70000000 		.word	.LC14
 943              		.cfi_endproc
 944              	.LFE291:
 946              		.section	.rodata.Calib704.str1.4,"aMS",%progbits,1
 947              		.align	2
 948              	.LC21:
 949 0000 08080850 		.ascii	"\010\010\010PD1+PD2 SETPOINT: %li\012\000"
 949      44312B50 
 949      44322053 
 949      4554504F 
 949      494E543A 
 950 001a 0000     		.align	2
 951              	.LC23:
 952 001c 5B43414C 		.ascii	"[CALIBRATION] PD1 SLOPE: %i\012\000"
 952      49425241 
 952      54494F4E 
 952      5D205044 
 952      3120534C 
 953 0039 000000   		.align	2
 954              	.LC25:
 955 003c 5B43414C 		.ascii	"[CALIBRATION] PD2 SLOPE: %i\012\000"
 955      49425241 
 955      54494F4E 
 955      5D205044 
 955      3220534C 
 956 0059 000000   		.align	2
 957              	.LC27:
 958 005c 5B43414C 		.ascii	"[CALIBRATION] PS704 OFFSET: %u\012\000"
 958      49425241 
 958      54494F4E 
 958      5D205053 
 958      37303420 
 959              		.section	.text.Calib704,"ax",%progbits
 960              		.align	1
 961              		.global	Calib704
 962              		.syntax unified
 963              		.code	16
 964              		.thumb_func
 965              		.fpu softvfp
 967              	Calib704:
 968              	.LFB292:
  96:Src/PID.c     **** 
  97:Src/PID.c     **** //Determines optimal setpoints of Phase shifters, detectors slopes
  98:Src/PID.c     **** void Calib704()
  99:Src/PID.c     **** {
 969              		.loc 1 99 1 is_stmt 1 view -0
 970              		.cfi_startproc
 971              		@ args = 0, pretend = 0, frame = 128
 972              		@ frame_needed = 0, uses_anonymous_args = 0
 973 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 974              	.LCFI11:
 975              		.cfi_def_cfa_offset 20
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 21


 976              		.cfi_offset 4, -20
 977              		.cfi_offset 5, -16
 978              		.cfi_offset 6, -12
 979              		.cfi_offset 7, -8
 980              		.cfi_offset 14, -4
 981 0002 DE46     		mov	lr, fp
 982 0004 5746     		mov	r7, r10
 983 0006 4E46     		mov	r6, r9
 984 0008 4546     		mov	r5, r8
 985 000a E0B5     		push	{r5, r6, r7, lr}
 986              	.LCFI12:
 987              		.cfi_def_cfa_offset 36
 988              		.cfi_offset 8, -36
 989              		.cfi_offset 9, -32
 990              		.cfi_offset 10, -28
 991              		.cfi_offset 11, -24
 992 000c A1B0     		sub	sp, sp, #132
 993              	.LCFI13:
 994              		.cfi_def_cfa_offset 168
 995              	.LBB12:
 100:Src/PID.c     ****     SERIAL_WRITE("[CALIBRATION] ...")
 996              		.loc 1 100 5 view .LVU162
 997 000e 07AC     		add	r4, sp, #28
 998 0010 6022     		movs	r2, #96
 999 0012 0021     		movs	r1, #0
 1000 0014 08A8     		add	r0, sp, #32
 1001 0016 FFF7FEFF 		bl	memset
 1002              	.LVL82:
 1003              		.loc 1 100 5 view .LVU163
 1004 001a 9A4B     		ldr	r3, .L54
 1005 001c 2200     		movs	r2, r4
 1006 001e 23CB     		ldmia	r3!, {r0, r1, r5}
 1007 0020 23C2     		stmia	r2!, {r0, r1, r5}
 1008 0022 1968     		ldr	r1, [r3]
 1009 0024 1160     		str	r1, [r2]
 1010 0026 9B88     		ldrh	r3, [r3, #4]
 1011 0028 9380     		strh	r3, [r2, #4]
 1012              	.LVL83:
 1013              		.loc 1 100 5 view .LVU164
 1014 002a FA23     		movs	r3, #250
 1015 002c 9B00     		lsls	r3, r3, #2
 1016 002e 1122     		movs	r2, #17
 1017 0030 2100     		movs	r1, r4
 1018 0032 9548     		ldr	r0, .L54+4
 1019 0034 FFF7FEFF 		bl	HAL_UART_Transmit
 1020              	.LVL84:
 1021              	.LBE12:
 101:Src/PID.c     ****     DAC_cmd(RF_PS_704_OFFSET + DAC_WRITE + 0);
 1022              		.loc 1 101 5 view .LVU165
 1023 0038 B020     		movs	r0, #176
 1024 003a 4003     		lsls	r0, r0, #13
 1025 003c FFF7FEFF 		bl	DAC_cmd
 1026              	.LVL85:
 102:Src/PID.c     ****     DAC_cmd(RF_PS_704_FINE + DAC_WRITE + 0x7fff);
 1027              		.loc 1 102 5 view .LVU166
 1028 0040 9248     		ldr	r0, .L54+8
 1029 0042 FFF7FEFF 		bl	DAC_cmd
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 22


 1030              	.LVL86:
 103:Src/PID.c     ****     State.PD1_PD2_MSE = 16200000000;
 1031              		.loc 1 103 5 view .LVU167
 1032              		.loc 1 103 23 is_stmt 0 view .LVU168
 1033 0046 924B     		ldr	r3, .L54+12
 1034 0048 9D22     		movs	r2, #157
 1035 004a D200     		lsls	r2, r2, #3
 1036 004c 9446     		mov	ip, r2
 1037 004e 6344     		add	r3, r3, ip
 1038 0050 9048     		ldr	r0, .L54+16
 1039 0052 0321     		movs	r1, #3
 1040 0054 1860     		str	r0, [r3]
 1041 0056 5960     		str	r1, [r3, #4]
 104:Src/PID.c     ****     uint64_t prevPhase1 = 0;
 1042              		.loc 1 104 5 is_stmt 1 view .LVU169
 1043              	.LVL87:
 105:Src/PID.c     ****     uint64_t prevPhase2 = 0;
 1044              		.loc 1 105 5 view .LVU170
 106:Src/PID.c     ****     for (uint32_t PS = 0; PS < 0xffff; PS += 0x0700)
 1045              		.loc 1 106 5 view .LVU171
 1046              	.LBB13:
 1047              		.loc 1 106 10 view .LVU172
 1048              		.loc 1 106 19 is_stmt 0 view .LVU173
 1049 0058 0023     		movs	r3, #0
 1050 005a 9946     		mov	r9, r3
 1051              	.LBE13:
 105:Src/PID.c     ****     uint64_t prevPhase2 = 0;
 1052              		.loc 1 105 14 view .LVU174
 1053 005c 0593     		str	r3, [sp, #20]
 1054 005e 9B46     		mov	fp, r3
 104:Src/PID.c     ****     uint64_t prevPhase1 = 0;
 1055              		.loc 1 104 14 view .LVU175
 1056 0060 0493     		str	r3, [sp, #16]
 1057 0062 9A46     		mov	r10, r3
 1058              	.LBB17:
 1059              		.loc 1 106 5 view .LVU176
 1060 0064 29E0     		b	.L40
 1061              	.LVL88:
 1062              	.L48:
 1063              	.LBB14:
 107:Src/PID.c     ****     {
 108:Src/PID.c     ****         DAC_cmd(RF_PS_704_OFFSET + DAC_WRITE + PS);
 109:Src/PID.c     ****         HAL_Delay(100);
 110:Src/PID.c     ****         uint64_t Phase1 = (1800000 - (((uint64_t)State.ADC_Values[ADC_PD1_Phase_CH] * 1800000) / 0x
 111:Src/PID.c     ****         uint64_t Phase2 = (1800000 - (((uint64_t)State.ADC_Values[ADC_PD2_Phase_CH] * 1800000) / 0x
 112:Src/PID.c     **** 
 113:Src/PID.c     ****         int64_t error1 = 90000 - Phase1;
 114:Src/PID.c     ****         int64_t error2 = 90000 - Phase2;
 115:Src/PID.c     ****         int64_t MSE704 = error1 * error1 + error2 * error2;
 116:Src/PID.c     **** 
 117:Src/PID.c     ****         if (MSE704 < State.PD1_PD2_MSE)
 118:Src/PID.c     ****         {
 119:Src/PID.c     ****             // SERIAL_WRITE("Phase1: %lu\n", Phase1);
 120:Src/PID.c     ****             // SERIAL_WRITE("Phase2: %lu\n", Phase2);
 121:Src/PID.c     ****             // SERIAL_WRITE("error1: %li\n", error1);
 122:Src/PID.c     ****             // SERIAL_WRITE("error2: %li\n", error2);
 123:Src/PID.c     ****             // SERIAL_WRITE("MSE704: %li\n\n", MSE704);
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 23


 124:Src/PID.c     ****             State.PD1_PD2_Offset = PS;
 125:Src/PID.c     ****             State.PD1_PD2_MSE = MSE704;
 126:Src/PID.c     ****             State.PD1_Slope = prevPhase1 < Phase1 ? 1 : -1;
 1064              		.loc 1 126 29 view .LVU177
 1065 0066 0120     		movs	r0, #1
 1066              	.LVL89:
 1067              		.loc 1 126 29 view .LVU178
 1068 0068 4042     		rsbs	r0, r0, #0
 1069 006a 9DE0     		b	.L43
 1070              	.LVL90:
 1071              	.L52:
 127:Src/PID.c     ****             State.PD2_Slope = prevPhase2 < Phase2 ? 1 : -1;
 1072              		.loc 1 127 29 view .LVU179
 1073 006c 0123     		movs	r3, #1
 1074 006e 9A46     		mov	r10, r3
 1075              	.LVL91:
 1076              	.L45:
 1077              		.loc 1 127 29 discriminator 4 view .LVU180
 1078 0070 874B     		ldr	r3, .L54+12
 1079 0072 9846     		mov	r8, r3
 1080 0074 884B     		ldr	r3, .L54+20
 1081 0076 4246     		mov	r2, r8
 1082              		.loc 1 127 29 discriminator 4 view .LVU181
 1083 0078 5146     		mov	r1, r10
 1084 007a D154     		strb	r1, [r2, r3]
 128:Src/PID.c     ****             State.PD1_PD2_SetPoint = State.PD1_Slope * Phase1 + State.PD2_Slope * Phase2;
 1085              		.loc 1 128 13 is_stmt 1 discriminator 4 view .LVU182
 1086              		.loc 1 128 43 is_stmt 0 discriminator 4 view .LVU183
 1087 007c C117     		asrs	r1, r0, #31
 1088              		.loc 1 128 54 discriminator 4 view .LVU184
 1089 007e 009A     		ldr	r2, [sp]
 1090 0080 019B     		ldr	r3, [sp, #4]
 1091              	.LVL92:
 1092              		.loc 1 128 54 discriminator 4 view .LVU185
 1093 0082 FFF7FEFF 		bl	__aeabi_lmul
 1094              	.LVL93:
 1095              		.loc 1 128 54 discriminator 4 view .LVU186
 1096 0086 0400     		movs	r4, r0
 1097              	.LVL94:
 1098              		.loc 1 128 54 discriminator 4 view .LVU187
 1099 0088 0D00     		movs	r5, r1
 1100              		.loc 1 128 70 discriminator 4 view .LVU188
 1101 008a 5346     		mov	r3, r10
 1102 008c D917     		asrs	r1, r3, #31
 1103              		.loc 1 128 81 discriminator 4 view .LVU189
 1104 008e 3200     		movs	r2, r6
 1105 0090 3B00     		movs	r3, r7
 1106 0092 5046     		mov	r0, r10
 1107 0094 FFF7FEFF 		bl	__aeabi_lmul
 1108              	.LVL95:
 1109              		.loc 1 128 63 discriminator 4 view .LVU190
 1110 0098 2418     		adds	r4, r4, r0
 1111 009a 4D41     		adcs	r5, r5, r1
 1112              		.loc 1 128 36 discriminator 4 view .LVU191
 1113 009c 9B23     		movs	r3, #155
 1114 009e DB00     		lsls	r3, r3, #3
 1115 00a0 4344     		add	r3, r3, r8
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 24


 1116 00a2 1C60     		str	r4, [r3]
 1117 00a4 5D60     		str	r5, [r3, #4]
 1118              	.L41:
 129:Src/PID.c     ****         }
 130:Src/PID.c     ****         prevPhase1 = Phase1;
 1119              		.loc 1 130 9 is_stmt 1 discriminator 2 view .LVU192
 1120              	.LVL96:
 131:Src/PID.c     ****         prevPhase2 = Phase2;
 1121              		.loc 1 131 9 discriminator 2 view .LVU193
 1122              		.loc 1 131 9 is_stmt 0 discriminator 2 view .LVU194
 1123              	.LBE14:
 106:Src/PID.c     ****     {
 1124              		.loc 1 106 40 is_stmt 1 discriminator 2 view .LVU195
 106:Src/PID.c     ****     {
 1125              		.loc 1 106 43 is_stmt 0 discriminator 2 view .LVU196
 1126 00a6 E023     		movs	r3, #224
 1127 00a8 DB00     		lsls	r3, r3, #3
 1128 00aa 9C46     		mov	ip, r3
 1129 00ac E144     		add	r9, r9, ip
 1130              	.LVL97:
 1131              	.LBB15:
 1132              		.loc 1 131 20 discriminator 2 view .LVU197
 1133 00ae 0596     		str	r6, [sp, #20]
 1134 00b0 BB46     		mov	fp, r7
 130:Src/PID.c     ****         prevPhase2 = Phase2;
 1135              		.loc 1 130 20 discriminator 2 view .LVU198
 1136 00b2 009B     		ldr	r3, [sp]
 1137 00b4 019C     		ldr	r4, [sp, #4]
 1138 00b6 0493     		str	r3, [sp, #16]
 1139 00b8 A246     		mov	r10, r4
 1140              	.LVL98:
 1141              	.L40:
 130:Src/PID.c     ****         prevPhase2 = Phase2;
 1142              		.loc 1 130 20 discriminator 2 view .LVU199
 1143              	.LBE15:
 106:Src/PID.c     ****     {
 1144              		.loc 1 106 27 is_stmt 1 discriminator 1 view .LVU200
 106:Src/PID.c     ****     {
 1145              		.loc 1 106 5 is_stmt 0 discriminator 1 view .LVU201
 1146 00ba 784B     		ldr	r3, .L54+24
 1147 00bc 9945     		cmp	r9, r3
 1148 00be 00D9     		bls	.LCB933
 1149 00c0 81E0     		b	.L53	@long jump
 1150              	.LCB933:
 1151              	.LBB16:
 108:Src/PID.c     ****         HAL_Delay(100);
 1152              		.loc 1 108 9 is_stmt 1 view .LVU202
 1153 00c2 B020     		movs	r0, #176
 1154 00c4 4003     		lsls	r0, r0, #13
 1155 00c6 4844     		add	r0, r0, r9
 1156 00c8 FFF7FEFF 		bl	DAC_cmd
 1157              	.LVL99:
 109:Src/PID.c     ****         uint64_t Phase1 = (1800000 - (((uint64_t)State.ADC_Values[ADC_PD1_Phase_CH] * 1800000) / 0x
 1158              		.loc 1 109 9 view .LVU203
 1159 00cc 6420     		movs	r0, #100
 1160 00ce FFF7FEFF 		bl	HAL_Delay
 1161              	.LVL100:
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 25


 110:Src/PID.c     ****         uint64_t Phase2 = (1800000 - (((uint64_t)State.ADC_Values[ADC_PD2_Phase_CH] * 1800000) / 0x
 1162              		.loc 1 110 9 view .LVU204
 110:Src/PID.c     ****         uint64_t Phase2 = (1800000 - (((uint64_t)State.ADC_Values[ADC_PD2_Phase_CH] * 1800000) / 0x
 1163              		.loc 1 110 66 is_stmt 0 view .LVU205
 1164 00d2 6F4B     		ldr	r3, .L54+12
 1165 00d4 9846     		mov	r8, r3
 110:Src/PID.c     ****         uint64_t Phase2 = (1800000 - (((uint64_t)State.ADC_Values[ADC_PD2_Phase_CH] * 1800000) / 0x
 1166              		.loc 1 110 85 view .LVU206
 1167 00d6 724A     		ldr	r2, .L54+28
 1168 00d8 0023     		movs	r3, #0
 1169 00da 4146     		mov	r1, r8
 1170 00dc 886E     		ldr	r0, [r1, #104]
 1171 00de 0021     		movs	r1, #0
 1172 00e0 FFF7FEFF 		bl	__aeabi_lmul
 1173              	.LVL101:
 110:Src/PID.c     ****         uint64_t Phase2 = (1800000 - (((uint64_t)State.ADC_Values[ADC_PD2_Phase_CH] * 1800000) / 0x
 1174              		.loc 1 110 96 view .LVU207
 1175 00e4 6F4A     		ldr	r2, .L54+32
 1176 00e6 0023     		movs	r3, #0
 1177 00e8 FFF7FEFF 		bl	__aeabi_uldivmod
 1178              	.LVL102:
 110:Src/PID.c     ****         uint64_t Phase2 = (1800000 - (((uint64_t)State.ADC_Values[ADC_PD2_Phase_CH] * 1800000) / 0x
 1179              		.loc 1 110 36 view .LVU208
 1180 00ec 6C4C     		ldr	r4, .L54+28
 1181 00ee 0025     		movs	r5, #0
 1182 00f0 2200     		movs	r2, r4
 1183 00f2 2B00     		movs	r3, r5
 1184 00f4 121A     		subs	r2, r2, r0
 1185 00f6 8B41     		sbcs	r3, r3, r1
 1186 00f8 1000     		movs	r0, r2
 1187 00fa 1900     		movs	r1, r3
 110:Src/PID.c     ****         uint64_t Phase2 = (1800000 - (((uint64_t)State.ADC_Values[ADC_PD2_Phase_CH] * 1800000) / 0x
 1188              		.loc 1 110 18 view .LVU209
 1189 00fc 0A22     		movs	r2, #10
 1190 00fe 0023     		movs	r3, #0
 1191 0100 FFF7FEFF 		bl	__aeabi_uldivmod
 1192              	.LVL103:
 1193 0104 0090     		str	r0, [sp]
 1194 0106 0191     		str	r1, [sp, #4]
 1195              	.LVL104:
 111:Src/PID.c     **** 
 1196              		.loc 1 111 9 is_stmt 1 view .LVU210
 111:Src/PID.c     **** 
 1197              		.loc 1 111 85 is_stmt 0 view .LVU211
 1198 0108 2200     		movs	r2, r4
 1199 010a 2B00     		movs	r3, r5
 1200 010c 4146     		mov	r1, r8
 1201 010e 086D     		ldr	r0, [r1, #80]
 1202 0110 0021     		movs	r1, #0
 1203 0112 FFF7FEFF 		bl	__aeabi_lmul
 1204              	.LVL105:
 111:Src/PID.c     **** 
 1205              		.loc 1 111 96 view .LVU212
 1206 0116 634A     		ldr	r2, .L54+32
 1207 0118 0023     		movs	r3, #0
 1208 011a FFF7FEFF 		bl	__aeabi_uldivmod
 1209              	.LVL106:
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 26


 111:Src/PID.c     **** 
 1210              		.loc 1 111 36 view .LVU213
 1211 011e 241A     		subs	r4, r4, r0
 1212 0120 8D41     		sbcs	r5, r5, r1
 1213 0122 2000     		movs	r0, r4
 1214 0124 2900     		movs	r1, r5
 111:Src/PID.c     **** 
 1215              		.loc 1 111 18 view .LVU214
 1216 0126 0A22     		movs	r2, #10
 1217 0128 0023     		movs	r3, #0
 1218 012a FFF7FEFF 		bl	__aeabi_uldivmod
 1219              	.LVL107:
 1220 012e 0600     		movs	r6, r0
 1221 0130 0F00     		movs	r7, r1
 1222              	.LVL108:
 113:Src/PID.c     ****         int64_t error2 = 90000 - Phase2;
 1223              		.loc 1 113 9 is_stmt 1 view .LVU215
 113:Src/PID.c     ****         int64_t error2 = 90000 - Phase2;
 1224              		.loc 1 113 32 is_stmt 0 view .LVU216
 1225 0132 5D4C     		ldr	r4, .L54+36
 1226 0134 0025     		movs	r5, #0
 1227 0136 2000     		movs	r0, r4
 1228 0138 2900     		movs	r1, r5
 1229 013a 009A     		ldr	r2, [sp]
 1230 013c 019B     		ldr	r3, [sp, #4]
 1231 013e 801A     		subs	r0, r0, r2
 1232 0140 9941     		sbcs	r1, r1, r3
 1233              	.LVL109:
 114:Src/PID.c     ****         int64_t MSE704 = error1 * error1 + error2 * error2;
 1234              		.loc 1 114 9 is_stmt 1 view .LVU217
 114:Src/PID.c     ****         int64_t MSE704 = error1 * error1 + error2 * error2;
 1235              		.loc 1 114 32 is_stmt 0 view .LVU218
 1236 0142 A41B     		subs	r4, r4, r6
 1237 0144 BD41     		sbcs	r5, r5, r7
 1238              	.LVL110:
 115:Src/PID.c     **** 
 1239              		.loc 1 115 9 is_stmt 1 view .LVU219
 115:Src/PID.c     **** 
 1240              		.loc 1 115 33 is_stmt 0 view .LVU220
 1241 0146 0200     		movs	r2, r0
 1242 0148 0B00     		movs	r3, r1
 1243 014a FFF7FEFF 		bl	__aeabi_lmul
 1244              	.LVL111:
 115:Src/PID.c     **** 
 1245              		.loc 1 115 33 view .LVU221
 1246 014e 0290     		str	r0, [sp, #8]
 1247 0150 0391     		str	r1, [sp, #12]
 115:Src/PID.c     **** 
 1248              		.loc 1 115 51 view .LVU222
 1249 0152 2200     		movs	r2, r4
 1250 0154 2B00     		movs	r3, r5
 1251 0156 2000     		movs	r0, r4
 1252 0158 2900     		movs	r1, r5
 1253 015a FFF7FEFF 		bl	__aeabi_lmul
 1254              	.LVL112:
 115:Src/PID.c     **** 
 1255              		.loc 1 115 17 view .LVU223
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 27


 1256 015e 029B     		ldr	r3, [sp, #8]
 1257 0160 039C     		ldr	r4, [sp, #12]
 1258 0162 1B18     		adds	r3, r3, r0
 1259 0164 4C41     		adcs	r4, r4, r1
 1260 0166 1800     		movs	r0, r3
 1261 0168 2100     		movs	r1, r4
 1262              	.LVL113:
 117:Src/PID.c     ****         {
 1263              		.loc 1 117 9 is_stmt 1 view .LVU224
 117:Src/PID.c     ****         {
 1264              		.loc 1 117 27 is_stmt 0 view .LVU225
 1265 016a 9D23     		movs	r3, #157
 1266 016c DB00     		lsls	r3, r3, #3
 1267 016e 4344     		add	r3, r3, r8
 1268 0170 1A68     		ldr	r2, [r3]
 1269 0172 5B68     		ldr	r3, [r3, #4]
 117:Src/PID.c     ****         {
 1270              		.loc 1 117 12 view .LVU226
 1271 0174 A342     		cmp	r3, r4
 1272 0176 02DC     		bgt	.L50
 1273 0178 95D1     		bne	.L41
 1274 017a 8242     		cmp	r2, r0
 1275 017c 93D9     		bls	.L41
 1276              	.L50:
 124:Src/PID.c     ****             State.PD1_PD2_MSE = MSE704;
 1277              		.loc 1 124 13 is_stmt 1 view .LVU227
 124:Src/PID.c     ****             State.PD1_PD2_MSE = MSE704;
 1278              		.loc 1 124 34 is_stmt 0 view .LVU228
 1279 017e 444B     		ldr	r3, .L54+12
 1280 0180 9C22     		movs	r2, #156
 1281 0182 D200     		lsls	r2, r2, #3
 1282 0184 4C46     		mov	r4, r9
 1283              	.LVL114:
 124:Src/PID.c     ****             State.PD1_PD2_MSE = MSE704;
 1284              		.loc 1 124 34 view .LVU229
 1285 0186 9C50     		str	r4, [r3, r2]
 125:Src/PID.c     ****             State.PD1_Slope = prevPhase1 < Phase1 ? 1 : -1;
 1286              		.loc 1 125 13 is_stmt 1 view .LVU230
 125:Src/PID.c     ****             State.PD1_Slope = prevPhase1 < Phase1 ? 1 : -1;
 1287              		.loc 1 125 31 is_stmt 0 view .LVU231
 1288 0188 0832     		adds	r2, r2, #8
 1289 018a 9446     		mov	ip, r2
 1290 018c 6344     		add	r3, r3, ip
 1291 018e 1860     		str	r0, [r3]
 1292 0190 5960     		str	r1, [r3, #4]
 126:Src/PID.c     ****             State.PD2_Slope = prevPhase2 < Phase2 ? 1 : -1;
 1293              		.loc 1 126 13 is_stmt 1 view .LVU232
 126:Src/PID.c     ****             State.PD2_Slope = prevPhase2 < Phase2 ? 1 : -1;
 1294              		.loc 1 126 29 is_stmt 0 view .LVU233
 1295 0192 009B     		ldr	r3, [sp]
 1296 0194 019C     		ldr	r4, [sp, #4]
 1297 0196 5445     		cmp	r4, r10
 1298 0198 05D8     		bhi	.L51
 1299              	.LVL115:
 126:Src/PID.c     ****             State.PD2_Slope = prevPhase2 < Phase2 ? 1 : -1;
 1300              		.loc 1 126 29 view .LVU234
 1301 019a 00D0     		beq	.LCB1054
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 28


 1302 019c 63E7     		b	.L48	@long jump
 1303              	.LCB1054:
 1304 019e 049A     		ldr	r2, [sp, #16]
 1305 01a0 9342     		cmp	r3, r2
 1306 01a2 00D8     		bhi	.LCB1057
 1307 01a4 5FE7     		b	.L48	@long jump
 1308              	.LCB1057:
 1309              	.L51:
 1310 01a6 0120     		movs	r0, #1
 1311              	.LVL116:
 1312              	.L43:
 126:Src/PID.c     ****             State.PD2_Slope = prevPhase2 < Phase2 ? 1 : -1;
 1313              		.loc 1 126 29 discriminator 4 view .LVU235
 1314 01a8 394A     		ldr	r2, .L54+12
 1315 01aa 404B     		ldr	r3, .L54+40
 1316 01ac D054     		strb	r0, [r2, r3]
 127:Src/PID.c     ****             State.PD1_PD2_SetPoint = State.PD1_Slope * Phase1 + State.PD2_Slope * Phase2;
 1317              		.loc 1 127 13 is_stmt 1 discriminator 4 view .LVU236
 127:Src/PID.c     ****             State.PD1_PD2_SetPoint = State.PD1_Slope * Phase1 + State.PD2_Slope * Phase2;
 1318              		.loc 1 127 29 is_stmt 0 discriminator 4 view .LVU237
 1319 01ae 5F45     		cmp	r7, fp
 1320 01b0 00D9     		bls	.LCB1068
 1321 01b2 5BE7     		b	.L52	@long jump
 1322              	.LCB1068:
 1323 01b4 03D1     		bne	.L49
 1324 01b6 059B     		ldr	r3, [sp, #20]
 1325 01b8 9E42     		cmp	r6, r3
 1326 01ba 00D9     		bls	.LCB1073
 1327 01bc 56E7     		b	.L52	@long jump
 1328              	.LCB1073:
 1329              	.L49:
 127:Src/PID.c     ****             State.PD1_PD2_SetPoint = State.PD1_Slope * Phase1 + State.PD2_Slope * Phase2;
 1330              		.loc 1 127 29 view .LVU238
 1331 01be 0123     		movs	r3, #1
 1332 01c0 5B42     		rsbs	r3, r3, #0
 1333 01c2 9A46     		mov	r10, r3
 1334              	.LVL117:
 127:Src/PID.c     ****             State.PD1_PD2_SetPoint = State.PD1_Slope * Phase1 + State.PD2_Slope * Phase2;
 1335              		.loc 1 127 29 view .LVU239
 1336 01c4 54E7     		b	.L45
 1337              	.LVL118:
 1338              	.L53:
 127:Src/PID.c     ****             State.PD1_PD2_SetPoint = State.PD1_Slope * Phase1 + State.PD2_Slope * Phase2;
 1339              		.loc 1 127 29 view .LVU240
 1340              	.LBE16:
 1341              	.LBE17:
 1342              	.LBB18:
 132:Src/PID.c     ****     }
 133:Src/PID.c     ****     SERIAL_WRITE("\b\b\bPD1+PD2 SETPOINT: %li\n", State.PD1_PD2_SetPoint);
 1343              		.loc 1 133 5 is_stmt 1 view .LVU241
 1344 01c6 0027     		movs	r7, #0
 1345 01c8 0797     		str	r7, [sp, #28]
 1346 01ca 6022     		movs	r2, #96
 1347 01cc 0021     		movs	r1, #0
 1348 01ce 08A8     		add	r0, sp, #32
 1349 01d0 FFF7FEFF 		bl	memset
 1350              	.LVL119:
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 29


 1351              		.loc 1 133 5 view .LVU242
 1352 01d4 2E4C     		ldr	r4, .L54+12
 1353 01d6 9B23     		movs	r3, #155
 1354 01d8 DB00     		lsls	r3, r3, #3
 1355 01da E318     		adds	r3, r4, r3
 1356 01dc 1A68     		ldr	r2, [r3]
 1357 01de 5B68     		ldr	r3, [r3, #4]
 1358 01e0 3349     		ldr	r1, .L54+44
 1359 01e2 07A8     		add	r0, sp, #28
 1360 01e4 FFF7FEFF 		bl	sprintf
 1361              	.LVL120:
 1362              		.loc 1 133 5 view .LVU243
 1363 01e8 FA26     		movs	r6, #250
 1364 01ea B600     		lsls	r6, r6, #2
 1365 01ec 82B2     		uxth	r2, r0
 1366 01ee 264D     		ldr	r5, .L54+4
 1367 01f0 3300     		movs	r3, r6
 1368 01f2 07A9     		add	r1, sp, #28
 1369 01f4 2800     		movs	r0, r5
 1370              	.LVL121:
 1371              		.loc 1 133 5 is_stmt 0 view .LVU244
 1372 01f6 FFF7FEFF 		bl	HAL_UART_Transmit
 1373              	.LVL122:
 1374              	.LBE18:
 1375              		.loc 1 133 74 is_stmt 1 view .LVU245
 1376              	.LBB19:
 134:Src/PID.c     ****     SERIAL_WRITE("[CALIBRATION] PD1 SLOPE: %i\n", State.PD1_Slope);
 1377              		.loc 1 134 5 view .LVU246
 1378 01fa 0797     		str	r7, [sp, #28]
 1379 01fc 6022     		movs	r2, #96
 1380 01fe 0021     		movs	r1, #0
 1381 0200 08A8     		add	r0, sp, #32
 1382 0202 FFF7FEFF 		bl	memset
 1383              	.LVL123:
 1384              		.loc 1 134 5 view .LVU247
 1385 0206 294B     		ldr	r3, .L54+40
 1386 0208 E256     		ldrsb	r2, [r4, r3]
 1387 020a 2A49     		ldr	r1, .L54+48
 1388 020c 07A8     		add	r0, sp, #28
 1389 020e FFF7FEFF 		bl	sprintf
 1390              	.LVL124:
 1391              		.loc 1 134 5 view .LVU248
 1392 0212 82B2     		uxth	r2, r0
 1393 0214 3300     		movs	r3, r6
 1394 0216 07A9     		add	r1, sp, #28
 1395 0218 2800     		movs	r0, r5
 1396              	.LVL125:
 1397              		.loc 1 134 5 is_stmt 0 view .LVU249
 1398 021a FFF7FEFF 		bl	HAL_UART_Transmit
 1399              	.LVL126:
 1400              	.LBE19:
 1401              		.loc 1 134 67 is_stmt 1 view .LVU250
 1402              	.LBB20:
 135:Src/PID.c     ****     SERIAL_WRITE("[CALIBRATION] PD2 SLOPE: %i\n", State.PD2_Slope);
 1403              		.loc 1 135 5 view .LVU251
 1404 021e 0797     		str	r7, [sp, #28]
 1405 0220 6022     		movs	r2, #96
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 30


 1406 0222 0021     		movs	r1, #0
 1407 0224 08A8     		add	r0, sp, #32
 1408 0226 FFF7FEFF 		bl	memset
 1409              	.LVL127:
 1410              		.loc 1 135 5 view .LVU252
 1411 022a 1B4B     		ldr	r3, .L54+20
 1412 022c E256     		ldrsb	r2, [r4, r3]
 1413 022e 2249     		ldr	r1, .L54+52
 1414 0230 07A8     		add	r0, sp, #28
 1415 0232 FFF7FEFF 		bl	sprintf
 1416              	.LVL128:
 1417              		.loc 1 135 5 view .LVU253
 1418 0236 82B2     		uxth	r2, r0
 1419 0238 3300     		movs	r3, r6
 1420 023a 07A9     		add	r1, sp, #28
 1421 023c 2800     		movs	r0, r5
 1422              	.LVL129:
 1423              		.loc 1 135 5 is_stmt 0 view .LVU254
 1424 023e FFF7FEFF 		bl	HAL_UART_Transmit
 1425              	.LVL130:
 1426              	.LBE20:
 1427              		.loc 1 135 67 is_stmt 1 view .LVU255
 1428              	.LBB21:
 136:Src/PID.c     ****     SERIAL_WRITE("[CALIBRATION] PS704 OFFSET: %u\n", State.PD1_PD2_Offset);
 1429              		.loc 1 136 5 view .LVU256
 1430 0242 0797     		str	r7, [sp, #28]
 1431 0244 6022     		movs	r2, #96
 1432 0246 0021     		movs	r1, #0
 1433 0248 08A8     		add	r0, sp, #32
 1434 024a FFF7FEFF 		bl	memset
 1435              	.LVL131:
 1436              		.loc 1 136 5 view .LVU257
 1437 024e 9C27     		movs	r7, #156
 1438 0250 FF00     		lsls	r7, r7, #3
 1439 0252 E259     		ldr	r2, [r4, r7]
 1440 0254 1949     		ldr	r1, .L54+56
 1441 0256 07A8     		add	r0, sp, #28
 1442 0258 FFF7FEFF 		bl	sprintf
 1443              	.LVL132:
 1444              		.loc 1 136 5 view .LVU258
 1445 025c 82B2     		uxth	r2, r0
 1446 025e 3300     		movs	r3, r6
 1447 0260 07A9     		add	r1, sp, #28
 1448 0262 2800     		movs	r0, r5
 1449              	.LVL133:
 1450              		.loc 1 136 5 is_stmt 0 view .LVU259
 1451 0264 FFF7FEFF 		bl	HAL_UART_Transmit
 1452              	.LVL134:
 1453              	.LBE21:
 1454              		.loc 1 136 75 is_stmt 1 view .LVU260
 137:Src/PID.c     ****     DAC_cmd(RF_PS_704_OFFSET + DAC_WRITE + State.PD1_PD2_Offset);
 1455              		.loc 1 137 5 view .LVU261
 1456              		.loc 1 137 49 is_stmt 0 view .LVU262
 1457 0268 E059     		ldr	r0, [r4, r7]
 1458              		.loc 1 137 5 view .LVU263
 1459 026a B023     		movs	r3, #176
 1460 026c 5B03     		lsls	r3, r3, #13
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 31


 1461 026e 9C46     		mov	ip, r3
 1462 0270 6044     		add	r0, r0, ip
 1463 0272 FFF7FEFF 		bl	DAC_cmd
 1464              	.LVL135:
 138:Src/PID.c     **** }
 1465              		.loc 1 138 1 view .LVU264
 1466 0276 21B0     		add	sp, sp, #132
 1467              		@ sp needed
 1468              	.LVL136:
 1469              	.LVL137:
 1470              	.LVL138:
 1471              		.loc 1 138 1 view .LVU265
 1472 0278 3CBC     		pop	{r2, r3, r4, r5}
 1473 027a 9046     		mov	r8, r2
 1474 027c 9946     		mov	r9, r3
 1475 027e A246     		mov	r10, r4
 1476 0280 AB46     		mov	fp, r5
 1477 0282 F0BD     		pop	{r4, r5, r6, r7, pc}
 1478              	.L55:
 1479              		.align	2
 1480              	.L54:
 1481 0284 00000000 		.word	.LC4
 1482 0288 00000000 		.word	huart2
 1483 028c FF7F1700 		.word	1540095
 1484 0290 00000000 		.word	State
 1485 0294 006298C5 		.word	-979869184
 1486 0298 D3040000 		.word	1235
 1487 029c FEFF0000 		.word	65534
 1488 02a0 40771B00 		.word	1800000
 1489 02a4 FFFFFF00 		.word	16777215
 1490 02a8 905F0100 		.word	90000
 1491 02ac D2040000 		.word	1234
 1492 02b0 00000000 		.word	.LC21
 1493 02b4 1C000000 		.word	.LC23
 1494 02b8 3C000000 		.word	.LC25
 1495 02bc 5C000000 		.word	.LC27
 1496              		.cfi_endproc
 1497              	.LFE292:
 1499              		.section	.rodata.POWER_Calib352.str1.4,"aMS",%progbits,1
 1500              		.align	2
 1501              	.LC34:
 1502 0000 08080850 		.ascii	"\010\010\010POWER 352 SETPOINT: 0x%06x\012\000"
 1502      4F574552 
 1502      20333532 
 1502      20534554 
 1502      504F494E 
 1503              		.section	.text.POWER_Calib352,"ax",%progbits
 1504              		.align	1
 1505              		.global	POWER_Calib352
 1506              		.syntax unified
 1507              		.code	16
 1508              		.thumb_func
 1509              		.fpu softvfp
 1511              	POWER_Calib352:
 1512              	.LFB293:
 139:Src/PID.c     **** 
 140:Src/PID.c     **** //Determines optimal setpoints of attenuators.
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 32


 141:Src/PID.c     **** void POWER_Calib352()
 142:Src/PID.c     **** {
 1513              		.loc 1 142 1 is_stmt 1 view -0
 1514              		.cfi_startproc
 1515              		@ args = 0, pretend = 0, frame = 104
 1516              		@ frame_needed = 0, uses_anonymous_args = 0
 1517 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1518              	.LCFI14:
 1519              		.cfi_def_cfa_offset 20
 1520              		.cfi_offset 4, -20
 1521              		.cfi_offset 5, -16
 1522              		.cfi_offset 6, -12
 1523              		.cfi_offset 7, -8
 1524              		.cfi_offset 14, -4
 1525 0002 9BB0     		sub	sp, sp, #108
 1526              	.LCFI15:
 1527              		.cfi_def_cfa_offset 128
 1528              	.LBB22:
 143:Src/PID.c     ****     SERIAL_WRITE("[CALIBRATION] ...")
 1529              		.loc 1 143 5 view .LVU267
 1530 0004 01AC     		add	r4, sp, #4
 1531 0006 6022     		movs	r2, #96
 1532 0008 0021     		movs	r1, #0
 1533 000a 02A8     		add	r0, sp, #8
 1534 000c FFF7FEFF 		bl	memset
 1535              	.LVL139:
 1536              		.loc 1 143 5 view .LVU268
 1537 0010 184B     		ldr	r3, .L57
 1538 0012 2200     		movs	r2, r4
 1539 0014 23CB     		ldmia	r3!, {r0, r1, r5}
 1540 0016 23C2     		stmia	r2!, {r0, r1, r5}
 1541 0018 1968     		ldr	r1, [r3]
 1542 001a 1160     		str	r1, [r2]
 1543 001c 9B88     		ldrh	r3, [r3, #4]
 1544 001e 9380     		strh	r3, [r2, #4]
 1545              	.LVL140:
 1546              		.loc 1 143 5 view .LVU269
 1547 0020 FA26     		movs	r6, #250
 1548 0022 B600     		lsls	r6, r6, #2
 1549 0024 144D     		ldr	r5, .L57+4
 1550 0026 3300     		movs	r3, r6
 1551 0028 1122     		movs	r2, #17
 1552 002a 2100     		movs	r1, r4
 1553 002c 2800     		movs	r0, r5
 1554 002e FFF7FEFF 		bl	HAL_UART_Transmit
 1555              	.LVL141:
 1556              	.LBE22:
 144:Src/PID.c     ****     DAC_cmd(RF_ATT_352_FINE + DAC_WRITE + 0x7fff);
 1557              		.loc 1 144 5 view .LVU270
 1558 0032 1248     		ldr	r0, .L57+8
 1559 0034 FFF7FEFF 		bl	DAC_cmd
 1560              	.LVL142:
 145:Src/PID.c     ****     DAC_cmd(RF_ATT_352_OFFSET + DAC_WRITE + 0x7fff);
 1561              		.loc 1 145 5 view .LVU271
 1562 0038 1148     		ldr	r0, .L57+12
 1563 003a FFF7FEFF 		bl	DAC_cmd
 1564              	.LVL143:
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 33


 146:Src/PID.c     ****     HAL_Delay(100);
 1565              		.loc 1 146 5 view .LVU272
 1566 003e 6420     		movs	r0, #100
 1567 0040 FFF7FEFF 		bl	HAL_Delay
 1568              	.LVL144:
 147:Src/PID.c     ****     State.POWER_PID_352_SetPoint = State.ADC_Values[RF_POWER_AMP352];
 1569              		.loc 1 147 5 view .LVU273
 1570              		.loc 1 147 52 is_stmt 0 view .LVU274
 1571 0044 0F4B     		ldr	r3, .L57+16
 1572 0046 5F6F     		ldr	r7, [r3, #116]
 1573              		.loc 1 147 34 view .LVU275
 1574 0048 0F4A     		ldr	r2, .L57+20
 1575 004a 9F50     		str	r7, [r3, r2]
 1576              	.LBB23:
 148:Src/PID.c     ****     SERIAL_WRITE("\b\b\bPOWER 352 SETPOINT: 0x%06x\n", State.POWER_PID_352_SetPoint);
 1577              		.loc 1 148 5 is_stmt 1 view .LVU276
 1578 004c 0023     		movs	r3, #0
 1579 004e 0193     		str	r3, [sp, #4]
 1580 0050 6022     		movs	r2, #96
 1581 0052 0021     		movs	r1, #0
 1582 0054 02A8     		add	r0, sp, #8
 1583 0056 FFF7FEFF 		bl	memset
 1584              	.LVL145:
 1585              		.loc 1 148 5 view .LVU277
 1586 005a 3A00     		movs	r2, r7
 1587 005c 0B49     		ldr	r1, .L57+24
 1588 005e 2000     		movs	r0, r4
 1589 0060 FFF7FEFF 		bl	sprintf
 1590              	.LVL146:
 1591              		.loc 1 148 5 view .LVU278
 1592 0064 82B2     		uxth	r2, r0
 1593 0066 3300     		movs	r3, r6
 1594 0068 2100     		movs	r1, r4
 1595 006a 2800     		movs	r0, r5
 1596              	.LVL147:
 1597              		.loc 1 148 5 is_stmt 0 view .LVU279
 1598 006c FFF7FEFF 		bl	HAL_UART_Transmit
 1599              	.LVL148:
 1600              	.LBE23:
 1601              		.loc 1 148 85 is_stmt 1 view .LVU280
 149:Src/PID.c     **** }
 1602              		.loc 1 149 1 is_stmt 0 view .LVU281
 1603 0070 1BB0     		add	sp, sp, #108
 1604              		@ sp needed
 1605 0072 F0BD     		pop	{r4, r5, r6, r7, pc}
 1606              	.L58:
 1607              		.align	2
 1608              	.L57:
 1609 0074 00000000 		.word	.LC4
 1610 0078 00000000 		.word	huart2
 1611 007c FF7F1200 		.word	1212415
 1612 0080 FF7F1300 		.word	1277951
 1613 0084 00000000 		.word	State
 1614 0088 6C050000 		.word	1388
 1615 008c 00000000 		.word	.LC34
 1616              		.cfi_endproc
 1617              	.LFE293:
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 34


 1619              		.section	.rodata.POWER_Calib704.str1.4,"aMS",%progbits,1
 1620              		.align	2
 1621              	.LC39:
 1622 0000 08080850 		.ascii	"\010\010\010POWER 704 SETPOINT: 0x%06x\012\000"
 1622      4F574552 
 1622      20373034 
 1622      20534554 
 1622      504F494E 
 1623              		.section	.text.POWER_Calib704,"ax",%progbits
 1624              		.align	1
 1625              		.global	POWER_Calib704
 1626              		.syntax unified
 1627              		.code	16
 1628              		.thumb_func
 1629              		.fpu softvfp
 1631              	POWER_Calib704:
 1632              	.LFB294:
 150:Src/PID.c     **** //Determines optimal setpoints of attenuators.
 151:Src/PID.c     **** void POWER_Calib704()
 152:Src/PID.c     **** {
 1633              		.loc 1 152 1 is_stmt 1 view -0
 1634              		.cfi_startproc
 1635              		@ args = 0, pretend = 0, frame = 104
 1636              		@ frame_needed = 0, uses_anonymous_args = 0
 1637 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1638              	.LCFI16:
 1639              		.cfi_def_cfa_offset 20
 1640              		.cfi_offset 4, -20
 1641              		.cfi_offset 5, -16
 1642              		.cfi_offset 6, -12
 1643              		.cfi_offset 7, -8
 1644              		.cfi_offset 14, -4
 1645 0002 9BB0     		sub	sp, sp, #108
 1646              	.LCFI17:
 1647              		.cfi_def_cfa_offset 128
 1648              	.LBB24:
 153:Src/PID.c     ****     SERIAL_WRITE("[CALIBRATION] ...")
 1649              		.loc 1 153 5 view .LVU283
 1650 0004 01AC     		add	r4, sp, #4
 1651 0006 6022     		movs	r2, #96
 1652 0008 0021     		movs	r1, #0
 1653 000a 02A8     		add	r0, sp, #8
 1654 000c FFF7FEFF 		bl	memset
 1655              	.LVL149:
 1656              		.loc 1 153 5 view .LVU284
 1657 0010 194B     		ldr	r3, .L60
 1658 0012 2200     		movs	r2, r4
 1659 0014 23CB     		ldmia	r3!, {r0, r1, r5}
 1660 0016 23C2     		stmia	r2!, {r0, r1, r5}
 1661 0018 1968     		ldr	r1, [r3]
 1662 001a 1160     		str	r1, [r2]
 1663 001c 9B88     		ldrh	r3, [r3, #4]
 1664 001e 9380     		strh	r3, [r2, #4]
 1665              	.LVL150:
 1666              		.loc 1 153 5 view .LVU285
 1667 0020 FA26     		movs	r6, #250
 1668 0022 B600     		lsls	r6, r6, #2
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 35


 1669 0024 154D     		ldr	r5, .L60+4
 1670 0026 3300     		movs	r3, r6
 1671 0028 1122     		movs	r2, #17
 1672 002a 2100     		movs	r1, r4
 1673 002c 2800     		movs	r0, r5
 1674 002e FFF7FEFF 		bl	HAL_UART_Transmit
 1675              	.LVL151:
 1676              	.LBE24:
 154:Src/PID.c     ****     DAC_cmd(RF_ATT_704_FINE + DAC_WRITE + 0x7fff);
 1677              		.loc 1 154 5 view .LVU286
 1678 0032 1348     		ldr	r0, .L60+8
 1679 0034 FFF7FEFF 		bl	DAC_cmd
 1680              	.LVL152:
 155:Src/PID.c     ****     DAC_cmd(RF_ATT_704_OFFSET + DAC_WRITE + 0x7fff);
 1681              		.loc 1 155 5 view .LVU287
 1682 0038 1248     		ldr	r0, .L60+12
 1683 003a FFF7FEFF 		bl	DAC_cmd
 1684              	.LVL153:
 156:Src/PID.c     ****     HAL_Delay(100);
 1685              		.loc 1 156 5 view .LVU288
 1686 003e 6420     		movs	r0, #100
 1687 0040 FFF7FEFF 		bl	HAL_Delay
 1688              	.LVL154:
 157:Src/PID.c     ****     State.POWER_PID_704_SetPoint = State.ADC_Values[RF_POWER_AMP704];
 1689              		.loc 1 157 5 view .LVU289
 1690              		.loc 1 157 52 is_stmt 0 view .LVU290
 1691 0044 104B     		ldr	r3, .L60+16
 1692 0046 9F6F     		ldr	r7, [r3, #120]
 1693              		.loc 1 157 34 view .LVU291
 1694 0048 AE22     		movs	r2, #174
 1695 004a D200     		lsls	r2, r2, #3
 1696 004c 9F50     		str	r7, [r3, r2]
 1697              	.LBB25:
 158:Src/PID.c     ****     SERIAL_WRITE("\b\b\bPOWER 704 SETPOINT: 0x%06x\n", State.POWER_PID_704_SetPoint);
 1698              		.loc 1 158 5 is_stmt 1 view .LVU292
 1699 004e 0023     		movs	r3, #0
 1700 0050 0193     		str	r3, [sp, #4]
 1701 0052 6022     		movs	r2, #96
 1702 0054 0021     		movs	r1, #0
 1703 0056 02A8     		add	r0, sp, #8
 1704 0058 FFF7FEFF 		bl	memset
 1705              	.LVL155:
 1706              		.loc 1 158 5 view .LVU293
 1707 005c 3A00     		movs	r2, r7
 1708 005e 0B49     		ldr	r1, .L60+20
 1709 0060 2000     		movs	r0, r4
 1710 0062 FFF7FEFF 		bl	sprintf
 1711              	.LVL156:
 1712              		.loc 1 158 5 view .LVU294
 1713 0066 82B2     		uxth	r2, r0
 1714 0068 3300     		movs	r3, r6
 1715 006a 2100     		movs	r1, r4
 1716 006c 2800     		movs	r0, r5
 1717              	.LVL157:
 1718              		.loc 1 158 5 is_stmt 0 view .LVU295
 1719 006e FFF7FEFF 		bl	HAL_UART_Transmit
 1720              	.LVL158:
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 36


 1721              	.LBE25:
 1722              		.loc 1 158 85 is_stmt 1 view .LVU296
 159:Src/PID.c     **** }
 1723              		.loc 1 159 1 is_stmt 0 view .LVU297
 1724 0072 1BB0     		add	sp, sp, #108
 1725              		@ sp needed
 1726 0074 F0BD     		pop	{r4, r5, r6, r7, pc}
 1727              	.L61:
 1728 0076 C046     		.align	2
 1729              	.L60:
 1730 0078 00000000 		.word	.LC4
 1731 007c 00000000 		.word	huart2
 1732 0080 FF7F1100 		.word	1146879
 1733 0084 FF7F1000 		.word	1081343
 1734 0088 00000000 		.word	State
 1735 008c 00000000 		.word	.LC39
 1736              		.cfi_endproc
 1737              	.LFE294:
 1739              		.section	.rodata.Calib.str1.4,"aMS",%progbits,1
 1740              		.align	2
 1741              	.LC41:
 1742 0000 1B5B303B 		.ascii	"\033[0;33m\000"
 1742      33336D00 
 1743              		.align	2
 1744              	.LC44:
 1745 0008 1B5B306D 		.ascii	"\033[0m\000"
 1745      00
 1746              		.section	.text.Calib,"ax",%progbits
 1747              		.align	1
 1748              		.global	Calib
 1749              		.syntax unified
 1750              		.code	16
 1751              		.thumb_func
 1752              		.fpu softvfp
 1754              	Calib:
 1755              	.LFB295:
 160:Src/PID.c     **** //Determines optimal setpoints of Phase shifters, detectors slopes, attenuators.
 161:Src/PID.c     **** void Calib()
 162:Src/PID.c     **** {
 1756              		.loc 1 162 1 is_stmt 1 view -0
 1757              		.cfi_startproc
 1758              		@ args = 0, pretend = 0, frame = 104
 1759              		@ frame_needed = 0, uses_anonymous_args = 0
 1760 0000 70B5     		push	{r4, r5, r6, lr}
 1761              	.LCFI18:
 1762              		.cfi_def_cfa_offset 16
 1763              		.cfi_offset 4, -16
 1764              		.cfi_offset 5, -12
 1765              		.cfi_offset 6, -8
 1766              		.cfi_offset 14, -4
 1767 0002 9AB0     		sub	sp, sp, #104
 1768              	.LCFI19:
 1769              		.cfi_def_cfa_offset 120
 1770              	.LBB26:
 163:Src/PID.c     ****     SERIAL_WRITE(SERIAL_YELLOW);
 1771              		.loc 1 163 5 view .LVU299
 1772 0004 01AC     		add	r4, sp, #4
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 37


 1773 0006 6022     		movs	r2, #96
 1774 0008 0021     		movs	r1, #0
 1775 000a 02A8     		add	r0, sp, #8
 1776 000c FFF7FEFF 		bl	memset
 1777              	.LVL159:
 1778              		.loc 1 163 5 view .LVU300
 1779 0010 114B     		ldr	r3, .L63
 1780 0012 2200     		movs	r2, r4
 1781 0014 03CB     		ldmia	r3!, {r0, r1}
 1782 0016 03C2     		stmia	r2!, {r0, r1}
 1783              	.LVL160:
 1784              		.loc 1 163 5 view .LVU301
 1785 0018 FA26     		movs	r6, #250
 1786 001a B600     		lsls	r6, r6, #2
 1787 001c 0F4D     		ldr	r5, .L63+4
 1788 001e 3300     		movs	r3, r6
 1789 0020 0722     		movs	r2, #7
 1790 0022 2100     		movs	r1, r4
 1791 0024 2800     		movs	r0, r5
 1792 0026 FFF7FEFF 		bl	HAL_UART_Transmit
 1793              	.LVL161:
 1794              	.LBE26:
 1795              		.loc 1 163 32 view .LVU302
 164:Src/PID.c     ****     Calib352();
 1796              		.loc 1 164 5 view .LVU303
 1797 002a FFF7FEFF 		bl	Calib352
 1798              	.LVL162:
 165:Src/PID.c     ****     Calib704();
 1799              		.loc 1 165 5 view .LVU304
 1800 002e FFF7FEFF 		bl	Calib704
 1801              	.LVL163:
 1802              	.LBB27:
 166:Src/PID.c     ****     // POWER_Calib352();
 167:Src/PID.c     ****     // POWER_Calib704();
 168:Src/PID.c     ****     SERIAL_WRITE(SERIAL_COLOR_RESET);
 1803              		.loc 1 168 5 view .LVU305
 1804 0032 6022     		movs	r2, #96
 1805 0034 0021     		movs	r1, #0
 1806 0036 02A8     		add	r0, sp, #8
 1807 0038 FFF7FEFF 		bl	memset
 1808              	.LVL164:
 1809              		.loc 1 168 5 view .LVU306
 1810 003c 084B     		ldr	r3, .L63+8
 1811 003e 1A68     		ldr	r2, [r3]
 1812 0040 0192     		str	r2, [sp, #4]
 1813 0042 1B79     		ldrb	r3, [r3, #4]
 1814 0044 2371     		strb	r3, [r4, #4]
 1815              	.LVL165:
 1816              		.loc 1 168 5 view .LVU307
 1817 0046 3300     		movs	r3, r6
 1818 0048 0422     		movs	r2, #4
 1819 004a 2100     		movs	r1, r4
 1820 004c 2800     		movs	r0, r5
 1821 004e FFF7FEFF 		bl	HAL_UART_Transmit
 1822              	.LVL166:
 1823              	.LBE27:
 1824              		.loc 1 168 37 view .LVU308
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 38


 169:Src/PID.c     **** }
 1825              		.loc 1 169 1 is_stmt 0 view .LVU309
 1826 0052 1AB0     		add	sp, sp, #104
 1827              		@ sp needed
 1828 0054 70BD     		pop	{r4, r5, r6, pc}
 1829              	.L64:
 1830 0056 C046     		.align	2
 1831              	.L63:
 1832 0058 00000000 		.word	.LC41
 1833 005c 00000000 		.word	huart2
 1834 0060 08000000 		.word	.LC44
 1835              		.cfi_endproc
 1836              	.LFE295:
 1838              		.section	.text.PID_Init,"ax",%progbits
 1839              		.align	1
 1840              		.global	PID_Init
 1841              		.syntax unified
 1842              		.code	16
 1843              		.thumb_func
 1844              		.fpu softvfp
 1846              	PID_Init:
 1847              	.LFB296:
 170:Src/PID.c     **** 
 171:Src/PID.c     **** void PID_Init()
 172:Src/PID.c     **** {
 1848              		.loc 1 172 1 is_stmt 1 view -0
 1849              		.cfi_startproc
 1850              		@ args = 0, pretend = 0, frame = 0
 1851              		@ frame_needed = 0, uses_anonymous_args = 0
 1852 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1853              	.LCFI20:
 1854              		.cfi_def_cfa_offset 20
 1855              		.cfi_offset 4, -20
 1856              		.cfi_offset 5, -16
 1857              		.cfi_offset 6, -12
 1858              		.cfi_offset 7, -8
 1859              		.cfi_offset 14, -4
 173:Src/PID.c     ****     State.PID_352_Output = 0x7fff;
 1860              		.loc 1 173 5 view .LVU311
 1861              		.loc 1 173 26 is_stmt 0 view .LVU312
 1862 0002 304E     		ldr	r6, .L66
 1863 0004 304F     		ldr	r7, .L66+4
 1864 0006 A123     		movs	r3, #161
 1865 0008 DB00     		lsls	r3, r3, #3
 1866 000a F750     		str	r7, [r6, r3]
 174:Src/PID.c     ****     State.PID_352_P = -1;
 1867              		.loc 1 174 5 is_stmt 1 view .LVU313
 1868              		.loc 1 174 21 is_stmt 0 view .LVU314
 1869 000c 0833     		adds	r3, r3, #8
 1870 000e F318     		adds	r3, r6, r3
 1871 0010 0120     		movs	r0, #1
 1872 0012 4042     		rsbs	r0, r0, #0
 1873 0014 C117     		asrs	r1, r0, #31
 1874 0016 1860     		str	r0, [r3]
 1875 0018 5960     		str	r1, [r3, #4]
 175:Src/PID.c     ****     State.PID_352_I = -1;
 1876              		.loc 1 175 5 is_stmt 1 view .LVU315
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 39


 1877              		.loc 1 175 21 is_stmt 0 view .LVU316
 1878 001a A323     		movs	r3, #163
 1879 001c DB00     		lsls	r3, r3, #3
 1880 001e F318     		adds	r3, r6, r3
 1881 0020 1860     		str	r0, [r3]
 1882 0022 5960     		str	r1, [r3, #4]
 176:Src/PID.c     ****     State.PID_352_T = 1000000;
 1883              		.loc 1 176 5 is_stmt 1 view .LVU317
 1884              		.loc 1 176 21 is_stmt 0 view .LVU318
 1885 0024 A423     		movs	r3, #164
 1886 0026 DB00     		lsls	r3, r3, #3
 1887 0028 F318     		adds	r3, r6, r3
 1888 002a 284C     		ldr	r4, .L66+8
 1889 002c 0025     		movs	r5, #0
 1890 002e 1C60     		str	r4, [r3]
 1891 0030 5D60     		str	r5, [r3, #4]
 177:Src/PID.c     ****     State.PID_352_P_error = 0;
 1892              		.loc 1 177 5 is_stmt 1 view .LVU319
 1893              		.loc 1 177 27 is_stmt 0 view .LVU320
 1894 0032 A523     		movs	r3, #165
 1895 0034 DB00     		lsls	r3, r3, #3
 1896 0036 9C46     		mov	ip, r3
 1897 0038 B444     		add	ip, ip, r6
 1898 003a 0022     		movs	r2, #0
 1899 003c 0023     		movs	r3, #0
 1900 003e 6446     		mov	r4, ip
 1901 0040 2260     		str	r2, [r4]
 1902 0042 6360     		str	r3, [r4, #4]
 178:Src/PID.c     ****     State.PID_352_I_error = 0;
 1903              		.loc 1 178 5 is_stmt 1 view .LVU321
 1904              		.loc 1 178 27 is_stmt 0 view .LVU322
 1905 0044 A624     		movs	r4, #166
 1906 0046 E400     		lsls	r4, r4, #3
 1907 0048 A446     		mov	ip, r4
 1908 004a B444     		add	ip, ip, r6
 1909 004c 6446     		mov	r4, ip
 1910 004e 2260     		str	r2, [r4]
 1911 0050 6360     		str	r3, [r4, #4]
 179:Src/PID.c     **** 
 180:Src/PID.c     ****     State.PID_704_Output = 0x7fff;
 1912              		.loc 1 180 5 is_stmt 1 view .LVU323
 1913              		.loc 1 180 26 is_stmt 0 view .LVU324
 1914 0052 1F4C     		ldr	r4, .L66+12
 1915 0054 3751     		str	r7, [r6, r4]
 181:Src/PID.c     ****     State.PID_704_P = -1;
 1916              		.loc 1 181 5 is_stmt 1 view .LVU325
 1917              		.loc 1 181 21 is_stmt 0 view .LVU326
 1918 0056 0434     		adds	r4, r4, #4
 1919 0058 A446     		mov	ip, r4
 1920 005a B444     		add	ip, ip, r6
 1921 005c 6446     		mov	r4, ip
 1922 005e 2060     		str	r0, [r4]
 1923 0060 6160     		str	r1, [r4, #4]
 182:Src/PID.c     ****     State.PID_704_I = -1;
 1924              		.loc 1 182 5 is_stmt 1 view .LVU327
 1925              		.loc 1 182 21 is_stmt 0 view .LVU328
 1926 0062 A924     		movs	r4, #169
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 40


 1927 0064 E400     		lsls	r4, r4, #3
 1928 0066 A446     		mov	ip, r4
 1929 0068 B444     		add	ip, ip, r6
 1930 006a 6446     		mov	r4, ip
 1931 006c 2060     		str	r0, [r4]
 1932 006e 6160     		str	r1, [r4, #4]
 183:Src/PID.c     ****     State.PID_704_T = 1000000;
 1933              		.loc 1 183 5 is_stmt 1 view .LVU329
 1934              		.loc 1 183 21 is_stmt 0 view .LVU330
 1935 0070 AA21     		movs	r1, #170
 1936 0072 C900     		lsls	r1, r1, #3
 1937 0074 7118     		adds	r1, r6, r1
 1938 0076 154C     		ldr	r4, .L66+8
 1939 0078 0025     		movs	r5, #0
 1940 007a 0C60     		str	r4, [r1]
 1941 007c 4D60     		str	r5, [r1, #4]
 184:Src/PID.c     ****     State.PID_704_P_error = 0;
 1942              		.loc 1 184 5 is_stmt 1 view .LVU331
 1943              		.loc 1 184 27 is_stmt 0 view .LVU332
 1944 007e AB21     		movs	r1, #171
 1945 0080 C900     		lsls	r1, r1, #3
 1946 0082 7118     		adds	r1, r6, r1
 1947 0084 0A60     		str	r2, [r1]
 1948 0086 4B60     		str	r3, [r1, #4]
 185:Src/PID.c     ****     State.PID_704_I_error = 0;
 1949              		.loc 1 185 5 is_stmt 1 view .LVU333
 1950              		.loc 1 185 27 is_stmt 0 view .LVU334
 1951 0088 AC21     		movs	r1, #172
 1952 008a C900     		lsls	r1, r1, #3
 1953 008c 7118     		adds	r1, r6, r1
 1954 008e 0A60     		str	r2, [r1]
 1955 0090 4B60     		str	r3, [r1, #4]
 186:Src/PID.c     **** 
 187:Src/PID.c     ****     State.POWER_PID_352_Output = 0x7fff;
 1956              		.loc 1 187 5 is_stmt 1 view .LVU335
 1957              		.loc 1 187 32 is_stmt 0 view .LVU336
 1958 0092 1049     		ldr	r1, .L66+16
 1959 0094 7750     		str	r7, [r6, r1]
 188:Src/PID.c     ****     State.POWER_PID_352_P_error = 0;
 1960              		.loc 1 188 5 is_stmt 1 view .LVU337
 1961              		.loc 1 188 33 is_stmt 0 view .LVU338
 1962 0096 1C31     		adds	r1, r1, #28
 1963 0098 7118     		adds	r1, r6, r1
 1964 009a 0A60     		str	r2, [r1]
 1965 009c 4B60     		str	r3, [r1, #4]
 189:Src/PID.c     ****     State.POWER_PID_352_I_error = 0;
 1966              		.loc 1 189 5 is_stmt 1 view .LVU339
 1967              		.loc 1 189 33 is_stmt 0 view .LVU340
 1968 009e B321     		movs	r1, #179
 1969 00a0 C900     		lsls	r1, r1, #3
 1970 00a2 7118     		adds	r1, r6, r1
 1971 00a4 0A60     		str	r2, [r1]
 1972 00a6 4B60     		str	r3, [r1, #4]
 190:Src/PID.c     **** 
 191:Src/PID.c     ****     State.POWER_PID_704_Output = 0x7fff;
 1973              		.loc 1 191 5 is_stmt 1 view .LVU341
 1974              		.loc 1 191 32 is_stmt 0 view .LVU342
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 41


 1975 00a8 0B49     		ldr	r1, .L66+20
 1976 00aa 7750     		str	r7, [r6, r1]
 192:Src/PID.c     ****     State.POWER_PID_704_P_error = 0;
 1977              		.loc 1 192 5 is_stmt 1 view .LVU343
 1978              		.loc 1 192 33 is_stmt 0 view .LVU344
 1979 00ac 2431     		adds	r1, r1, #36
 1980 00ae 7118     		adds	r1, r6, r1
 1981 00b0 0A60     		str	r2, [r1]
 1982 00b2 4B60     		str	r3, [r1, #4]
 193:Src/PID.c     ****     State.POWER_PID_704_I_error = 0;
 1983              		.loc 1 193 5 is_stmt 1 view .LVU345
 1984              		.loc 1 193 33 is_stmt 0 view .LVU346
 1985 00b4 BA21     		movs	r1, #186
 1986 00b6 C900     		lsls	r1, r1, #3
 1987 00b8 8C46     		mov	ip, r1
 1988 00ba 6644     		add	r6, r6, ip
 1989 00bc 3260     		str	r2, [r6]
 1990 00be 7360     		str	r3, [r6, #4]
 194:Src/PID.c     **** }
 1991              		.loc 1 194 1 view .LVU347
 1992              		@ sp needed
 1993 00c0 F0BD     		pop	{r4, r5, r6, r7, pc}
 1994              	.L67:
 1995 00c2 C046     		.align	2
 1996              	.L66:
 1997 00c4 00000000 		.word	State
 1998 00c8 FF7F0000 		.word	32767
 1999 00cc 40420F00 		.word	1000000
 2000 00d0 3C050000 		.word	1340
 2001 00d4 74050000 		.word	1396
 2002 00d8 A4050000 		.word	1444
 2003              		.cfi_endproc
 2004              	.LFE296:
 2006              		.section	.rodata.PID352.str1.4,"aMS",%progbits,1
 2007              		.align	2
 2008              	.LC62:
 2009 0000 1B5B303B 		.ascii	"\033[0;32m\000"
 2009      33326D00 
 2010              		.align	2
 2011              	.LC65:
 2012 0008 5B504944 		.ascii	"[PID_PHASE_352] LOCKED\012\000"
 2012      5F504841 
 2012      53455F33 
 2012      35325D20 
 2012      4C4F434B 
 2013              		.align	2
 2014              	.LC68:
 2015 0020 1B5B303B 		.ascii	"\033[0;31m\000"
 2015      33316D00 
 2016              		.align	2
 2017              	.LC70:
 2018 0028 5B504944 		.ascii	"[PID_PHASE_352] UNLOCKED!!!\012\000"
 2018      5F504841 
 2018      53455F33 
 2018      35325D20 
 2018      554E4C4F 
 2019              		.section	.text.PID352,"ax",%progbits
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 42


 2020              		.align	1
 2021              		.global	PID352
 2022              		.syntax unified
 2023              		.code	16
 2024              		.thumb_func
 2025              		.fpu softvfp
 2027              	PID352:
 2028              	.LFB297:
 195:Src/PID.c     **** void PID352()
 196:Src/PID.c     **** {
 2029              		.loc 1 196 1 is_stmt 1 view -0
 2030              		.cfi_startproc
 2031              		@ args = 0, pretend = 0, frame = 104
 2032              		@ frame_needed = 0, uses_anonymous_args = 0
 2033 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 2034              	.LCFI21:
 2035              		.cfi_def_cfa_offset 20
 2036              		.cfi_offset 4, -20
 2037              		.cfi_offset 5, -16
 2038              		.cfi_offset 6, -12
 2039              		.cfi_offset 7, -8
 2040              		.cfi_offset 14, -4
 2041 0002 DE46     		mov	lr, fp
 2042 0004 5746     		mov	r7, r10
 2043 0006 4E46     		mov	r6, r9
 2044 0008 4546     		mov	r5, r8
 2045 000a E0B5     		push	{r5, r6, r7, lr}
 2046              	.LCFI22:
 2047              		.cfi_def_cfa_offset 36
 2048              		.cfi_offset 8, -36
 2049              		.cfi_offset 9, -32
 2050              		.cfi_offset 10, -28
 2051              		.cfi_offset 11, -24
 2052 000c 9BB0     		sub	sp, sp, #108
 2053              	.LCFI23:
 2054              		.cfi_def_cfa_offset 144
 197:Src/PID.c     ****     int64_t prevErr = State.PID_352_P_error;
 2055              		.loc 1 197 5 view .LVU349
 2056              		.loc 1 197 13 is_stmt 0 view .LVU350
 2057 000e 974E     		ldr	r6, .L88
 2058 0010 A523     		movs	r3, #165
 2059 0012 DB00     		lsls	r3, r3, #3
 2060 0014 F718     		adds	r7, r6, r3
 2061 0016 3B68     		ldr	r3, [r7]
 2062 0018 9946     		mov	r9, r3
 2063 001a 7B68     		ldr	r3, [r7, #4]
 2064 001c 9846     		mov	r8, r3
 2065              	.LVL167:
 198:Src/PID.c     ****     State.PID_352_P_error = (State.PD3_Slope * Phase_u(ADC_PD3_Phase_CH)) + (State.PD4_Slope * Phas
 2066              		.loc 1 198 5 is_stmt 1 view .LVU351
 2067              		.loc 1 198 35 is_stmt 0 view .LVU352
 2068 001e 944B     		ldr	r3, .L88+4
 2069              	.LVL168:
 2070              		.loc 1 198 35 view .LVU353
 2071 0020 F456     		ldrsb	r4, [r6, r3]
 2072 0022 E517     		asrs	r5, r4, #31
 2073              		.loc 1 198 48 view .LVU354
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 43


 2074 0024 0E20     		movs	r0, #14
 2075 0026 FFF7FEFF 		bl	Phase_u
 2076              	.LVL169:
 2077 002a 0200     		movs	r2, r0
 2078 002c 0B00     		movs	r3, r1
 2079              		.loc 1 198 46 view .LVU355
 2080 002e 2000     		movs	r0, r4
 2081 0030 2900     		movs	r1, r5
 2082 0032 FFF7FEFF 		bl	__aeabi_lmul
 2083              	.LVL170:
 2084 0036 0400     		movs	r4, r0
 2085 0038 0D00     		movs	r5, r1
 2086              		.loc 1 198 83 view .LVU356
 2087 003a 8E4B     		ldr	r3, .L88+8
 2088 003c F356     		ldrsb	r3, [r6, r3]
 2089 003e 9A46     		mov	r10, r3
 2090 0040 DB17     		asrs	r3, r3, #31
 2091 0042 9B46     		mov	fp, r3
 2092              		.loc 1 198 96 view .LVU357
 2093 0044 0220     		movs	r0, #2
 2094 0046 FFF7FEFF 		bl	Phase_u
 2095              	.LVL171:
 2096 004a 0200     		movs	r2, r0
 2097 004c 0B00     		movs	r3, r1
 2098              		.loc 1 198 94 view .LVU358
 2099 004e 5046     		mov	r0, r10
 2100 0050 5946     		mov	r1, fp
 2101 0052 FFF7FEFF 		bl	__aeabi_lmul
 2102              	.LVL172:
 2103              		.loc 1 198 75 view .LVU359
 2104 0056 2418     		adds	r4, r4, r0
 2105 0058 4D41     		adcs	r5, r5, r1
 2106              		.loc 1 198 131 view .LVU360
 2107 005a 9E23     		movs	r3, #158
 2108 005c DB00     		lsls	r3, r3, #3
 2109 005e F318     		adds	r3, r6, r3
 2110 0060 1868     		ldr	r0, [r3]
 2111 0062 5968     		ldr	r1, [r3, #4]
 2112              		.loc 1 198 149 view .LVU361
 2113 0064 FA22     		movs	r2, #250
 2114 0066 9200     		lsls	r2, r2, #2
 2115 0068 0023     		movs	r3, #0
 2116 006a FFF7FEFF 		bl	__aeabi_lmul
 2117              	.LVL173:
 2118              		.loc 1 198 123 view .LVU362
 2119 006e 241A     		subs	r4, r4, r0
 2120 0070 8D41     		sbcs	r5, r5, r1
 2121              		.loc 1 198 27 view .LVU363
 2122 0072 3C60     		str	r4, [r7]
 2123 0074 7D60     		str	r5, [r7, #4]
 199:Src/PID.c     ****     State.PID_352_I_error = (State.PID_352_I_error + State.PID_352_P_error) / State.PID_352_T;
 2124              		.loc 1 199 5 is_stmt 1 view .LVU364
 2125              		.loc 1 199 35 is_stmt 0 view .LVU365
 2126 0076 A623     		movs	r3, #166
 2127 0078 DB00     		lsls	r3, r3, #3
 2128 007a F718     		adds	r7, r6, r3
 2129              		.loc 1 199 52 view .LVU366
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 44


 2130 007c 3868     		ldr	r0, [r7]
 2131 007e 7968     		ldr	r1, [r7, #4]
 2132 0080 0019     		adds	r0, r0, r4
 2133 0082 6941     		adcs	r1, r1, r5
 2134              		.loc 1 199 84 view .LVU367
 2135 0084 103B     		subs	r3, r3, #16
 2136 0086 F318     		adds	r3, r6, r3
 2137 0088 1A68     		ldr	r2, [r3]
 2138 008a 5B68     		ldr	r3, [r3, #4]
 2139              		.loc 1 199 77 view .LVU368
 2140 008c FFF7FEFF 		bl	__aeabi_ldivmod
 2141              	.LVL174:
 2142 0090 8246     		mov	r10, r0
 2143              		.loc 1 199 27 view .LVU369
 2144 0092 3860     		str	r0, [r7]
 2145 0094 7960     		str	r1, [r7, #4]
 200:Src/PID.c     ****     State.PID_352_Output = State.PID_352_Output + (State.PID_352_P * State.PID_352_P_error) / 1000 
 2146              		.loc 1 200 5 is_stmt 1 view .LVU370
 2147              		.loc 1 200 33 is_stmt 0 view .LVU371
 2148 0096 A127     		movs	r7, #161
 2149 0098 FF00     		lsls	r7, r7, #3
 2150 009a F359     		ldr	r3, [r6, r7]
 2151 009c 9B46     		mov	fp, r3
 2152              		.loc 1 200 57 view .LVU372
 2153 009e A223     		movs	r3, #162
 2154 00a0 DB00     		lsls	r3, r3, #3
 2155 00a2 F318     		adds	r3, r6, r3
 2156 00a4 1A68     		ldr	r2, [r3]
 2157 00a6 5B68     		ldr	r3, [r3, #4]
 2158              		.loc 1 200 68 view .LVU373
 2159 00a8 2000     		movs	r0, r4
 2160 00aa 2900     		movs	r1, r5
 2161 00ac FFF7FEFF 		bl	__aeabi_lmul
 2162              	.LVL175:
 2163              		.loc 1 200 93 view .LVU374
 2164 00b0 FA22     		movs	r2, #250
 2165 00b2 9200     		lsls	r2, r2, #2
 2166 00b4 0023     		movs	r3, #0
 2167 00b6 FFF7FEFF 		bl	__aeabi_ldivmod
 2168              	.LVL176:
 2169              		.loc 1 200 49 view .LVU375
 2170 00ba 0300     		movs	r3, r0
 2171 00bc 5B44     		add	r3, r3, fp
 2172              		.loc 1 200 108 view .LVU376
 2173 00be A322     		movs	r2, #163
 2174 00c0 D200     		lsls	r2, r2, #3
 2175 00c2 B218     		adds	r2, r6, r2
 2176 00c4 1068     		ldr	r0, [r2]
 2177              		.loc 1 200 100 view .LVU377
 2178 00c6 5246     		mov	r2, r10
 2179 00c8 5043     		muls	r0, r2
 2180 00ca C018     		adds	r0, r0, r3
 2181              		.loc 1 200 26 view .LVU378
 2182 00cc F051     		str	r0, [r6, r7]
 201:Src/PID.c     ****     if (State.PID_352_Output >= 0xffff)
 2183              		.loc 1 201 5 is_stmt 1 view .LVU379
 2184              		.loc 1 201 8 is_stmt 0 view .LVU380
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 45


 2185 00ce 6A4B     		ldr	r3, .L88+12
 2186 00d0 9842     		cmp	r0, r3
 2187 00d2 01D9     		bls	.L69
 202:Src/PID.c     ****     {
 203:Src/PID.c     ****         State.PID_352_Output = 0xffff;
 2188              		.loc 1 203 9 is_stmt 1 view .LVU381
 2189              		.loc 1 203 30 is_stmt 0 view .LVU382
 2190 00d4 6949     		ldr	r1, .L88+16
 2191 00d6 F151     		str	r1, [r6, r7]
 2192              	.L69:
 204:Src/PID.c     ****     }
 205:Src/PID.c     **** 
 206:Src/PID.c     ****     DAC_cmd(RF_PS_352_FINE + DAC_WRITE + State.PID_352_Output);
 2193              		.loc 1 206 5 is_stmt 1 view .LVU383
 2194              		.loc 1 206 47 is_stmt 0 view .LVU384
 2195 00d8 644C     		ldr	r4, .L88
 2196 00da A123     		movs	r3, #161
 2197 00dc DB00     		lsls	r3, r3, #3
 2198 00de E058     		ldr	r0, [r4, r3]
 2199              		.loc 1 206 5 view .LVU385
 2200 00e0 A823     		movs	r3, #168
 2201 00e2 5B03     		lsls	r3, r3, #13
 2202 00e4 9C46     		mov	ip, r3
 2203 00e6 6044     		add	r0, r0, ip
 2204 00e8 FFF7FEFF 		bl	DAC_cmd
 2205              	.LVL177:
 207:Src/PID.c     **** 
 208:Src/PID.c     ****     if (State.PID_352_P_error < 50000 && prevErr < 50000 && State.PID_352_LOCK == 1)
 2206              		.loc 1 208 5 is_stmt 1 view .LVU386
 2207              		.loc 1 208 14 is_stmt 0 view .LVU387
 2208 00ec A523     		movs	r3, #165
 2209 00ee DB00     		lsls	r3, r3, #3
 2210 00f0 9C46     		mov	ip, r3
 2211 00f2 6444     		add	r4, r4, ip
 2212 00f4 2268     		ldr	r2, [r4]
 2213 00f6 6368     		ldr	r3, [r4, #4]
 2214              		.loc 1 208 8 view .LVU388
 2215 00f8 002B     		cmp	r3, #0
 2216 00fa 10DC     		bgt	.L70
 2217 00fc 02D1     		bne	.L81
 2218 00fe 6049     		ldr	r1, .L88+20
 2219 0100 8A42     		cmp	r2, r1
 2220 0102 0CD8     		bhi	.L70
 2221              	.L81:
 2222              		.loc 1 208 39 discriminator 1 view .LVU389
 2223 0104 4146     		mov	r1, r8
 2224 0106 0029     		cmp	r1, #0
 2225 0108 09DC     		bgt	.L70
 2226              	.LVL178:
 2227              		.loc 1 208 39 discriminator 1 view .LVU390
 2228 010a 02D1     		bne	.L82
 2229 010c 5C49     		ldr	r1, .L88+20
 2230              	.LVL179:
 2231              		.loc 1 208 39 discriminator 1 view .LVU391
 2232 010e 8945     		cmp	r9, r1
 2233 0110 05D8     		bhi	.L70
 2234              	.L82:
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 46


 2235              		.loc 1 208 66 discriminator 2 view .LVU392
 2236 0112 5648     		ldr	r0, .L88
 2237 0114 A721     		movs	r1, #167
 2238 0116 C900     		lsls	r1, r1, #3
 2239 0118 4156     		ldrsb	r1, [r0, r1]
 2240              		.loc 1 208 58 discriminator 2 view .LVU393
 2241 011a 0129     		cmp	r1, #1
 2242 011c 2AD0     		beq	.L68
 2243              	.L70:
 209:Src/PID.c     ****     {
 210:Src/PID.c     ****         return;
 211:Src/PID.c     ****     }
 212:Src/PID.c     ****     else if (State.PID_352_P_error < 50000 && prevErr < 50000 && State.PID_352_LOCK == 0)
 2244              		.loc 1 212 10 is_stmt 1 view .LVU394
 2245              		.loc 1 212 13 is_stmt 0 view .LVU395
 2246 011e 002B     		cmp	r3, #0
 2247 0120 10DC     		bgt	.L74
 2248 0122 02D1     		bne	.L83
 2249 0124 5649     		ldr	r1, .L88+20
 2250 0126 8A42     		cmp	r2, r1
 2251 0128 0CD8     		bhi	.L74
 2252              	.L83:
 2253              		.loc 1 212 44 discriminator 1 view .LVU396
 2254 012a 4146     		mov	r1, r8
 2255 012c 0029     		cmp	r1, #0
 2256 012e 09DC     		bgt	.L74
 2257              	.LVL180:
 2258              		.loc 1 212 44 discriminator 1 view .LVU397
 2259 0130 02D1     		bne	.L84
 2260 0132 5349     		ldr	r1, .L88+20
 2261              	.LVL181:
 2262              		.loc 1 212 44 discriminator 1 view .LVU398
 2263 0134 8945     		cmp	r9, r1
 2264 0136 05D8     		bhi	.L74
 2265              	.L84:
 2266              		.loc 1 212 71 discriminator 2 view .LVU399
 2267 0138 4C48     		ldr	r0, .L88
 2268 013a A721     		movs	r1, #167
 2269 013c C900     		lsls	r1, r1, #3
 2270 013e 4156     		ldrsb	r1, [r0, r1]
 2271              		.loc 1 212 63 discriminator 2 view .LVU400
 2272 0140 0029     		cmp	r1, #0
 2273 0142 1ED0     		beq	.L86
 2274              	.L74:
 213:Src/PID.c     ****     {
 214:Src/PID.c     ****         State.PID_352_LOCK = 1;
 215:Src/PID.c     ****         SERIAL_WRITE_GREEN("[PID_PHASE_352] LOCKED\n");
 216:Src/PID.c     ****     }
 217:Src/PID.c     ****     else if ((State.PID_352_P_error >= 50000 || prevErr >= 50000) && State.PID_352_LOCK == 1)
 2275              		.loc 1 217 10 is_stmt 1 view .LVU401
 2276              		.loc 1 217 13 is_stmt 0 view .LVU402
 2277 0144 002B     		cmp	r3, #0
 2278 0146 0ADC     		bgt	.L77
 2279 0148 02D1     		bne	.L85
 2280 014a 4D4B     		ldr	r3, .L88+20
 2281 014c 9A42     		cmp	r2, r3
 2282 014e 06D8     		bhi	.L77
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 47


 2283              	.L85:
 2284              		.loc 1 217 46 discriminator 2 view .LVU403
 2285 0150 4346     		mov	r3, r8
 2286 0152 002B     		cmp	r3, #0
 2287 0154 03DC     		bgt	.L77
 2288              	.LVL182:
 2289              		.loc 1 217 46 discriminator 2 view .LVU404
 2290 0156 08D1     		bne	.L79
 2291 0158 494B     		ldr	r3, .L88+20
 2292              	.LVL183:
 2293              		.loc 1 217 46 discriminator 2 view .LVU405
 2294 015a 9945     		cmp	r9, r3
 2295 015c 05D9     		bls	.L79
 2296              	.L77:
 2297              		.loc 1 217 75 discriminator 3 view .LVU406
 2298 015e 434A     		ldr	r2, .L88
 2299 0160 A723     		movs	r3, #167
 2300 0162 DB00     		lsls	r3, r3, #3
 2301 0164 D356     		ldrsb	r3, [r2, r3]
 2302              		.loc 1 217 67 discriminator 3 view .LVU407
 2303 0166 012B     		cmp	r3, #1
 2304 0168 44D0     		beq	.L87
 2305              	.L79:
 218:Src/PID.c     ****     {
 219:Src/PID.c     ****         State.PID_352_LOCK = 0;
 220:Src/PID.c     ****         SERIAL_WRITE_RED("[PID_PHASE_352] UNLOCKED!!!\n");
 221:Src/PID.c     ****     }
 222:Src/PID.c     ****     else
 223:Src/PID.c     ****     {
 224:Src/PID.c     ****         State.PID_352_LOCK = 0;
 2306              		.loc 1 224 9 is_stmt 1 view .LVU408
 2307              		.loc 1 224 28 is_stmt 0 view .LVU409
 2308 016a 404A     		ldr	r2, .L88
 2309 016c A723     		movs	r3, #167
 2310 016e DB00     		lsls	r3, r3, #3
 2311 0170 0021     		movs	r1, #0
 2312 0172 D154     		strb	r1, [r2, r3]
 2313              	.L68:
 225:Src/PID.c     ****     }
 226:Src/PID.c     **** }
 2314              		.loc 1 226 1 view .LVU410
 2315 0174 1BB0     		add	sp, sp, #108
 2316              		@ sp needed
 2317              	.LVL184:
 2318              		.loc 1 226 1 view .LVU411
 2319 0176 3CBC     		pop	{r2, r3, r4, r5}
 2320 0178 9046     		mov	r8, r2
 2321 017a 9946     		mov	r9, r3
 2322 017c A246     		mov	r10, r4
 2323 017e AB46     		mov	fp, r5
 2324 0180 F0BD     		pop	{r4, r5, r6, r7, pc}
 2325              	.LVL185:
 2326              	.L86:
 214:Src/PID.c     ****         SERIAL_WRITE_GREEN("[PID_PHASE_352] LOCKED\n");
 2327              		.loc 1 214 9 is_stmt 1 view .LVU412
 214:Src/PID.c     ****         SERIAL_WRITE_GREEN("[PID_PHASE_352] LOCKED\n");
 2328              		.loc 1 214 28 is_stmt 0 view .LVU413
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 48


 2329 0182 A723     		movs	r3, #167
 2330 0184 DB00     		lsls	r3, r3, #3
 2331 0186 0131     		adds	r1, r1, #1
 2332 0188 C154     		strb	r1, [r0, r3]
 2333              	.LBB28:
 215:Src/PID.c     ****     }
 2334              		.loc 1 215 9 is_stmt 1 view .LVU414
 2335 018a 01AC     		add	r4, sp, #4
 2336 018c 6022     		movs	r2, #96
 2337 018e 0021     		movs	r1, #0
 2338 0190 02A8     		add	r0, sp, #8
 2339 0192 FFF7FEFF 		bl	memset
 2340              	.LVL186:
 215:Src/PID.c     ****     }
 2341              		.loc 1 215 9 view .LVU415
 2342 0196 3B4B     		ldr	r3, .L88+24
 2343 0198 2200     		movs	r2, r4
 2344 019a 03CB     		ldmia	r3!, {r0, r1}
 2345 019c 03C2     		stmia	r2!, {r0, r1}
 2346              	.LVL187:
 215:Src/PID.c     ****     }
 2347              		.loc 1 215 9 view .LVU416
 2348 019e FA26     		movs	r6, #250
 2349 01a0 B600     		lsls	r6, r6, #2
 2350 01a2 394D     		ldr	r5, .L88+28
 2351 01a4 3300     		movs	r3, r6
 2352 01a6 0722     		movs	r2, #7
 2353 01a8 2100     		movs	r1, r4
 2354 01aa 2800     		movs	r0, r5
 2355 01ac FFF7FEFF 		bl	HAL_UART_Transmit
 2356              	.LVL188:
 2357              	.LBE28:
 215:Src/PID.c     ****     }
 2358              		.loc 1 215 9 view .LVU417
 2359              	.LBB29:
 215:Src/PID.c     ****     }
 2360              		.loc 1 215 9 view .LVU418
 2361 01b0 6022     		movs	r2, #96
 2362 01b2 0021     		movs	r1, #0
 2363 01b4 02A8     		add	r0, sp, #8
 2364 01b6 FFF7FEFF 		bl	memset
 2365              	.LVL189:
 215:Src/PID.c     ****     }
 2366              		.loc 1 215 9 view .LVU419
 2367 01ba 344B     		ldr	r3, .L88+32
 2368 01bc 2200     		movs	r2, r4
 2369 01be 83CB     		ldmia	r3!, {r0, r1, r7}
 2370 01c0 83C2     		stmia	r2!, {r0, r1, r7}
 2371 01c2 83CB     		ldmia	r3!, {r0, r1, r7}
 2372 01c4 83C2     		stmia	r2!, {r0, r1, r7}
 2373              	.LVL190:
 215:Src/PID.c     ****     }
 2374              		.loc 1 215 9 view .LVU420
 2375 01c6 3300     		movs	r3, r6
 2376 01c8 1722     		movs	r2, #23
 2377 01ca 2100     		movs	r1, r4
 2378 01cc 2800     		movs	r0, r5
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 49


 2379 01ce FFF7FEFF 		bl	HAL_UART_Transmit
 2380              	.LVL191:
 2381              	.LBE29:
 215:Src/PID.c     ****     }
 2382              		.loc 1 215 9 view .LVU421
 2383              	.LBB30:
 215:Src/PID.c     ****     }
 2384              		.loc 1 215 9 view .LVU422
 2385 01d2 6022     		movs	r2, #96
 2386 01d4 0021     		movs	r1, #0
 2387 01d6 02A8     		add	r0, sp, #8
 2388 01d8 FFF7FEFF 		bl	memset
 2389              	.LVL192:
 215:Src/PID.c     ****     }
 2390              		.loc 1 215 9 view .LVU423
 2391 01dc 2C4B     		ldr	r3, .L88+36
 2392 01de 1A68     		ldr	r2, [r3]
 2393 01e0 0192     		str	r2, [sp, #4]
 2394 01e2 1B79     		ldrb	r3, [r3, #4]
 2395 01e4 2371     		strb	r3, [r4, #4]
 2396              	.LVL193:
 215:Src/PID.c     ****     }
 2397              		.loc 1 215 9 view .LVU424
 2398 01e6 3300     		movs	r3, r6
 2399 01e8 0422     		movs	r2, #4
 2400 01ea 2100     		movs	r1, r4
 2401 01ec 2800     		movs	r0, r5
 2402 01ee FFF7FEFF 		bl	HAL_UART_Transmit
 2403              	.LVL194:
 2404              	.LBE30:
 215:Src/PID.c     ****     }
 2405              		.loc 1 215 9 view .LVU425
 215:Src/PID.c     ****     }
 2406              		.loc 1 215 55 view .LVU426
 215:Src/PID.c     ****     }
 2407              		.loc 1 215 9 is_stmt 0 view .LVU427
 2408 01f2 BFE7     		b	.L68
 2409              	.LVL195:
 2410              	.L87:
 219:Src/PID.c     ****         SERIAL_WRITE_RED("[PID_PHASE_352] UNLOCKED!!!\n");
 2411              		.loc 1 219 9 is_stmt 1 discriminator 2 view .LVU428
 219:Src/PID.c     ****         SERIAL_WRITE_RED("[PID_PHASE_352] UNLOCKED!!!\n");
 2412              		.loc 1 219 28 is_stmt 0 discriminator 2 view .LVU429
 2413 01f4 A723     		movs	r3, #167
 2414 01f6 DB00     		lsls	r3, r3, #3
 2415 01f8 0021     		movs	r1, #0
 2416 01fa D154     		strb	r1, [r2, r3]
 2417              	.LBB31:
 220:Src/PID.c     ****     }
 2418              		.loc 1 220 9 is_stmt 1 discriminator 2 view .LVU430
 2419 01fc 01AC     		add	r4, sp, #4
 2420 01fe 6022     		movs	r2, #96
 2421 0200 02A8     		add	r0, sp, #8
 2422 0202 FFF7FEFF 		bl	memset
 2423              	.LVL196:
 220:Src/PID.c     ****     }
 2424              		.loc 1 220 9 discriminator 2 view .LVU431
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 50


 2425 0206 234B     		ldr	r3, .L88+40
 2426 0208 2200     		movs	r2, r4
 2427 020a 03CB     		ldmia	r3!, {r0, r1}
 2428 020c 03C2     		stmia	r2!, {r0, r1}
 2429              	.LVL197:
 220:Src/PID.c     ****     }
 2430              		.loc 1 220 9 discriminator 2 view .LVU432
 2431 020e FA26     		movs	r6, #250
 2432 0210 B600     		lsls	r6, r6, #2
 2433 0212 1D4D     		ldr	r5, .L88+28
 2434 0214 3300     		movs	r3, r6
 2435 0216 0722     		movs	r2, #7
 2436 0218 2100     		movs	r1, r4
 2437 021a 2800     		movs	r0, r5
 2438 021c FFF7FEFF 		bl	HAL_UART_Transmit
 2439              	.LVL198:
 2440              	.LBE31:
 220:Src/PID.c     ****     }
 2441              		.loc 1 220 9 discriminator 2 view .LVU433
 2442              	.LBB32:
 220:Src/PID.c     ****     }
 2443              		.loc 1 220 9 discriminator 2 view .LVU434
 2444 0220 6022     		movs	r2, #96
 2445 0222 0021     		movs	r1, #0
 2446 0224 02A8     		add	r0, sp, #8
 2447 0226 FFF7FEFF 		bl	memset
 2448              	.LVL199:
 220:Src/PID.c     ****     }
 2449              		.loc 1 220 9 discriminator 2 view .LVU435
 2450 022a 1B4B     		ldr	r3, .L88+44
 2451 022c 2200     		movs	r2, r4
 2452 022e 83CB     		ldmia	r3!, {r0, r1, r7}
 2453 0230 83C2     		stmia	r2!, {r0, r1, r7}
 2454 0232 83CB     		ldmia	r3!, {r0, r1, r7}
 2455 0234 83C2     		stmia	r2!, {r0, r1, r7}
 2456 0236 1968     		ldr	r1, [r3]
 2457 0238 1160     		str	r1, [r2]
 2458 023a 1B79     		ldrb	r3, [r3, #4]
 2459 023c 1371     		strb	r3, [r2, #4]
 2460              	.LVL200:
 220:Src/PID.c     ****     }
 2461              		.loc 1 220 9 discriminator 2 view .LVU436
 2462 023e 3300     		movs	r3, r6
 2463 0240 1C22     		movs	r2, #28
 2464 0242 2100     		movs	r1, r4
 2465 0244 2800     		movs	r0, r5
 2466 0246 FFF7FEFF 		bl	HAL_UART_Transmit
 2467              	.LVL201:
 2468              	.LBE32:
 220:Src/PID.c     ****     }
 2469              		.loc 1 220 9 discriminator 2 view .LVU437
 2470              	.LBB33:
 220:Src/PID.c     ****     }
 2471              		.loc 1 220 9 discriminator 2 view .LVU438
 2472 024a 6022     		movs	r2, #96
 2473 024c 0021     		movs	r1, #0
 2474 024e 02A8     		add	r0, sp, #8
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 51


 2475 0250 FFF7FEFF 		bl	memset
 2476              	.LVL202:
 220:Src/PID.c     ****     }
 2477              		.loc 1 220 9 discriminator 2 view .LVU439
 2478 0254 0E4B     		ldr	r3, .L88+36
 2479 0256 1A68     		ldr	r2, [r3]
 2480 0258 0192     		str	r2, [sp, #4]
 2481 025a 1B79     		ldrb	r3, [r3, #4]
 2482 025c 2371     		strb	r3, [r4, #4]
 2483              	.LVL203:
 220:Src/PID.c     ****     }
 2484              		.loc 1 220 9 discriminator 2 view .LVU440
 2485 025e 3300     		movs	r3, r6
 2486 0260 0422     		movs	r2, #4
 2487 0262 2100     		movs	r1, r4
 2488 0264 2800     		movs	r0, r5
 2489 0266 FFF7FEFF 		bl	HAL_UART_Transmit
 2490              	.LVL204:
 2491              	.LBE33:
 220:Src/PID.c     ****     }
 2492              		.loc 1 220 9 discriminator 2 view .LVU441
 220:Src/PID.c     ****     }
 2493              		.loc 1 220 58 discriminator 2 view .LVU442
 220:Src/PID.c     ****     }
 2494              		.loc 1 220 9 is_stmt 0 discriminator 2 view .LVU443
 2495 026a 83E7     		b	.L68
 2496              	.L89:
 2497              		.align	2
 2498              	.L88:
 2499 026c 00000000 		.word	State
 2500 0270 D4040000 		.word	1236
 2501 0274 D5040000 		.word	1237
 2502 0278 FEFF0000 		.word	65534
 2503 027c FFFF0000 		.word	65535
 2504 0280 4FC30000 		.word	49999
 2505 0284 00000000 		.word	.LC62
 2506 0288 00000000 		.word	huart2
 2507 028c 08000000 		.word	.LC65
 2508 0290 08000000 		.word	.LC44
 2509 0294 20000000 		.word	.LC68
 2510 0298 28000000 		.word	.LC70
 2511              		.cfi_endproc
 2512              	.LFE297:
 2514              		.section	.rodata.PID704.str1.4,"aMS",%progbits,1
 2515              		.align	2
 2516              	.LC81:
 2517 0000 5B504944 		.ascii	"[PID_PHASE_704] LOCKED\012\000"
 2517      5F504841 
 2517      53455F37 
 2517      30345D20 
 2517      4C4F434B 
 2518              		.align	2
 2519              	.LC85:
 2520 0018 5B504944 		.ascii	"[PID_PHASE_704] UNLOCKED!!!\012\000"
 2520      5F504841 
 2520      53455F37 
 2520      30345D20 
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 52


 2520      554E4C4F 
 2521              		.section	.text.PID704,"ax",%progbits
 2522              		.align	1
 2523              		.global	PID704
 2524              		.syntax unified
 2525              		.code	16
 2526              		.thumb_func
 2527              		.fpu softvfp
 2529              	PID704:
 2530              	.LFB298:
 227:Src/PID.c     **** void PID704()
 228:Src/PID.c     **** {
 2531              		.loc 1 228 1 is_stmt 1 view -0
 2532              		.cfi_startproc
 2533              		@ args = 0, pretend = 0, frame = 104
 2534              		@ frame_needed = 0, uses_anonymous_args = 0
 2535 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 2536              	.LCFI24:
 2537              		.cfi_def_cfa_offset 20
 2538              		.cfi_offset 4, -20
 2539              		.cfi_offset 5, -16
 2540              		.cfi_offset 6, -12
 2541              		.cfi_offset 7, -8
 2542              		.cfi_offset 14, -4
 2543 0002 DE46     		mov	lr, fp
 2544 0004 5746     		mov	r7, r10
 2545 0006 4E46     		mov	r6, r9
 2546 0008 4546     		mov	r5, r8
 2547 000a E0B5     		push	{r5, r6, r7, lr}
 2548              	.LCFI25:
 2549              		.cfi_def_cfa_offset 36
 2550              		.cfi_offset 8, -36
 2551              		.cfi_offset 9, -32
 2552              		.cfi_offset 10, -28
 2553              		.cfi_offset 11, -24
 2554 000c 9BB0     		sub	sp, sp, #108
 2555              	.LCFI26:
 2556              		.cfi_def_cfa_offset 144
 229:Src/PID.c     ****     int64_t prevErr = State.PID_704_P_error;
 2557              		.loc 1 229 5 view .LVU445
 2558              		.loc 1 229 13 is_stmt 0 view .LVU446
 2559 000e 964E     		ldr	r6, .L110
 2560 0010 AB23     		movs	r3, #171
 2561 0012 DB00     		lsls	r3, r3, #3
 2562 0014 F718     		adds	r7, r6, r3
 2563 0016 3B68     		ldr	r3, [r7]
 2564 0018 9946     		mov	r9, r3
 2565 001a 7B68     		ldr	r3, [r7, #4]
 2566 001c 9846     		mov	r8, r3
 2567              	.LVL205:
 230:Src/PID.c     **** 
 231:Src/PID.c     ****     State.PID_704_P_error = (State.PD1_Slope * Phase_u(ADC_PD1_Phase_CH)) + (State.PD2_Slope * Phas
 2568              		.loc 1 231 5 is_stmt 1 view .LVU447
 2569              		.loc 1 231 35 is_stmt 0 view .LVU448
 2570 001e 934B     		ldr	r3, .L110+4
 2571              	.LVL206:
 2572              		.loc 1 231 35 view .LVU449
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 53


 2573 0020 F456     		ldrsb	r4, [r6, r3]
 2574 0022 E517     		asrs	r5, r4, #31
 2575              		.loc 1 231 48 view .LVU450
 2576 0024 0620     		movs	r0, #6
 2577 0026 FFF7FEFF 		bl	Phase_u
 2578              	.LVL207:
 2579 002a 0200     		movs	r2, r0
 2580 002c 0B00     		movs	r3, r1
 2581              		.loc 1 231 46 view .LVU451
 2582 002e 2000     		movs	r0, r4
 2583 0030 2900     		movs	r1, r5
 2584 0032 FFF7FEFF 		bl	__aeabi_lmul
 2585              	.LVL208:
 2586 0036 0400     		movs	r4, r0
 2587 0038 0D00     		movs	r5, r1
 2588              		.loc 1 231 83 view .LVU452
 2589 003a 8D4B     		ldr	r3, .L110+8
 2590 003c F356     		ldrsb	r3, [r6, r3]
 2591 003e 9A46     		mov	r10, r3
 2592 0040 DB17     		asrs	r3, r3, #31
 2593 0042 9B46     		mov	fp, r3
 2594              		.loc 1 231 96 view .LVU453
 2595 0044 0020     		movs	r0, #0
 2596 0046 FFF7FEFF 		bl	Phase_u
 2597              	.LVL209:
 2598 004a 0200     		movs	r2, r0
 2599 004c 0B00     		movs	r3, r1
 2600              		.loc 1 231 94 view .LVU454
 2601 004e 5046     		mov	r0, r10
 2602 0050 5946     		mov	r1, fp
 2603 0052 FFF7FEFF 		bl	__aeabi_lmul
 2604              	.LVL210:
 2605              		.loc 1 231 75 view .LVU455
 2606 0056 2418     		adds	r4, r4, r0
 2607 0058 4D41     		adcs	r5, r5, r1
 2608              		.loc 1 231 131 view .LVU456
 2609 005a 9B23     		movs	r3, #155
 2610 005c DB00     		lsls	r3, r3, #3
 2611 005e F318     		adds	r3, r6, r3
 2612 0060 1868     		ldr	r0, [r3]
 2613 0062 5968     		ldr	r1, [r3, #4]
 2614              		.loc 1 231 149 view .LVU457
 2615 0064 FA22     		movs	r2, #250
 2616 0066 9200     		lsls	r2, r2, #2
 2617 0068 0023     		movs	r3, #0
 2618 006a FFF7FEFF 		bl	__aeabi_lmul
 2619              	.LVL211:
 2620              		.loc 1 231 123 view .LVU458
 2621 006e 241A     		subs	r4, r4, r0
 2622 0070 8D41     		sbcs	r5, r5, r1
 2623              		.loc 1 231 27 view .LVU459
 2624 0072 3C60     		str	r4, [r7]
 2625 0074 7D60     		str	r5, [r7, #4]
 232:Src/PID.c     ****     State.PID_704_I_error = (State.PID_704_I_error + State.PID_704_P_error) / State.PID_704_T;
 2626              		.loc 1 232 5 is_stmt 1 view .LVU460
 2627              		.loc 1 232 35 is_stmt 0 view .LVU461
 2628 0076 AC23     		movs	r3, #172
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 54


 2629 0078 DB00     		lsls	r3, r3, #3
 2630 007a F718     		adds	r7, r6, r3
 2631              		.loc 1 232 52 view .LVU462
 2632 007c 3868     		ldr	r0, [r7]
 2633 007e 7968     		ldr	r1, [r7, #4]
 2634 0080 0019     		adds	r0, r0, r4
 2635 0082 6941     		adcs	r1, r1, r5
 2636              		.loc 1 232 84 view .LVU463
 2637 0084 103B     		subs	r3, r3, #16
 2638 0086 F318     		adds	r3, r6, r3
 2639 0088 1A68     		ldr	r2, [r3]
 2640 008a 5B68     		ldr	r3, [r3, #4]
 2641              		.loc 1 232 77 view .LVU464
 2642 008c FFF7FEFF 		bl	__aeabi_ldivmod
 2643              	.LVL212:
 2644 0090 8246     		mov	r10, r0
 2645              		.loc 1 232 27 view .LVU465
 2646 0092 3860     		str	r0, [r7]
 2647 0094 7960     		str	r1, [r7, #4]
 233:Src/PID.c     ****     State.PID_704_Output = State.PID_704_Output + (State.PID_704_P * State.PID_704_P_error) / 1000 
 2648              		.loc 1 233 5 is_stmt 1 view .LVU466
 2649              		.loc 1 233 33 is_stmt 0 view .LVU467
 2650 0096 774F     		ldr	r7, .L110+12
 2651 0098 F359     		ldr	r3, [r6, r7]
 2652 009a 9B46     		mov	fp, r3
 2653              		.loc 1 233 57 view .LVU468
 2654 009c A823     		movs	r3, #168
 2655 009e DB00     		lsls	r3, r3, #3
 2656 00a0 F318     		adds	r3, r6, r3
 2657 00a2 1A68     		ldr	r2, [r3]
 2658 00a4 5B68     		ldr	r3, [r3, #4]
 2659              		.loc 1 233 68 view .LVU469
 2660 00a6 2000     		movs	r0, r4
 2661 00a8 2900     		movs	r1, r5
 2662 00aa FFF7FEFF 		bl	__aeabi_lmul
 2663              	.LVL213:
 2664              		.loc 1 233 93 view .LVU470
 2665 00ae FA22     		movs	r2, #250
 2666 00b0 9200     		lsls	r2, r2, #2
 2667 00b2 0023     		movs	r3, #0
 2668 00b4 FFF7FEFF 		bl	__aeabi_ldivmod
 2669              	.LVL214:
 2670              		.loc 1 233 49 view .LVU471
 2671 00b8 0300     		movs	r3, r0
 2672 00ba 5B44     		add	r3, r3, fp
 2673              		.loc 1 233 108 view .LVU472
 2674 00bc A922     		movs	r2, #169
 2675 00be D200     		lsls	r2, r2, #3
 2676 00c0 B218     		adds	r2, r6, r2
 2677 00c2 1068     		ldr	r0, [r2]
 2678              		.loc 1 233 100 view .LVU473
 2679 00c4 5246     		mov	r2, r10
 2680 00c6 5043     		muls	r0, r2
 2681 00c8 C018     		adds	r0, r0, r3
 2682              		.loc 1 233 26 view .LVU474
 2683 00ca F051     		str	r0, [r6, r7]
 234:Src/PID.c     **** 
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 55


 235:Src/PID.c     ****     if (State.PID_704_Output >= 0xffff)
 2684              		.loc 1 235 5 is_stmt 1 view .LVU475
 2685              		.loc 1 235 8 is_stmt 0 view .LVU476
 2686 00cc 6A4B     		ldr	r3, .L110+16
 2687 00ce 9842     		cmp	r0, r3
 2688 00d0 01D9     		bls	.L91
 236:Src/PID.c     ****     {
 237:Src/PID.c     ****         State.PID_704_Output = 0xffff;
 2689              		.loc 1 237 9 is_stmt 1 view .LVU477
 2690              		.loc 1 237 30 is_stmt 0 view .LVU478
 2691 00d2 6A49     		ldr	r1, .L110+20
 2692 00d4 F151     		str	r1, [r6, r7]
 2693              	.L91:
 238:Src/PID.c     ****     }
 239:Src/PID.c     ****     DAC_cmd(RF_PS_704_FINE + DAC_WRITE + State.PID_704_Output);
 2694              		.loc 1 239 5 is_stmt 1 view .LVU479
 2695              		.loc 1 239 47 is_stmt 0 view .LVU480
 2696 00d6 644C     		ldr	r4, .L110
 2697 00d8 664B     		ldr	r3, .L110+12
 2698 00da E058     		ldr	r0, [r4, r3]
 2699              		.loc 1 239 5 view .LVU481
 2700 00dc B823     		movs	r3, #184
 2701 00de 5B03     		lsls	r3, r3, #13
 2702 00e0 9C46     		mov	ip, r3
 2703 00e2 6044     		add	r0, r0, ip
 2704 00e4 FFF7FEFF 		bl	DAC_cmd
 2705              	.LVL215:
 240:Src/PID.c     **** 
 241:Src/PID.c     ****     if (State.PID_704_P_error < 50000 && prevErr < 50000 && State.PID_704_LOCK == 1)
 2706              		.loc 1 241 5 is_stmt 1 view .LVU482
 2707              		.loc 1 241 14 is_stmt 0 view .LVU483
 2708 00e8 AB23     		movs	r3, #171
 2709 00ea DB00     		lsls	r3, r3, #3
 2710 00ec 9C46     		mov	ip, r3
 2711 00ee 6444     		add	r4, r4, ip
 2712 00f0 2268     		ldr	r2, [r4]
 2713 00f2 6368     		ldr	r3, [r4, #4]
 2714              		.loc 1 241 8 view .LVU484
 2715 00f4 002B     		cmp	r3, #0
 2716 00f6 10DC     		bgt	.L92
 2717 00f8 02D1     		bne	.L103
 2718 00fa 6149     		ldr	r1, .L110+24
 2719 00fc 8A42     		cmp	r2, r1
 2720 00fe 0CD8     		bhi	.L92
 2721              	.L103:
 2722              		.loc 1 241 39 discriminator 1 view .LVU485
 2723 0100 4146     		mov	r1, r8
 2724 0102 0029     		cmp	r1, #0
 2725 0104 09DC     		bgt	.L92
 2726              	.LVL216:
 2727              		.loc 1 241 39 discriminator 1 view .LVU486
 2728 0106 02D1     		bne	.L104
 2729 0108 5D49     		ldr	r1, .L110+24
 2730              	.LVL217:
 2731              		.loc 1 241 39 discriminator 1 view .LVU487
 2732 010a 8945     		cmp	r9, r1
 2733 010c 05D8     		bhi	.L92
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 56


 2734              	.L104:
 2735              		.loc 1 241 66 discriminator 2 view .LVU488
 2736 010e 5648     		ldr	r0, .L110
 2737 0110 AD21     		movs	r1, #173
 2738 0112 C900     		lsls	r1, r1, #3
 2739 0114 4156     		ldrsb	r1, [r0, r1]
 2740              		.loc 1 241 58 discriminator 2 view .LVU489
 2741 0116 0129     		cmp	r1, #1
 2742 0118 2AD0     		beq	.L90
 2743              	.L92:
 242:Src/PID.c     ****     {
 243:Src/PID.c     ****         return;
 244:Src/PID.c     ****     }
 245:Src/PID.c     ****     else if (State.PID_704_P_error < 50000 && prevErr < 50000 && State.PID_704_LOCK == 0)
 2744              		.loc 1 245 10 is_stmt 1 view .LVU490
 2745              		.loc 1 245 13 is_stmt 0 view .LVU491
 2746 011a 002B     		cmp	r3, #0
 2747 011c 10DC     		bgt	.L96
 2748 011e 02D1     		bne	.L105
 2749 0120 5749     		ldr	r1, .L110+24
 2750 0122 8A42     		cmp	r2, r1
 2751 0124 0CD8     		bhi	.L96
 2752              	.L105:
 2753              		.loc 1 245 44 discriminator 1 view .LVU492
 2754 0126 4146     		mov	r1, r8
 2755 0128 0029     		cmp	r1, #0
 2756 012a 09DC     		bgt	.L96
 2757              	.LVL218:
 2758              		.loc 1 245 44 discriminator 1 view .LVU493
 2759 012c 02D1     		bne	.L106
 2760 012e 5449     		ldr	r1, .L110+24
 2761              	.LVL219:
 2762              		.loc 1 245 44 discriminator 1 view .LVU494
 2763 0130 8945     		cmp	r9, r1
 2764 0132 05D8     		bhi	.L96
 2765              	.L106:
 2766              		.loc 1 245 71 discriminator 2 view .LVU495
 2767 0134 4C48     		ldr	r0, .L110
 2768 0136 AD21     		movs	r1, #173
 2769 0138 C900     		lsls	r1, r1, #3
 2770 013a 4156     		ldrsb	r1, [r0, r1]
 2771              		.loc 1 245 63 discriminator 2 view .LVU496
 2772 013c 0029     		cmp	r1, #0
 2773 013e 1ED0     		beq	.L108
 2774              	.L96:
 246:Src/PID.c     ****     {
 247:Src/PID.c     ****         State.PID_704_LOCK = 1;
 248:Src/PID.c     ****         SERIAL_WRITE_GREEN("[PID_PHASE_704] LOCKED\n");
 249:Src/PID.c     ****     }
 250:Src/PID.c     ****     else if ((State.PID_704_P_error >= 50000 || prevErr >= 50000) && State.PID_704_LOCK == 1)
 2775              		.loc 1 250 10 is_stmt 1 view .LVU497
 2776              		.loc 1 250 13 is_stmt 0 view .LVU498
 2777 0140 002B     		cmp	r3, #0
 2778 0142 0ADC     		bgt	.L99
 2779 0144 02D1     		bne	.L107
 2780 0146 4E4B     		ldr	r3, .L110+24
 2781 0148 9A42     		cmp	r2, r3
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 57


 2782 014a 06D8     		bhi	.L99
 2783              	.L107:
 2784              		.loc 1 250 46 discriminator 2 view .LVU499
 2785 014c 4346     		mov	r3, r8
 2786 014e 002B     		cmp	r3, #0
 2787 0150 03DC     		bgt	.L99
 2788              	.LVL220:
 2789              		.loc 1 250 46 discriminator 2 view .LVU500
 2790 0152 08D1     		bne	.L101
 2791 0154 4A4B     		ldr	r3, .L110+24
 2792              	.LVL221:
 2793              		.loc 1 250 46 discriminator 2 view .LVU501
 2794 0156 9945     		cmp	r9, r3
 2795 0158 05D9     		bls	.L101
 2796              	.L99:
 2797              		.loc 1 250 75 discriminator 3 view .LVU502
 2798 015a 434A     		ldr	r2, .L110
 2799 015c AD23     		movs	r3, #173
 2800 015e DB00     		lsls	r3, r3, #3
 2801 0160 D356     		ldrsb	r3, [r2, r3]
 2802              		.loc 1 250 67 discriminator 3 view .LVU503
 2803 0162 012B     		cmp	r3, #1
 2804 0164 44D0     		beq	.L109
 2805              	.L101:
 251:Src/PID.c     ****     {
 252:Src/PID.c     ****         State.PID_704_LOCK = 0;
 253:Src/PID.c     ****         SERIAL_WRITE_RED("[PID_PHASE_704] UNLOCKED!!!\n");
 254:Src/PID.c     ****     }
 255:Src/PID.c     ****     else
 256:Src/PID.c     ****     {
 257:Src/PID.c     ****         State.PID_704_LOCK = 0;
 2806              		.loc 1 257 9 is_stmt 1 view .LVU504
 2807              		.loc 1 257 28 is_stmt 0 view .LVU505
 2808 0166 404A     		ldr	r2, .L110
 2809 0168 AD23     		movs	r3, #173
 2810 016a DB00     		lsls	r3, r3, #3
 2811 016c 0021     		movs	r1, #0
 2812 016e D154     		strb	r1, [r2, r3]
 2813              	.L90:
 258:Src/PID.c     ****     }
 259:Src/PID.c     **** }
 2814              		.loc 1 259 1 view .LVU506
 2815 0170 1BB0     		add	sp, sp, #108
 2816              		@ sp needed
 2817              	.LVL222:
 2818              		.loc 1 259 1 view .LVU507
 2819 0172 3CBC     		pop	{r2, r3, r4, r5}
 2820 0174 9046     		mov	r8, r2
 2821 0176 9946     		mov	r9, r3
 2822 0178 A246     		mov	r10, r4
 2823 017a AB46     		mov	fp, r5
 2824 017c F0BD     		pop	{r4, r5, r6, r7, pc}
 2825              	.LVL223:
 2826              	.L108:
 247:Src/PID.c     ****         SERIAL_WRITE_GREEN("[PID_PHASE_704] LOCKED\n");
 2827              		.loc 1 247 9 is_stmt 1 view .LVU508
 247:Src/PID.c     ****         SERIAL_WRITE_GREEN("[PID_PHASE_704] LOCKED\n");
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 58


 2828              		.loc 1 247 28 is_stmt 0 view .LVU509
 2829 017e AD23     		movs	r3, #173
 2830 0180 DB00     		lsls	r3, r3, #3
 2831 0182 0131     		adds	r1, r1, #1
 2832 0184 C154     		strb	r1, [r0, r3]
 2833              	.LBB34:
 248:Src/PID.c     ****     }
 2834              		.loc 1 248 9 is_stmt 1 view .LVU510
 2835 0186 01AC     		add	r4, sp, #4
 2836 0188 6022     		movs	r2, #96
 2837 018a 0021     		movs	r1, #0
 2838 018c 02A8     		add	r0, sp, #8
 2839 018e FFF7FEFF 		bl	memset
 2840              	.LVL224:
 248:Src/PID.c     ****     }
 2841              		.loc 1 248 9 view .LVU511
 2842 0192 3C4B     		ldr	r3, .L110+28
 2843 0194 2200     		movs	r2, r4
 2844 0196 03CB     		ldmia	r3!, {r0, r1}
 2845 0198 03C2     		stmia	r2!, {r0, r1}
 2846              	.LVL225:
 248:Src/PID.c     ****     }
 2847              		.loc 1 248 9 view .LVU512
 2848 019a FA26     		movs	r6, #250
 2849 019c B600     		lsls	r6, r6, #2
 2850 019e 3A4D     		ldr	r5, .L110+32
 2851 01a0 3300     		movs	r3, r6
 2852 01a2 0722     		movs	r2, #7
 2853 01a4 2100     		movs	r1, r4
 2854 01a6 2800     		movs	r0, r5
 2855 01a8 FFF7FEFF 		bl	HAL_UART_Transmit
 2856              	.LVL226:
 2857              	.LBE34:
 248:Src/PID.c     ****     }
 2858              		.loc 1 248 9 view .LVU513
 2859              	.LBB35:
 248:Src/PID.c     ****     }
 2860              		.loc 1 248 9 view .LVU514
 2861 01ac 6022     		movs	r2, #96
 2862 01ae 0021     		movs	r1, #0
 2863 01b0 02A8     		add	r0, sp, #8
 2864 01b2 FFF7FEFF 		bl	memset
 2865              	.LVL227:
 248:Src/PID.c     ****     }
 2866              		.loc 1 248 9 view .LVU515
 2867 01b6 354B     		ldr	r3, .L110+36
 2868 01b8 2200     		movs	r2, r4
 2869 01ba 83CB     		ldmia	r3!, {r0, r1, r7}
 2870 01bc 83C2     		stmia	r2!, {r0, r1, r7}
 2871 01be 83CB     		ldmia	r3!, {r0, r1, r7}
 2872 01c0 83C2     		stmia	r2!, {r0, r1, r7}
 2873              	.LVL228:
 248:Src/PID.c     ****     }
 2874              		.loc 1 248 9 view .LVU516
 2875 01c2 3300     		movs	r3, r6
 2876 01c4 1722     		movs	r2, #23
 2877 01c6 2100     		movs	r1, r4
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 59


 2878 01c8 2800     		movs	r0, r5
 2879 01ca FFF7FEFF 		bl	HAL_UART_Transmit
 2880              	.LVL229:
 2881              	.LBE35:
 248:Src/PID.c     ****     }
 2882              		.loc 1 248 9 view .LVU517
 2883              	.LBB36:
 248:Src/PID.c     ****     }
 2884              		.loc 1 248 9 view .LVU518
 2885 01ce 6022     		movs	r2, #96
 2886 01d0 0021     		movs	r1, #0
 2887 01d2 02A8     		add	r0, sp, #8
 2888 01d4 FFF7FEFF 		bl	memset
 2889              	.LVL230:
 248:Src/PID.c     ****     }
 2890              		.loc 1 248 9 view .LVU519
 2891 01d8 2D4B     		ldr	r3, .L110+40
 2892 01da 1A68     		ldr	r2, [r3]
 2893 01dc 0192     		str	r2, [sp, #4]
 2894 01de 1B79     		ldrb	r3, [r3, #4]
 2895 01e0 2371     		strb	r3, [r4, #4]
 2896              	.LVL231:
 248:Src/PID.c     ****     }
 2897              		.loc 1 248 9 view .LVU520
 2898 01e2 3300     		movs	r3, r6
 2899 01e4 0422     		movs	r2, #4
 2900 01e6 2100     		movs	r1, r4
 2901 01e8 2800     		movs	r0, r5
 2902 01ea FFF7FEFF 		bl	HAL_UART_Transmit
 2903              	.LVL232:
 2904              	.LBE36:
 248:Src/PID.c     ****     }
 2905              		.loc 1 248 9 view .LVU521
 248:Src/PID.c     ****     }
 2906              		.loc 1 248 55 view .LVU522
 248:Src/PID.c     ****     }
 2907              		.loc 1 248 9 is_stmt 0 view .LVU523
 2908 01ee BFE7     		b	.L90
 2909              	.LVL233:
 2910              	.L109:
 252:Src/PID.c     ****         SERIAL_WRITE_RED("[PID_PHASE_704] UNLOCKED!!!\n");
 2911              		.loc 1 252 9 is_stmt 1 discriminator 2 view .LVU524
 252:Src/PID.c     ****         SERIAL_WRITE_RED("[PID_PHASE_704] UNLOCKED!!!\n");
 2912              		.loc 1 252 28 is_stmt 0 discriminator 2 view .LVU525
 2913 01f0 AD23     		movs	r3, #173
 2914 01f2 DB00     		lsls	r3, r3, #3
 2915 01f4 0021     		movs	r1, #0
 2916 01f6 D154     		strb	r1, [r2, r3]
 2917              	.LBB37:
 253:Src/PID.c     ****     }
 2918              		.loc 1 253 9 is_stmt 1 discriminator 2 view .LVU526
 2919 01f8 01AC     		add	r4, sp, #4
 2920 01fa 6022     		movs	r2, #96
 2921 01fc 02A8     		add	r0, sp, #8
 2922 01fe FFF7FEFF 		bl	memset
 2923              	.LVL234:
 253:Src/PID.c     ****     }
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 60


 2924              		.loc 1 253 9 discriminator 2 view .LVU527
 2925 0202 244B     		ldr	r3, .L110+44
 2926 0204 2200     		movs	r2, r4
 2927 0206 03CB     		ldmia	r3!, {r0, r1}
 2928 0208 03C2     		stmia	r2!, {r0, r1}
 2929              	.LVL235:
 253:Src/PID.c     ****     }
 2930              		.loc 1 253 9 discriminator 2 view .LVU528
 2931 020a FA26     		movs	r6, #250
 2932 020c B600     		lsls	r6, r6, #2
 2933 020e 1E4D     		ldr	r5, .L110+32
 2934 0210 3300     		movs	r3, r6
 2935 0212 0722     		movs	r2, #7
 2936 0214 2100     		movs	r1, r4
 2937 0216 2800     		movs	r0, r5
 2938 0218 FFF7FEFF 		bl	HAL_UART_Transmit
 2939              	.LVL236:
 2940              	.LBE37:
 253:Src/PID.c     ****     }
 2941              		.loc 1 253 9 discriminator 2 view .LVU529
 2942              	.LBB38:
 253:Src/PID.c     ****     }
 2943              		.loc 1 253 9 discriminator 2 view .LVU530
 2944 021c 6022     		movs	r2, #96
 2945 021e 0021     		movs	r1, #0
 2946 0220 02A8     		add	r0, sp, #8
 2947 0222 FFF7FEFF 		bl	memset
 2948              	.LVL237:
 253:Src/PID.c     ****     }
 2949              		.loc 1 253 9 discriminator 2 view .LVU531
 2950 0226 1C4B     		ldr	r3, .L110+48
 2951 0228 2200     		movs	r2, r4
 2952 022a 83CB     		ldmia	r3!, {r0, r1, r7}
 2953 022c 83C2     		stmia	r2!, {r0, r1, r7}
 2954 022e 83CB     		ldmia	r3!, {r0, r1, r7}
 2955 0230 83C2     		stmia	r2!, {r0, r1, r7}
 2956 0232 1968     		ldr	r1, [r3]
 2957 0234 1160     		str	r1, [r2]
 2958 0236 1B79     		ldrb	r3, [r3, #4]
 2959 0238 1371     		strb	r3, [r2, #4]
 2960              	.LVL238:
 253:Src/PID.c     ****     }
 2961              		.loc 1 253 9 discriminator 2 view .LVU532
 2962 023a 3300     		movs	r3, r6
 2963 023c 1C22     		movs	r2, #28
 2964 023e 2100     		movs	r1, r4
 2965 0240 2800     		movs	r0, r5
 2966 0242 FFF7FEFF 		bl	HAL_UART_Transmit
 2967              	.LVL239:
 2968              	.LBE38:
 253:Src/PID.c     ****     }
 2969              		.loc 1 253 9 discriminator 2 view .LVU533
 2970              	.LBB39:
 253:Src/PID.c     ****     }
 2971              		.loc 1 253 9 discriminator 2 view .LVU534
 2972 0246 6022     		movs	r2, #96
 2973 0248 0021     		movs	r1, #0
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 61


 2974 024a 02A8     		add	r0, sp, #8
 2975 024c FFF7FEFF 		bl	memset
 2976              	.LVL240:
 253:Src/PID.c     ****     }
 2977              		.loc 1 253 9 discriminator 2 view .LVU535
 2978 0250 0F4B     		ldr	r3, .L110+40
 2979 0252 1A68     		ldr	r2, [r3]
 2980 0254 0192     		str	r2, [sp, #4]
 2981 0256 1B79     		ldrb	r3, [r3, #4]
 2982 0258 2371     		strb	r3, [r4, #4]
 2983              	.LVL241:
 253:Src/PID.c     ****     }
 2984              		.loc 1 253 9 discriminator 2 view .LVU536
 2985 025a 3300     		movs	r3, r6
 2986 025c 0422     		movs	r2, #4
 2987 025e 2100     		movs	r1, r4
 2988 0260 2800     		movs	r0, r5
 2989 0262 FFF7FEFF 		bl	HAL_UART_Transmit
 2990              	.LVL242:
 2991              	.LBE39:
 253:Src/PID.c     ****     }
 2992              		.loc 1 253 9 discriminator 2 view .LVU537
 253:Src/PID.c     ****     }
 2993              		.loc 1 253 58 discriminator 2 view .LVU538
 253:Src/PID.c     ****     }
 2994              		.loc 1 253 9 is_stmt 0 discriminator 2 view .LVU539
 2995 0266 83E7     		b	.L90
 2996              	.L111:
 2997              		.align	2
 2998              	.L110:
 2999 0268 00000000 		.word	State
 3000 026c D2040000 		.word	1234
 3001 0270 D3040000 		.word	1235
 3002 0274 3C050000 		.word	1340
 3003 0278 FEFF0000 		.word	65534
 3004 027c FFFF0000 		.word	65535
 3005 0280 4FC30000 		.word	49999
 3006 0284 00000000 		.word	.LC62
 3007 0288 00000000 		.word	huart2
 3008 028c 00000000 		.word	.LC81
 3009 0290 08000000 		.word	.LC44
 3010 0294 20000000 		.word	.LC68
 3011 0298 18000000 		.word	.LC85
 3012              		.cfi_endproc
 3013              	.LFE298:
 3015              		.section	.text.POWER_PID352,"ax",%progbits
 3016              		.align	1
 3017              		.global	POWER_PID352
 3018              		.syntax unified
 3019              		.code	16
 3020              		.thumb_func
 3021              		.fpu softvfp
 3023              	POWER_PID352:
 3024              	.LFB299:
 260:Src/PID.c     **** 
 261:Src/PID.c     **** void POWER_PID352()
 262:Src/PID.c     **** {
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 62


 3025              		.loc 1 262 1 is_stmt 1 view -0
 3026              		.cfi_startproc
 3027              		@ args = 0, pretend = 0, frame = 0
 3028              		@ frame_needed = 0, uses_anonymous_args = 0
 3029 0000 70B5     		push	{r4, r5, r6, lr}
 3030              	.LCFI27:
 3031              		.cfi_def_cfa_offset 16
 3032              		.cfi_offset 4, -16
 3033              		.cfi_offset 5, -12
 3034              		.cfi_offset 6, -8
 3035              		.cfi_offset 14, -4
 263:Src/PID.c     ****     State.POWER_PID_352_P_error = (int64_t)State.ADC_ValuesFiltered[RF_POWER_AMP352] - (int64_t)Sta
 3036              		.loc 1 263 5 view .LVU541
 3037              		.loc 1 263 68 is_stmt 0 view .LVU542
 3038 0002 1A4B     		ldr	r3, .L119
 3039              		.loc 1 263 35 view .LVU543
 3040 0004 1A4A     		ldr	r2, .L119+4
 3041 0006 9858     		ldr	r0, [r3, r2]
 3042 0008 0021     		movs	r1, #0
 3043              		.loc 1 263 88 view .LVU544
 3044 000a 1A4A     		ldr	r2, .L119+8
 3045 000c 9C58     		ldr	r4, [r3, r2]
 3046 000e 0025     		movs	r5, #0
 3047              		.loc 1 263 86 view .LVU545
 3048 0010 001B     		subs	r0, r0, r4
 3049 0012 A941     		sbcs	r1, r1, r5
 3050              		.loc 1 263 33 view .LVU546
 3051 0014 2432     		adds	r2, r2, #36
 3052 0016 9A18     		adds	r2, r3, r2
 3053 0018 1060     		str	r0, [r2]
 3054 001a 5160     		str	r1, [r2, #4]
 264:Src/PID.c     ****     int64_t output = (int64_t)State.POWER_PID_352_Output + (State.POWER_PID_352_P_error / 1000);
 3055              		.loc 1 264 5 is_stmt 1 view .LVU547
 3056              		.loc 1 264 22 is_stmt 0 view .LVU548
 3057 001c 164A     		ldr	r2, .L119+12
 3058 001e 9C58     		ldr	r4, [r3, r2]
 3059 0020 0025     		movs	r5, #0
 3060              		.loc 1 264 89 view .LVU549
 3061 0022 FA22     		movs	r2, #250
 3062 0024 9200     		lsls	r2, r2, #2
 3063 0026 0023     		movs	r3, #0
 3064 0028 FFF7FEFF 		bl	__aeabi_ldivmod
 3065              	.LVL243:
 3066              		.loc 1 264 13 view .LVU550
 3067 002c 0019     		adds	r0, r0, r4
 3068 002e 6941     		adcs	r1, r1, r5
 3069              	.LVL244:
 265:Src/PID.c     ****     if (output > 0xffff)
 3070              		.loc 1 265 5 is_stmt 1 view .LVU551
 3071              		.loc 1 265 8 is_stmt 0 view .LVU552
 3072 0030 0029     		cmp	r1, #0
 3073 0032 08DC     		bgt	.L116
 3074 0034 03D1     		bne	.L118
 3075 0036 8023     		movs	r3, #128
 3076 0038 5B02     		lsls	r3, r3, #9
 3077 003a 9842     		cmp	r0, r3
 3078 003c 03D2     		bcs	.L116
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 63


 3079              	.L118:
 266:Src/PID.c     ****     {
 267:Src/PID.c     ****         output = 0xffff;
 268:Src/PID.c     ****     }
 269:Src/PID.c     ****     else if (output < 0)
 3080              		.loc 1 269 10 is_stmt 1 view .LVU553
 3081              		.loc 1 269 13 is_stmt 0 view .LVU554
 3082 003e 0029     		cmp	r1, #0
 3083 0040 02DA     		bge	.L113
 270:Src/PID.c     ****     {
 271:Src/PID.c     ****         output = 0;
 3084              		.loc 1 271 16 view .LVU555
 3085 0042 0020     		movs	r0, #0
 3086              	.LVL245:
 3087              		.loc 1 271 16 view .LVU556
 3088 0044 00E0     		b	.L113
 3089              	.LVL246:
 3090              	.L116:
 267:Src/PID.c     ****     }
 3091              		.loc 1 267 16 view .LVU557
 3092 0046 0D48     		ldr	r0, .L119+16
 3093              	.LVL247:
 3094              	.L113:
 272:Src/PID.c     ****     }
 273:Src/PID.c     ****     State.POWER_PID_352_Output = (uint32_t)output;
 3095              		.loc 1 273 5 is_stmt 1 view .LVU558
 3096              		.loc 1 273 32 is_stmt 0 view .LVU559
 3097 0048 084D     		ldr	r5, .L119
 3098 004a 0B4C     		ldr	r4, .L119+12
 3099 004c 2851     		str	r0, [r5, r4]
 274:Src/PID.c     ****     DAC_cmd(RF_ATT_352_OFFSET + DAC_WRITE + State.POWER_PID_352_Output);
 3100              		.loc 1 274 5 is_stmt 1 view .LVU560
 3101 004e 9823     		movs	r3, #152
 3102 0050 5B03     		lsls	r3, r3, #13
 3103 0052 9C46     		mov	ip, r3
 3104 0054 6044     		add	r0, r0, ip
 3105 0056 FFF7FEFF 		bl	DAC_cmd
 3106              	.LVL248:
 275:Src/PID.c     ****     DAC_cmd(RF_ATT_352_FINE + DAC_WRITE + State.POWER_PID_352_Output);
 3107              		.loc 1 275 5 view .LVU561
 3108              		.loc 1 275 48 is_stmt 0 view .LVU562
 3109 005a 2859     		ldr	r0, [r5, r4]
 3110              		.loc 1 275 5 view .LVU563
 3111 005c 9023     		movs	r3, #144
 3112 005e 5B03     		lsls	r3, r3, #13
 3113 0060 9C46     		mov	ip, r3
 3114 0062 6044     		add	r0, r0, ip
 3115 0064 FFF7FEFF 		bl	DAC_cmd
 3116              	.LVL249:
 276:Src/PID.c     **** }
 3117              		.loc 1 276 1 view .LVU564
 3118              		@ sp needed
 3119 0068 70BD     		pop	{r4, r5, r6, pc}
 3120              	.L120:
 3121 006a C046     		.align	2
 3122              	.L119:
 3123 006c 00000000 		.word	State
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 64


 3124 0070 B4040000 		.word	1204
 3125 0074 6C050000 		.word	1388
 3126 0078 74050000 		.word	1396
 3127 007c FFFF0000 		.word	65535
 3128              		.cfi_endproc
 3129              	.LFE299:
 3131              		.section	.text.POWER_PID704,"ax",%progbits
 3132              		.align	1
 3133              		.global	POWER_PID704
 3134              		.syntax unified
 3135              		.code	16
 3136              		.thumb_func
 3137              		.fpu softvfp
 3139              	POWER_PID704:
 3140              	.LFB300:
 277:Src/PID.c     **** 
 278:Src/PID.c     **** void POWER_PID704()
 279:Src/PID.c     **** {
 3141              		.loc 1 279 1 is_stmt 1 view -0
 3142              		.cfi_startproc
 3143              		@ args = 0, pretend = 0, frame = 0
 3144              		@ frame_needed = 0, uses_anonymous_args = 0
 3145 0000 70B5     		push	{r4, r5, r6, lr}
 3146              	.LCFI28:
 3147              		.cfi_def_cfa_offset 16
 3148              		.cfi_offset 4, -16
 3149              		.cfi_offset 5, -12
 3150              		.cfi_offset 6, -8
 3151              		.cfi_offset 14, -4
 280:Src/PID.c     ****     State.POWER_PID_704_P_error = (int64_t)State.ADC_ValuesFiltered[RF_POWER_AMP704] - (int64_t)Sta
 3152              		.loc 1 280 5 view .LVU566
 3153              		.loc 1 280 68 is_stmt 0 view .LVU567
 3154 0002 1A4B     		ldr	r3, .L128
 3155              		.loc 1 280 35 view .LVU568
 3156 0004 9722     		movs	r2, #151
 3157 0006 D200     		lsls	r2, r2, #3
 3158 0008 9858     		ldr	r0, [r3, r2]
 3159 000a 0021     		movs	r1, #0
 3160              		.loc 1 280 88 view .LVU569
 3161 000c B832     		adds	r2, r2, #184
 3162 000e 9C58     		ldr	r4, [r3, r2]
 3163 0010 0025     		movs	r5, #0
 3164              		.loc 1 280 86 view .LVU570
 3165 0012 001B     		subs	r0, r0, r4
 3166 0014 A941     		sbcs	r1, r1, r5
 3167              		.loc 1 280 33 view .LVU571
 3168 0016 5832     		adds	r2, r2, #88
 3169 0018 9A18     		adds	r2, r3, r2
 3170 001a 1060     		str	r0, [r2]
 3171 001c 5160     		str	r1, [r2, #4]
 281:Src/PID.c     ****     int64_t output = (int64_t)State.POWER_PID_704_Output + (State.POWER_PID_704_P_error / 1000);
 3172              		.loc 1 281 5 is_stmt 1 view .LVU572
 3173              		.loc 1 281 22 is_stmt 0 view .LVU573
 3174 001e 144A     		ldr	r2, .L128+4
 3175 0020 9C58     		ldr	r4, [r3, r2]
 3176 0022 0025     		movs	r5, #0
 3177              		.loc 1 281 89 view .LVU574
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 65


 3178 0024 FA22     		movs	r2, #250
 3179 0026 9200     		lsls	r2, r2, #2
 3180 0028 0023     		movs	r3, #0
 3181 002a FFF7FEFF 		bl	__aeabi_ldivmod
 3182              	.LVL250:
 3183              		.loc 1 281 13 view .LVU575
 3184 002e 0019     		adds	r0, r0, r4
 3185 0030 6941     		adcs	r1, r1, r5
 3186              	.LVL251:
 282:Src/PID.c     ****     if (output > 0xffff)
 3187              		.loc 1 282 5 is_stmt 1 view .LVU576
 3188              		.loc 1 282 8 is_stmt 0 view .LVU577
 3189 0032 0029     		cmp	r1, #0
 3190 0034 08DC     		bgt	.L125
 3191 0036 03D1     		bne	.L127
 3192 0038 8023     		movs	r3, #128
 3193 003a 5B02     		lsls	r3, r3, #9
 3194 003c 9842     		cmp	r0, r3
 3195 003e 03D2     		bcs	.L125
 3196              	.L127:
 283:Src/PID.c     ****     {
 284:Src/PID.c     ****         output = 0xffff;
 285:Src/PID.c     ****     }
 286:Src/PID.c     ****     else if (output < 0)
 3197              		.loc 1 286 10 is_stmt 1 view .LVU578
 3198              		.loc 1 286 13 is_stmt 0 view .LVU579
 3199 0040 0029     		cmp	r1, #0
 3200 0042 02DA     		bge	.L122
 287:Src/PID.c     ****     {
 288:Src/PID.c     ****         output = 0;
 3201              		.loc 1 288 16 view .LVU580
 3202 0044 0020     		movs	r0, #0
 3203              	.LVL252:
 3204              		.loc 1 288 16 view .LVU581
 3205 0046 00E0     		b	.L122
 3206              	.LVL253:
 3207              	.L125:
 284:Src/PID.c     ****     }
 3208              		.loc 1 284 16 view .LVU582
 3209 0048 0A48     		ldr	r0, .L128+8
 3210              	.LVL254:
 3211              	.L122:
 289:Src/PID.c     ****     }
 290:Src/PID.c     ****     State.POWER_PID_704_Output = (uint32_t)output;
 3212              		.loc 1 290 5 is_stmt 1 view .LVU583
 3213              		.loc 1 290 32 is_stmt 0 view .LVU584
 3214 004a 084D     		ldr	r5, .L128
 3215 004c 084C     		ldr	r4, .L128+4
 3216 004e 2851     		str	r0, [r5, r4]
 291:Src/PID.c     ****     DAC_cmd(RF_ATT_704_OFFSET + DAC_WRITE + State.POWER_PID_704_Output);
 3217              		.loc 1 291 5 is_stmt 1 view .LVU585
 3218 0050 8023     		movs	r3, #128
 3219 0052 5B03     		lsls	r3, r3, #13
 3220 0054 9C46     		mov	ip, r3
 3221 0056 6044     		add	r0, r0, ip
 3222 0058 FFF7FEFF 		bl	DAC_cmd
 3223              	.LVL255:
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 66


 292:Src/PID.c     ****     DAC_cmd(RF_ATT_704_FINE + DAC_WRITE + State.POWER_PID_704_Output);
 3224              		.loc 1 292 5 view .LVU586
 3225              		.loc 1 292 48 is_stmt 0 view .LVU587
 3226 005c 2859     		ldr	r0, [r5, r4]
 3227              		.loc 1 292 5 view .LVU588
 3228 005e 8823     		movs	r3, #136
 3229 0060 5B03     		lsls	r3, r3, #13
 3230 0062 9C46     		mov	ip, r3
 3231 0064 6044     		add	r0, r0, ip
 3232 0066 FFF7FEFF 		bl	DAC_cmd
 3233              	.LVL256:
 293:Src/PID.c     **** }
 3234              		.loc 1 293 1 view .LVU589
 3235              		@ sp needed
 3236 006a 70BD     		pop	{r4, r5, r6, pc}
 3237              	.L129:
 3238              		.align	2
 3239              	.L128:
 3240 006c 00000000 		.word	State
 3241 0070 A4050000 		.word	1444
 3242 0074 FFFF0000 		.word	65535
 3243              		.cfi_endproc
 3244              	.LFE300:
 3246              		.section	.text.TEMP_PID,"ax",%progbits
 3247              		.align	1
 3248              		.global	TEMP_PID
 3249              		.syntax unified
 3250              		.code	16
 3251              		.thumb_func
 3252              		.fpu softvfp
 3254              	TEMP_PID:
 3255              	.LFB301:
 294:Src/PID.c     **** 
 295:Src/PID.c     **** void TEMP_PID()
 296:Src/PID.c     **** {
 3256              		.loc 1 296 1 is_stmt 1 view -0
 3257              		.cfi_startproc
 3258              		@ args = 0, pretend = 0, frame = 0
 3259              		@ frame_needed = 0, uses_anonymous_args = 0
 3260              		@ link register save eliminated.
 297:Src/PID.c     **** }
 3261              		.loc 1 297 1 view .LVU591
 3262              		@ sp needed
 3263 0000 7047     		bx	lr
 3264              		.cfi_endproc
 3265              	.LFE301:
 3267              		.section	.text.TEMP_PID_Init,"ax",%progbits
 3268              		.align	1
 3269              		.global	TEMP_PID_Init
 3270              		.syntax unified
 3271              		.code	16
 3272              		.thumb_func
 3273              		.fpu softvfp
 3275              	TEMP_PID_Init:
 3276              	.LFB302:
 298:Src/PID.c     **** 
 299:Src/PID.c     **** void TEMP_PID_Init()
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 67


 300:Src/PID.c     **** {
 3277              		.loc 1 300 1 view -0
 3278              		.cfi_startproc
 3279              		@ args = 0, pretend = 0, frame = 0
 3280              		@ frame_needed = 0, uses_anonymous_args = 0
 3281              		@ link register save eliminated.
 301:Src/PID.c     **** }
 3282              		.loc 1 301 1 view .LVU593
 3283              		@ sp needed
 3284 0000 7047     		bx	lr
 3285              		.cfi_endproc
 3286              	.LFE302:
 3288              		.section	.text.PID,"ax",%progbits
 3289              		.align	1
 3290              		.global	PID
 3291              		.syntax unified
 3292              		.code	16
 3293              		.thumb_func
 3294              		.fpu softvfp
 3296              	PID:
 3297              	.LFB303:
 302:Src/PID.c     **** 
 303:Src/PID.c     **** void PID()
 304:Src/PID.c     **** {
 3298              		.loc 1 304 1 view -0
 3299              		.cfi_startproc
 3300              		@ args = 0, pretend = 0, frame = 0
 3301              		@ frame_needed = 0, uses_anonymous_args = 0
 3302 0000 10B5     		push	{r4, lr}
 3303              	.LCFI29:
 3304              		.cfi_def_cfa_offset 8
 3305              		.cfi_offset 4, -8
 3306              		.cfi_offset 14, -4
 305:Src/PID.c     ****     PID352();
 3307              		.loc 1 305 5 view .LVU595
 3308 0002 FFF7FEFF 		bl	PID352
 3309              	.LVL257:
 306:Src/PID.c     ****     PID704();
 3310              		.loc 1 306 5 view .LVU596
 3311 0006 FFF7FEFF 		bl	PID704
 3312              	.LVL258:
 307:Src/PID.c     ****     // POWER_PID352();
 308:Src/PID.c     ****     // POWER_PID704();
 309:Src/PID.c     **** }
 3313              		.loc 1 309 1 is_stmt 0 view .LVU597
 3314              		@ sp needed
 3315 000a 10BD     		pop	{r4, pc}
 3316              		.cfi_endproc
 3317              	.LFE303:
 3319              		.section	.rodata
 3320              		.align	3
 3321              	.LC0:
 3322 0000 00000000 		.word	0
 3323 0004 00000000 		.word	0
 3324 0008 00000000 		.word	0
 3325 000c 00000000 		.word	0
 3326 0010 00000000 		.word	0
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 68


 3327 0014 00000000 		.word	0
 3328 0018 00000000 		.word	0
 3329 001c 00000000 		.word	0
 3330 0020 021A0600 		.word	399874
 3331 0024 00000000 		.word	0
 3332 0028 00000000 		.word	0
 3333 002c 00000000 		.word	0
 3334 0030 00000000 		.word	0
 3335 0034 00000000 		.word	0
 3336 0038 00000000 		.word	0
 3337 003c 00000000 		.word	0
 3338 0040 00000000 		.word	0
 3339 0044 00000000 		.word	0
 3340 0048 C6D70600 		.word	448454
 3341 004c 00000000 		.word	0
 3342 0050 04860600 		.word	427524
 3343 0054 00000000 		.word	0
 3344 0058 00000000 		.word	0
 3345 005c 00000000 		.word	0
 3346 0060 00000000 		.word	0
 3347 0064 00000000 		.word	0
 3348 0068 00000000 		.word	0
 3349 006c 00000000 		.word	0
 3350 0070 00000000 		.word	0
 3351 0074 00000000 		.word	0
 3352 0078 DD3A0600 		.word	408285
 3353 007c 00000000 		.word	0
 3354              		.text
 3355              	.Letext0:
 3356              		.file 2 "c:\\gnu tools arm embedded\\arm-none-eabi\\include\\machine\\_default_types.h"
 3357              		.file 3 "c:\\gnu tools arm embedded\\arm-none-eabi\\include\\sys\\_stdint.h"
 3358              		.file 4 "Drivers/CMSIS/Device/ST/STM32G0xx/Include/system_stm32g0xx.h"
 3359              		.file 5 "Drivers/CMSIS/Device/ST/STM32G0xx/Include/stm32g071xx.h"
 3360              		.file 6 "Drivers/STM32G0xx_HAL_Driver/Inc/stm32g0xx_hal_def.h"
 3361              		.file 7 "Drivers/STM32G0xx_HAL_Driver/Inc/stm32g0xx_hal_dma.h"
 3362              		.file 8 "Drivers/STM32G0xx_HAL_Driver/Inc/stm32g0xx_hal_flash.h"
 3363              		.file 9 "Drivers/STM32G0xx_HAL_Driver/Inc/stm32g0xx_hal_spi.h"
 3364              		.file 10 "Drivers/STM32G0xx_HAL_Driver/Inc/stm32g0xx_hal_uart.h"
 3365              		.file 11 "Drivers/STM32G0xx_HAL_Driver/Inc/stm32g0xx_hal.h"
 3366              		.file 12 "c:\\gnu tools arm embedded\\arm-none-eabi\\include\\sys\\lock.h"
 3367              		.file 13 "c:\\gnu tools arm embedded\\arm-none-eabi\\include\\sys\\_types.h"
 3368              		.file 14 "c:\\gnu tools arm embedded\\lib\\gcc\\arm-none-eabi\\9.2.1\\include\\stddef.h"
 3369              		.file 15 "c:\\gnu tools arm embedded\\arm-none-eabi\\include\\sys\\reent.h"
 3370              		.file 16 "Inc/usart.h"
 3371              		.file 17 "Inc/state.h"
 3372              		.file 18 "Inc/spi.h"
 3373              		.file 19 "Inc/DAC.h"
 3374              		.file 20 "c:\\gnu tools arm embedded\\arm-none-eabi\\include\\stdio.h"
 3375              		.file 21 "<built-in>"
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 69


DEFINED SYMBOLS
                            *ABS*:00000000 PID.c
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:18     .text.Voltage_nV:00000000 $t
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:26     .text.Voltage_nV:00000000 Voltage_nV
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:66     .text.Voltage_nV:00000020 $d
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:73     .text.Voltage:00000000 $t
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:80     .text.Voltage:00000000 Voltage
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:119    .text.Voltage:00000020 $d
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:126    .text.Phase:00000000 $t
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:133    .text.Phase:00000000 Phase
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:168    .text.Phase:0000001c $d
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:174    .text.Phase_u:00000000 $t
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:181    .text.Phase_u:00000000 Phase_u
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:216    .text.Phase_u:0000001c $d
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:221    .text.Temperature:00000000 $t
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:228    .text.Temperature:00000000 Temperature
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:267    .text.Temperature:00000028 $d
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:273    .text.Relative_Power:00000000 $t
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:280    .text.Relative_Power:00000000 Relative_Power
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:314    .text.Relative_Power:0000001c $d
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:320    .text.RMS_Power:00000000 $t
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:327    .text.RMS_Power:00000000 RMS_Power
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:384    .text.RMS_Power:00000038 $d
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:390    .rodata.Calib352.str1.4:00000000 $d
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:406    .text.Calib352:00000000 $t
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:413    .text.Calib352:00000000 Calib352
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:928    .text.Calib352:00000288 $d
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:947    .rodata.Calib704.str1.4:00000000 $d
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:960    .text.Calib704:00000000 $t
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:967    .text.Calib704:00000000 Calib704
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:1481   .text.Calib704:00000284 $d
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:1500   .rodata.POWER_Calib352.str1.4:00000000 $d
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:1504   .text.POWER_Calib352:00000000 $t
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:1511   .text.POWER_Calib352:00000000 POWER_Calib352
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:1609   .text.POWER_Calib352:00000074 $d
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:1620   .rodata.POWER_Calib704.str1.4:00000000 $d
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:1624   .text.POWER_Calib704:00000000 $t
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:1631   .text.POWER_Calib704:00000000 POWER_Calib704
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:1730   .text.POWER_Calib704:00000078 $d
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:1740   .rodata.Calib.str1.4:00000000 $d
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:1747   .text.Calib:00000000 $t
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:1754   .text.Calib:00000000 Calib
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:1832   .text.Calib:00000058 $d
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:1839   .text.PID_Init:00000000 $t
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:1846   .text.PID_Init:00000000 PID_Init
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:1997   .text.PID_Init:000000c4 $d
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:2007   .rodata.PID352.str1.4:00000000 $d
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:2020   .text.PID352:00000000 $t
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:2027   .text.PID352:00000000 PID352
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:2499   .text.PID352:0000026c $d
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:2515   .rodata.PID704.str1.4:00000000 $d
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:2522   .text.PID704:00000000 $t
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:2529   .text.PID704:00000000 PID704
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:2999   .text.PID704:00000268 $d
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:3016   .text.POWER_PID352:00000000 $t
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:3023   .text.POWER_PID352:00000000 POWER_PID352
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:3123   .text.POWER_PID352:0000006c $d
ARM GAS  C:\Users\matil\AppData\Local\Temp\cc5p382g.s 			page 70


C:\Users\matil\AppData\Local\Temp\cc5p382g.s:3132   .text.POWER_PID704:00000000 $t
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:3139   .text.POWER_PID704:00000000 POWER_PID704
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:3240   .text.POWER_PID704:0000006c $d
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:3247   .text.TEMP_PID:00000000 $t
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:3254   .text.TEMP_PID:00000000 TEMP_PID
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:3268   .text.TEMP_PID_Init:00000000 $t
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:3275   .text.TEMP_PID_Init:00000000 TEMP_PID_Init
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:3289   .text.PID:00000000 $t
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:3296   .text.PID:00000000 PID
C:\Users\matil\AppData\Local\Temp\cc5p382g.s:3320   .rodata:00000000 $d

UNDEFINED SYMBOLS
__aeabi_lmul
__aeabi_uldivmod
State
__aeabi_ldivmod
memcpy
memset
HAL_UART_Transmit
DAC_cmd
HAL_Delay
sprintf
huart2
