ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 1


   1              		.cpu cortex-m0plus
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 0
  10              		.eabi_attribute 18, 4
  11              		.file	"PID.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.global	__aeabi_lmul
  16              		.global	__aeabi_uldivmod
  17              		.section	.text.Voltage_nV,"ax",%progbits
  18              		.align	1
  19              		.global	Voltage_nV
  20              		.arch armv6s-m
  21              		.syntax unified
  22              		.code	16
  23              		.thumb_func
  24              		.fpu softvfp
  26              	Voltage_nV:
  27              	.LVL0:
  28              	.LFB284:
  29              		.file 1 "Src/PID.c"
   1:Src/PID.c     **** #include "usart.h"
   2:Src/PID.c     **** #include <stdio.h>
   3:Src/PID.c     **** #include "state.h"
   4:Src/PID.c     **** #include "usart_utils.h"
   5:Src/PID.c     **** #include "ADC.h"
   6:Src/PID.c     **** #include "spi.h"
   7:Src/PID.c     **** #include "DAC.h"
   8:Src/PID.c     **** 
   9:Src/PID.c     **** extern state State;
  10:Src/PID.c     **** 
  11:Src/PID.c     **** //Returns voltage in [nV] measured by adc channel ADC_CH.
  12:Src/PID.c     **** uint64_t Voltage_nV(uint8_t ADC_CH)
  13:Src/PID.c     **** {
  30              		.loc 1 13 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 13 1 is_stmt 0 view .LVU1
  35 0000 10B5     		push	{r4, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 8
  38              		.cfi_offset 4, -8
  39              		.cfi_offset 14, -4
  14:Src/PID.c     ****     return (((uint64_t)State.ADC_ValuesFiltered[ADC_CH] * 1800000000) / 0xffffff);
  40              		.loc 1 14 5 is_stmt 1 view .LVU2
  41              		.loc 1 14 48 is_stmt 0 view .LVU3
  42 0002 2530     		adds	r0, r0, #37
  43              	.LVL1:
  44              		.loc 1 14 48 view .LVU4
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 2


  45 0004 FF30     		adds	r0, r0, #255
  46 0006 8000     		lsls	r0, r0, #2
  47 0008 054B     		ldr	r3, .L2
  48 000a C058     		ldr	r0, [r0, r3]
  49              		.loc 1 14 57 view .LVU5
  50 000c 054A     		ldr	r2, .L2+4
  51 000e 0023     		movs	r3, #0
  52 0010 0021     		movs	r1, #0
  53 0012 FFF7FEFF 		bl	__aeabi_lmul
  54              	.LVL2:
  55              		.loc 1 14 71 view .LVU6
  56 0016 044A     		ldr	r2, .L2+8
  57 0018 0023     		movs	r3, #0
  58 001a FFF7FEFF 		bl	__aeabi_uldivmod
  59              	.LVL3:
  15:Src/PID.c     **** };
  60              		.loc 1 15 1 view .LVU7
  61              		@ sp needed
  62 001e 10BD     		pop	{r4, pc}
  63              	.L3:
  64              		.align	2
  65              	.L2:
  66 0020 00000000 		.word	State
  67 0024 00D2496B 		.word	1800000000
  68 0028 FFFFFF00 		.word	16777215
  69              		.cfi_endproc
  70              	.LFE284:
  72              		.section	.text.Voltage,"ax",%progbits
  73              		.align	1
  74              		.global	Voltage
  75              		.syntax unified
  76              		.code	16
  77              		.thumb_func
  78              		.fpu softvfp
  80              	Voltage:
  81              	.LVL4:
  82              	.LFB285:
  16:Src/PID.c     **** 
  17:Src/PID.c     **** //Returns voltage in [uV] measured by adc channel ADC_CH.
  18:Src/PID.c     **** uint64_t Voltage(uint8_t ADC_CH)
  19:Src/PID.c     **** {
  83              		.loc 1 19 1 is_stmt 1 view -0
  84              		.cfi_startproc
  85              		@ args = 0, pretend = 0, frame = 0
  86              		@ frame_needed = 0, uses_anonymous_args = 0
  87              		.loc 1 19 1 is_stmt 0 view .LVU9
  88 0000 10B5     		push	{r4, lr}
  89              	.LCFI1:
  90              		.cfi_def_cfa_offset 8
  91              		.cfi_offset 4, -8
  92              		.cfi_offset 14, -4
  20:Src/PID.c     ****     return (((uint64_t)State.ADC_ValuesFiltered[ADC_CH] * 1800000) / 0xffffff);
  93              		.loc 1 20 5 is_stmt 1 view .LVU10
  94              		.loc 1 20 48 is_stmt 0 view .LVU11
  95 0002 2530     		adds	r0, r0, #37
  96              	.LVL5:
  97              		.loc 1 20 48 view .LVU12
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 3


  98 0004 FF30     		adds	r0, r0, #255
  99 0006 8000     		lsls	r0, r0, #2
 100 0008 054B     		ldr	r3, .L5
 101 000a C058     		ldr	r0, [r0, r3]
 102              		.loc 1 20 57 view .LVU13
 103 000c 054A     		ldr	r2, .L5+4
 104 000e 0023     		movs	r3, #0
 105 0010 0021     		movs	r1, #0
 106 0012 FFF7FEFF 		bl	__aeabi_lmul
 107              	.LVL6:
 108              		.loc 1 20 68 view .LVU14
 109 0016 044A     		ldr	r2, .L5+8
 110 0018 0023     		movs	r3, #0
 111 001a FFF7FEFF 		bl	__aeabi_uldivmod
 112              	.LVL7:
  21:Src/PID.c     **** };
 113              		.loc 1 21 1 view .LVU15
 114              		@ sp needed
 115 001e 10BD     		pop	{r4, pc}
 116              	.L6:
 117              		.align	2
 118              	.L5:
 119 0020 00000000 		.word	State
 120 0024 40771B00 		.word	1800000
 121 0028 FFFFFF00 		.word	16777215
 122              		.cfi_endproc
 123              	.LFE285:
 125              		.section	.text.Phase,"ax",%progbits
 126              		.align	1
 127              		.global	Phase
 128              		.syntax unified
 129              		.code	16
 130              		.thumb_func
 131              		.fpu softvfp
 133              	Phase:
 134              	.LVL8:
 135              	.LFB286:
  22:Src/PID.c     **** 
  23:Src/PID.c     **** //Returns Phase absolute value in [deg e-3] measured by adc channel ADC_CH.
  24:Src/PID.c     **** uint64_t Phase(uint8_t ADC_CH)
  25:Src/PID.c     **** {
 136              		.loc 1 25 1 is_stmt 1 view -0
 137              		.cfi_startproc
 138              		@ args = 0, pretend = 0, frame = 0
 139              		@ frame_needed = 0, uses_anonymous_args = 0
 140              		.loc 1 25 1 is_stmt 0 view .LVU17
 141 0000 10B5     		push	{r4, lr}
 142              	.LCFI2:
 143              		.cfi_def_cfa_offset 8
 144              		.cfi_offset 4, -8
 145              		.cfi_offset 14, -4
  26:Src/PID.c     ****     return (1800000000 - Voltage_nV(ADC_CH)) / 10000;
 146              		.loc 1 26 5 is_stmt 1 view .LVU18
 147              		.loc 1 26 26 is_stmt 0 view .LVU19
 148 0002 FFF7FEFF 		bl	Voltage_nV
 149              	.LVL9:
 150              		.loc 1 26 24 view .LVU20
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 4


 151 0006 054A     		ldr	r2, .L8
 152 0008 0023     		movs	r3, #0
 153 000a 121A     		subs	r2, r2, r0
 154 000c 8B41     		sbcs	r3, r3, r1
 155 000e 1000     		movs	r0, r2
 156 0010 1900     		movs	r1, r3
 157              		.loc 1 26 46 view .LVU21
 158 0012 034A     		ldr	r2, .L8+4
 159 0014 0023     		movs	r3, #0
 160 0016 FFF7FEFF 		bl	__aeabi_uldivmod
 161              	.LVL10:
  27:Src/PID.c     **** };
 162              		.loc 1 27 1 view .LVU22
 163              		@ sp needed
 164 001a 10BD     		pop	{r4, pc}
 165              	.L9:
 166              		.align	2
 167              	.L8:
 168 001c 00D2496B 		.word	1800000000
 169 0020 10270000 		.word	10000
 170              		.cfi_endproc
 171              	.LFE286:
 173              		.section	.text.Phase_u,"ax",%progbits
 174              		.align	1
 175              		.global	Phase_u
 176              		.syntax unified
 177              		.code	16
 178              		.thumb_func
 179              		.fpu softvfp
 181              	Phase_u:
 182              	.LVL11:
 183              	.LFB287:
  28:Src/PID.c     **** 
  29:Src/PID.c     **** //Returns Phase absolute value in [deg e-6] measured by adc channel ADC_CH.
  30:Src/PID.c     **** uint64_t Phase_u(uint8_t ADC_CH)
  31:Src/PID.c     **** {
 184              		.loc 1 31 1 is_stmt 1 view -0
 185              		.cfi_startproc
 186              		@ args = 0, pretend = 0, frame = 0
 187              		@ frame_needed = 0, uses_anonymous_args = 0
 188              		.loc 1 31 1 is_stmt 0 view .LVU24
 189 0000 10B5     		push	{r4, lr}
 190              	.LCFI3:
 191              		.cfi_def_cfa_offset 8
 192              		.cfi_offset 4, -8
 193              		.cfi_offset 14, -4
  32:Src/PID.c     ****     return (1800000000 - Voltage_nV(ADC_CH)) / 10;
 194              		.loc 1 32 5 is_stmt 1 view .LVU25
 195              		.loc 1 32 26 is_stmt 0 view .LVU26
 196 0002 FFF7FEFF 		bl	Voltage_nV
 197              	.LVL12:
 198              		.loc 1 32 24 view .LVU27
 199 0006 054A     		ldr	r2, .L11
 200 0008 0023     		movs	r3, #0
 201 000a 121A     		subs	r2, r2, r0
 202 000c 8B41     		sbcs	r3, r3, r1
 203 000e 1000     		movs	r0, r2
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 5


 204 0010 1900     		movs	r1, r3
 205              		.loc 1 32 46 view .LVU28
 206 0012 0A22     		movs	r2, #10
 207 0014 0023     		movs	r3, #0
 208 0016 FFF7FEFF 		bl	__aeabi_uldivmod
 209              	.LVL13:
  33:Src/PID.c     **** };
 210              		.loc 1 33 1 view .LVU29
 211              		@ sp needed
 212 001a 10BD     		pop	{r4, pc}
 213              	.L12:
 214              		.align	2
 215              	.L11:
 216 001c 00D2496B 		.word	1800000000
 217              		.cfi_endproc
 218              	.LFE287:
 220              		.section	.text.Temperature,"ax",%progbits
 221              		.align	1
 222              		.global	Temperature
 223              		.syntax unified
 224              		.code	16
 225              		.thumb_func
 226              		.fpu softvfp
 228              	Temperature:
 229              	.LFB288:
  34:Src/PID.c     **** 
  35:Src/PID.c     **** //Returns Temperature in [deg C e-3] measured by adc thermometer channel.
  36:Src/PID.c     **** int64_t Temperature()
  37:Src/PID.c     **** {
 230              		.loc 1 37 1 is_stmt 1 view -0
 231              		.cfi_startproc
 232              		@ args = 0, pretend = 0, frame = 0
 233              		@ frame_needed = 0, uses_anonymous_args = 0
 234 0000 10B5     		push	{r4, lr}
 235              	.LCFI4:
 236              		.cfi_def_cfa_offset 8
 237              		.cfi_offset 4, -8
 238              		.cfi_offset 14, -4
  38:Src/PID.c     ****     return (-45000000 - 175000000 / 8 + 17500 * Voltage(ADC_T_CH) / 264);
 239              		.loc 1 38 5 view .LVU31
 240              		.loc 1 38 49 is_stmt 0 view .LVU32
 241 0002 0720     		movs	r0, #7
 242 0004 FFF7FEFF 		bl	Voltage
 243              	.LVL14:
 244              		.loc 1 38 47 view .LVU33
 245 0008 074A     		ldr	r2, .L14
 246 000a 0023     		movs	r3, #0
 247 000c FFF7FEFF 		bl	__aeabi_lmul
 248              	.LVL15:
 249              		.loc 1 38 67 view .LVU34
 250 0010 8422     		movs	r2, #132
 251 0012 5200     		lsls	r2, r2, #1
 252 0014 0023     		movs	r3, #0
 253 0016 FFF7FEFF 		bl	__aeabi_uldivmod
 254              	.LVL16:
 255              		.loc 1 38 39 view .LVU35
 256 001a 044A     		ldr	r2, .L14+4
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 6


 257 001c 0123     		movs	r3, #1
 258 001e 5B42     		rsbs	r3, r3, #0
 259 0020 8018     		adds	r0, r0, r2
 260 0022 5941     		adcs	r1, r1, r3
  39:Src/PID.c     **** };
 261              		.loc 1 39 1 view .LVU36
 262              		@ sp needed
 263 0024 10BD     		pop	{r4, pc}
 264              	.L15:
 265 0026 C046     		.align	2
 266              	.L14:
 267 0028 5C440000 		.word	17500
 268 002c 889103FC 		.word	-66875000
 269              		.cfi_endproc
 270              	.LFE288:
 272              		.section	.text.Relative_Power,"ax",%progbits
 273              		.align	1
 274              		.global	Relative_Power
 275              		.syntax unified
 276              		.code	16
 277              		.thumb_func
 278              		.fpu softvfp
 280              	Relative_Power:
 281              	.LVL17:
 282              	.LFB289:
  40:Src/PID.c     **** 
  41:Src/PID.c     **** //Returns Relative Power in [dB e-3] measured by adc channel ADC_CH.
  42:Src/PID.c     **** int64_t Relative_Power(uint8_t ADC_CH)
  43:Src/PID.c     **** {
 283              		.loc 1 43 1 is_stmt 1 view -0
 284              		.cfi_startproc
 285              		@ args = 0, pretend = 0, frame = 0
 286              		@ frame_needed = 0, uses_anonymous_args = 0
 287              		.loc 1 43 1 is_stmt 0 view .LVU38
 288 0000 10B5     		push	{r4, lr}
 289              	.LCFI5:
 290              		.cfi_def_cfa_offset 8
 291              		.cfi_offset 4, -8
 292              		.cfi_offset 14, -4
  44:Src/PID.c     ****     return ((Voltage(ADC_CH) / 30) - 30000);
 293              		.loc 1 44 5 is_stmt 1 view .LVU39
 294              		.loc 1 44 14 is_stmt 0 view .LVU40
 295 0002 FFF7FEFF 		bl	Voltage
 296              	.LVL18:
 297              		.loc 1 44 30 view .LVU41
 298 0006 1E22     		movs	r2, #30
 299 0008 0023     		movs	r3, #0
 300 000a FFF7FEFF 		bl	__aeabi_uldivmod
 301              	.LVL19:
 302              		.loc 1 44 36 view .LVU42
 303 000e 034A     		ldr	r2, .L17
 304 0010 0123     		movs	r3, #1
 305 0012 5B42     		rsbs	r3, r3, #0
 306 0014 8018     		adds	r0, r0, r2
 307 0016 5941     		adcs	r1, r1, r3
  45:Src/PID.c     **** };
 308              		.loc 1 45 1 view .LVU43
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 7


 309              		@ sp needed
 310 0018 10BD     		pop	{r4, pc}
 311              	.L18:
 312 001a C046     		.align	2
 313              	.L17:
 314 001c D08AFFFF 		.word	-30000
 315              		.cfi_endproc
 316              	.LFE289:
 318              		.global	__aeabi_ldivmod
 319              		.section	.text.RMS_Power,"ax",%progbits
 320              		.align	1
 321              		.global	RMS_Power
 322              		.syntax unified
 323              		.code	16
 324              		.thumb_func
 325              		.fpu softvfp
 327              	RMS_Power:
 328              	.LVL20:
 329              	.LFB290:
  46:Src/PID.c     **** //Returns Power in [dBm  e-3] measured by adc channel ADC_CH.
  47:Src/PID.c     **** int64_t RMS_Power(uint8_t ADC_CH)
  48:Src/PID.c     **** {
 330              		.loc 1 48 1 is_stmt 1 view -0
 331              		.cfi_startproc
 332              		@ args = 0, pretend = 0, frame = 128
 333              		@ frame_needed = 0, uses_anonymous_args = 0
 334              		.loc 1 48 1 is_stmt 0 view .LVU45
 335 0000 10B5     		push	{r4, lr}
 336              	.LCFI6:
 337              		.cfi_def_cfa_offset 8
 338              		.cfi_offset 4, -8
 339              		.cfi_offset 14, -4
 340 0002 A0B0     		sub	sp, sp, #128
 341              	.LCFI7:
 342              		.cfi_def_cfa_offset 136
 343 0004 0400     		movs	r4, r0
  49:Src/PID.c     ****     const int64_t cal[16] = {0, 0, 0, 0, 399874, 0, 0, 0, 0, 448454, 427524, 0, 0, 0, 0, 408285}; /
 344              		.loc 1 49 5 is_stmt 1 view .LVU46
 345              		.loc 1 49 19 is_stmt 0 view .LVU47
 346 0006 8022     		movs	r2, #128
 347 0008 0B49     		ldr	r1, .L20
 348 000a 6846     		mov	r0, sp
 349              	.LVL21:
 350              		.loc 1 49 19 view .LVU48
 351 000c FFF7FEFF 		bl	memcpy
 352              	.LVL22:
  50:Src/PID.c     ****     return (int64_t)(Voltage(ADC_CH) - cal[ADC_CH]) / 20 - 65000;
 353              		.loc 1 50 5 is_stmt 1 view .LVU49
 354              		.loc 1 50 22 is_stmt 0 view .LVU50
 355 0010 2000     		movs	r0, r4
 356 0012 FFF7FEFF 		bl	Voltage
 357              	.LVL23:
 358              		.loc 1 50 43 view .LVU51
 359 0016 E400     		lsls	r4, r4, #3
 360 0018 6C44     		add	r4, r4, sp
 361 001a 2268     		ldr	r2, [r4]
 362 001c 6368     		ldr	r3, [r4, #4]
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 8


 363              		.loc 1 50 38 view .LVU52
 364 001e 801A     		subs	r0, r0, r2
 365 0020 9941     		sbcs	r1, r1, r3
 366              		.loc 1 50 53 view .LVU53
 367 0022 1422     		movs	r2, #20
 368 0024 0023     		movs	r3, #0
 369 0026 FFF7FEFF 		bl	__aeabi_ldivmod
 370              	.LVL24:
 371              		.loc 1 50 58 view .LVU54
 372 002a 044A     		ldr	r2, .L20+4
 373 002c 0123     		movs	r3, #1
 374 002e 5B42     		rsbs	r3, r3, #0
 375 0030 8018     		adds	r0, r0, r2
 376 0032 5941     		adcs	r1, r1, r3
  51:Src/PID.c     **** };
 377              		.loc 1 51 1 view .LVU55
 378 0034 20B0     		add	sp, sp, #128
 379              		@ sp needed
 380 0036 10BD     		pop	{r4, pc}
 381              	.L21:
 382              		.align	2
 383              	.L20:
 384 0038 00000000 		.word	.LC0
 385 003c 1802FFFF 		.word	-65000
 386              		.cfi_endproc
 387              	.LFE290:
 389              		.section	.rodata.Calib352.str1.4,"aMS",%progbits,1
 390              		.align	2
 391              	.LC4:
 392 0000 5B43414C 		.ascii	"[CALIBRATION] ...\000"
 392      49425241 
 392      54494F4E 
 392      5D202E2E 
 392      2E00
 393 0012 0000     		.align	2
 394              	.LC8:
 395 0014 08080850 		.ascii	"\010\010\010PD3+PD4 SETPOINT: %li\012\000"
 395      44332B50 
 395      44342053 
 395      4554504F 
 395      494E543A 
 396 002e 0000     		.align	2
 397              	.LC10:
 398 0030 5B43414C 		.ascii	"[CALIBRATION] PD3 SLOPE: %i\012\000"
 398      49425241 
 398      54494F4E 
 398      5D205044 
 398      3320534C 
 399 004d 000000   		.align	2
 400              	.LC12:
 401 0050 5B43414C 		.ascii	"[CALIBRATION] PD4 SLOPE: %i\012\000"
 401      49425241 
 401      54494F4E 
 401      5D205044 
 401      3420534C 
 402 006d 000000   		.align	2
 403              	.LC14:
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 9


 404 0070 5B43414C 		.ascii	"[CALIBRATION] PS352 OFFSET: %u\012\000"
 404      49425241 
 404      54494F4E 
 404      5D205053 
 404      33353220 
 405              		.section	.text.Calib352,"ax",%progbits
 406              		.align	1
 407              		.global	Calib352
 408              		.syntax unified
 409              		.code	16
 410              		.thumb_func
 411              		.fpu softvfp
 413              	Calib352:
 414              	.LFB291:
  52:Src/PID.c     **** 
  53:Src/PID.c     **** //Determines optimal setpoints of Phase shifters, detectors slopes
  54:Src/PID.c     **** void Calib352()
  55:Src/PID.c     **** {
 415              		.loc 1 55 1 is_stmt 1 view -0
 416              		.cfi_startproc
 417              		@ args = 0, pretend = 0, frame = 128
 418              		@ frame_needed = 0, uses_anonymous_args = 0
 419 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 420              	.LCFI8:
 421              		.cfi_def_cfa_offset 20
 422              		.cfi_offset 4, -20
 423              		.cfi_offset 5, -16
 424              		.cfi_offset 6, -12
 425              		.cfi_offset 7, -8
 426              		.cfi_offset 14, -4
 427 0002 DE46     		mov	lr, fp
 428 0004 5746     		mov	r7, r10
 429 0006 4E46     		mov	r6, r9
 430 0008 4546     		mov	r5, r8
 431 000a E0B5     		push	{r5, r6, r7, lr}
 432              	.LCFI9:
 433              		.cfi_def_cfa_offset 36
 434              		.cfi_offset 8, -36
 435              		.cfi_offset 9, -32
 436              		.cfi_offset 10, -28
 437              		.cfi_offset 11, -24
 438 000c A1B0     		sub	sp, sp, #132
 439              	.LCFI10:
 440              		.cfi_def_cfa_offset 168
 441              	.LBB2:
  56:Src/PID.c     ****     SERIAL_WRITE("[CALIBRATION] ...")
 442              		.loc 1 56 5 view .LVU57
 443 000e 07AC     		add	r4, sp, #28
 444 0010 6022     		movs	r2, #96
 445 0012 0021     		movs	r1, #0
 446 0014 08A8     		add	r0, sp, #32
 447 0016 FFF7FEFF 		bl	memset
 448              	.LVL25:
 449              		.loc 1 56 5 view .LVU58
 450 001a 9B4B     		ldr	r3, .L37
 451 001c 2200     		movs	r2, r4
 452 001e 23CB     		ldmia	r3!, {r0, r1, r5}
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 10


 453 0020 23C2     		stmia	r2!, {r0, r1, r5}
 454 0022 1968     		ldr	r1, [r3]
 455 0024 1160     		str	r1, [r2]
 456 0026 9B88     		ldrh	r3, [r3, #4]
 457 0028 9380     		strh	r3, [r2, #4]
 458              	.LVL26:
 459              		.loc 1 56 5 view .LVU59
 460 002a FA23     		movs	r3, #250
 461 002c 9B00     		lsls	r3, r3, #2
 462 002e 1122     		movs	r2, #17
 463 0030 2100     		movs	r1, r4
 464 0032 9648     		ldr	r0, .L37+4
 465 0034 FFF7FEFF 		bl	HAL_UART_Transmit
 466              	.LVL27:
 467              	.LBE2:
  57:Src/PID.c     ****     DAC_cmd(RF_PS_352_OFFSET + DAC_WRITE + 0);
 468              		.loc 1 57 5 view .LVU60
 469 0038 A020     		movs	r0, #160
 470 003a 4003     		lsls	r0, r0, #13
 471 003c FFF7FEFF 		bl	DAC_cmd
 472              	.LVL28:
  58:Src/PID.c     ****     DAC_cmd(RF_PS_352_FINE + DAC_WRITE + 0x7fff);
 473              		.loc 1 58 5 view .LVU61
 474 0040 9348     		ldr	r0, .L37+8
 475 0042 FFF7FEFF 		bl	DAC_cmd
 476              	.LVL29:
  59:Src/PID.c     ****     State.PD3_PD4_MSE = 16200000000;
 477              		.loc 1 59 5 view .LVU62
 478              		.loc 1 59 23 is_stmt 0 view .LVU63
 479 0046 934B     		ldr	r3, .L37+12
 480 0048 A022     		movs	r2, #160
 481 004a D200     		lsls	r2, r2, #3
 482 004c 9446     		mov	ip, r2
 483 004e 6344     		add	r3, r3, ip
 484 0050 9148     		ldr	r0, .L37+16
 485 0052 0321     		movs	r1, #3
 486 0054 1860     		str	r0, [r3]
 487 0056 5960     		str	r1, [r3, #4]
  60:Src/PID.c     ****     uint64_t prevPhase3 = 0;
 488              		.loc 1 60 5 is_stmt 1 view .LVU64
 489              	.LVL30:
  61:Src/PID.c     ****     uint64_t prevPhase4 = 0;
 490              		.loc 1 61 5 view .LVU65
  62:Src/PID.c     ****     for (uint32_t PS = 0; PS < 0xffff; PS += 0x0700)
 491              		.loc 1 62 5 view .LVU66
 492              	.LBB3:
 493              		.loc 1 62 10 view .LVU67
 494              		.loc 1 62 19 is_stmt 0 view .LVU68
 495 0058 0023     		movs	r3, #0
 496 005a 9946     		mov	r9, r3
 497              	.LBE3:
  61:Src/PID.c     ****     uint64_t prevPhase4 = 0;
 498              		.loc 1 61 14 view .LVU69
 499 005c 0593     		str	r3, [sp, #20]
 500 005e 9B46     		mov	fp, r3
  60:Src/PID.c     ****     uint64_t prevPhase3 = 0;
 501              		.loc 1 60 14 view .LVU70
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 11


 502 0060 0493     		str	r3, [sp, #16]
 503 0062 9A46     		mov	r10, r3
 504              	.LBB7:
 505              		.loc 1 62 5 view .LVU71
 506 0064 29E0     		b	.L23
 507              	.LVL31:
 508              	.L31:
 509              	.LBB4:
  63:Src/PID.c     ****     {
  64:Src/PID.c     ****         DAC_cmd(RF_PS_352_OFFSET + DAC_WRITE + PS);
  65:Src/PID.c     ****         HAL_Delay(100);
  66:Src/PID.c     ****         uint64_t Phase3 = (1800000 - (((uint64_t)State.ADC_Values[ADC_PD3_Phase_CH] * 1800000) / 0x
  67:Src/PID.c     ****         uint64_t Phase4 = (1800000 - (((uint64_t)State.ADC_Values[ADC_PD4_Phase_CH] * 1800000) / 0x
  68:Src/PID.c     **** 
  69:Src/PID.c     ****         int64_t error3 = 90000 - Phase3;
  70:Src/PID.c     ****         int64_t error4 = 90000 - Phase4;
  71:Src/PID.c     ****         int64_t MSE352 = error3 * error3 + error4 * error4;
  72:Src/PID.c     **** 
  73:Src/PID.c     ****         if (MSE352 < State.PD3_PD4_MSE)
  74:Src/PID.c     ****         {
  75:Src/PID.c     ****             // SERIAL_WRITE("Phase3: %lu\n", Phase3);
  76:Src/PID.c     ****             // SERIAL_WRITE("Phase4: %lu\n", Phase4);
  77:Src/PID.c     ****             // SERIAL_WRITE("error3: %li\n", error3);
  78:Src/PID.c     ****             // SERIAL_WRITE("error3: %li\n", error4);
  79:Src/PID.c     ****             // SERIAL_WRITE("MSE352: %li\n\n", MSE352);
  80:Src/PID.c     **** 
  81:Src/PID.c     ****             State.PD3_PD4_Offset = PS;
  82:Src/PID.c     ****             State.PD3_PD4_MSE = MSE352;
  83:Src/PID.c     ****             State.PD3_Slope = prevPhase3 < Phase3 ? 1 : -1;
 510              		.loc 1 83 29 view .LVU72
 511 0066 0120     		movs	r0, #1
 512              	.LVL32:
 513              		.loc 1 83 29 view .LVU73
 514 0068 4042     		rsbs	r0, r0, #0
 515 006a 9EE0     		b	.L26
 516              	.LVL33:
 517              	.L35:
  84:Src/PID.c     ****             State.PD4_Slope = prevPhase4 < Phase4 ? 1 : -1;
 518              		.loc 1 84 29 view .LVU74
 519 006c 0123     		movs	r3, #1
 520 006e 9A46     		mov	r10, r3
 521              	.LVL34:
 522              	.L28:
 523              		.loc 1 84 29 discriminator 4 view .LVU75
 524 0070 884B     		ldr	r3, .L37+12
 525 0072 9846     		mov	r8, r3
 526 0074 894B     		ldr	r3, .L37+20
 527 0076 4246     		mov	r2, r8
 528              		.loc 1 84 29 discriminator 4 view .LVU76
 529 0078 5146     		mov	r1, r10
 530 007a D154     		strb	r1, [r2, r3]
  85:Src/PID.c     ****             State.PD3_PD4_SetPoint = State.PD3_Slope * Phase3 + State.PD4_Slope * Phase4;
 531              		.loc 1 85 13 is_stmt 1 discriminator 4 view .LVU77
 532              		.loc 1 85 43 is_stmt 0 discriminator 4 view .LVU78
 533 007c C117     		asrs	r1, r0, #31
 534              		.loc 1 85 54 discriminator 4 view .LVU79
 535 007e 009A     		ldr	r2, [sp]
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 12


 536 0080 019B     		ldr	r3, [sp, #4]
 537              	.LVL35:
 538              		.loc 1 85 54 discriminator 4 view .LVU80
 539 0082 FFF7FEFF 		bl	__aeabi_lmul
 540              	.LVL36:
 541              		.loc 1 85 54 discriminator 4 view .LVU81
 542 0086 0400     		movs	r4, r0
 543              	.LVL37:
 544              		.loc 1 85 54 discriminator 4 view .LVU82
 545 0088 0D00     		movs	r5, r1
 546              		.loc 1 85 70 discriminator 4 view .LVU83
 547 008a 5346     		mov	r3, r10
 548 008c D917     		asrs	r1, r3, #31
 549              		.loc 1 85 81 discriminator 4 view .LVU84
 550 008e 3200     		movs	r2, r6
 551 0090 3B00     		movs	r3, r7
 552 0092 5046     		mov	r0, r10
 553 0094 FFF7FEFF 		bl	__aeabi_lmul
 554              	.LVL38:
 555              		.loc 1 85 63 discriminator 4 view .LVU85
 556 0098 2418     		adds	r4, r4, r0
 557 009a 4D41     		adcs	r5, r5, r1
 558              		.loc 1 85 36 discriminator 4 view .LVU86
 559 009c 9E23     		movs	r3, #158
 560 009e DB00     		lsls	r3, r3, #3
 561 00a0 4344     		add	r3, r3, r8
 562 00a2 1C60     		str	r4, [r3]
 563 00a4 5D60     		str	r5, [r3, #4]
 564              	.L24:
  86:Src/PID.c     ****         }
  87:Src/PID.c     ****         prevPhase3 = Phase3;
 565              		.loc 1 87 9 is_stmt 1 discriminator 2 view .LVU87
 566              	.LVL39:
  88:Src/PID.c     ****         prevPhase4 = Phase4;
 567              		.loc 1 88 9 discriminator 2 view .LVU88
 568              		.loc 1 88 9 is_stmt 0 discriminator 2 view .LVU89
 569              	.LBE4:
  62:Src/PID.c     ****     {
 570              		.loc 1 62 40 is_stmt 1 discriminator 2 view .LVU90
  62:Src/PID.c     ****     {
 571              		.loc 1 62 43 is_stmt 0 discriminator 2 view .LVU91
 572 00a6 E023     		movs	r3, #224
 573 00a8 DB00     		lsls	r3, r3, #3
 574 00aa 9C46     		mov	ip, r3
 575 00ac E144     		add	r9, r9, ip
 576              	.LVL40:
 577              	.LBB5:
 578              		.loc 1 88 20 discriminator 2 view .LVU92
 579 00ae 0596     		str	r6, [sp, #20]
 580 00b0 BB46     		mov	fp, r7
  87:Src/PID.c     ****         prevPhase4 = Phase4;
 581              		.loc 1 87 20 discriminator 2 view .LVU93
 582 00b2 009B     		ldr	r3, [sp]
 583 00b4 019C     		ldr	r4, [sp, #4]
 584 00b6 0493     		str	r3, [sp, #16]
 585 00b8 A246     		mov	r10, r4
 586              	.LVL41:
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 13


 587              	.L23:
  87:Src/PID.c     ****         prevPhase4 = Phase4;
 588              		.loc 1 87 20 discriminator 2 view .LVU94
 589              	.LBE5:
  62:Src/PID.c     ****     {
 590              		.loc 1 62 27 is_stmt 1 discriminator 1 view .LVU95
  62:Src/PID.c     ****     {
 591              		.loc 1 62 5 is_stmt 0 discriminator 1 view .LVU96
 592 00ba 794B     		ldr	r3, .L37+24
 593 00bc 9945     		cmp	r9, r3
 594 00be 00D9     		bls	.LCB446
 595 00c0 82E0     		b	.L36	@long jump
 596              	.LCB446:
 597              	.LBB6:
  64:Src/PID.c     ****         HAL_Delay(100);
 598              		.loc 1 64 9 is_stmt 1 view .LVU97
 599 00c2 A020     		movs	r0, #160
 600 00c4 4003     		lsls	r0, r0, #13
 601 00c6 4844     		add	r0, r0, r9
 602 00c8 FFF7FEFF 		bl	DAC_cmd
 603              	.LVL42:
  65:Src/PID.c     ****         uint64_t Phase3 = (1800000 - (((uint64_t)State.ADC_Values[ADC_PD3_Phase_CH] * 1800000) / 0x
 604              		.loc 1 65 9 view .LVU98
 605 00cc 6420     		movs	r0, #100
 606 00ce FFF7FEFF 		bl	HAL_Delay
 607              	.LVL43:
  66:Src/PID.c     ****         uint64_t Phase4 = (1800000 - (((uint64_t)State.ADC_Values[ADC_PD4_Phase_CH] * 1800000) / 0x
 608              		.loc 1 66 9 view .LVU99
  66:Src/PID.c     ****         uint64_t Phase4 = (1800000 - (((uint64_t)State.ADC_Values[ADC_PD4_Phase_CH] * 1800000) / 0x
 609              		.loc 1 66 66 is_stmt 0 view .LVU100
 610 00d2 704B     		ldr	r3, .L37+12
 611 00d4 9846     		mov	r8, r3
 612 00d6 8823     		movs	r3, #136
 613 00d8 4246     		mov	r2, r8
 614 00da D058     		ldr	r0, [r2, r3]
  66:Src/PID.c     ****         uint64_t Phase4 = (1800000 - (((uint64_t)State.ADC_Values[ADC_PD4_Phase_CH] * 1800000) / 0x
 615              		.loc 1 66 85 view .LVU101
 616 00dc 714A     		ldr	r2, .L37+28
 617 00de 0023     		movs	r3, #0
 618 00e0 0021     		movs	r1, #0
 619 00e2 FFF7FEFF 		bl	__aeabi_lmul
 620              	.LVL44:
  66:Src/PID.c     ****         uint64_t Phase4 = (1800000 - (((uint64_t)State.ADC_Values[ADC_PD4_Phase_CH] * 1800000) / 0x
 621              		.loc 1 66 96 view .LVU102
 622 00e6 704A     		ldr	r2, .L37+32
 623 00e8 0023     		movs	r3, #0
 624 00ea FFF7FEFF 		bl	__aeabi_uldivmod
 625              	.LVL45:
  66:Src/PID.c     ****         uint64_t Phase4 = (1800000 - (((uint64_t)State.ADC_Values[ADC_PD4_Phase_CH] * 1800000) / 0x
 626              		.loc 1 66 36 view .LVU103
 627 00ee 6D4C     		ldr	r4, .L37+28
 628 00f0 0025     		movs	r5, #0
 629 00f2 2200     		movs	r2, r4
 630 00f4 2B00     		movs	r3, r5
 631 00f6 121A     		subs	r2, r2, r0
 632 00f8 8B41     		sbcs	r3, r3, r1
 633 00fa 1000     		movs	r0, r2
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 14


 634 00fc 1900     		movs	r1, r3
  66:Src/PID.c     ****         uint64_t Phase4 = (1800000 - (((uint64_t)State.ADC_Values[ADC_PD4_Phase_CH] * 1800000) / 0x
 635              		.loc 1 66 18 view .LVU104
 636 00fe 0A22     		movs	r2, #10
 637 0100 0023     		movs	r3, #0
 638 0102 FFF7FEFF 		bl	__aeabi_uldivmod
 639              	.LVL46:
 640 0106 0090     		str	r0, [sp]
 641 0108 0191     		str	r1, [sp, #4]
 642              	.LVL47:
  67:Src/PID.c     **** 
 643              		.loc 1 67 9 is_stmt 1 view .LVU105
  67:Src/PID.c     **** 
 644              		.loc 1 67 85 is_stmt 0 view .LVU106
 645 010a 2200     		movs	r2, r4
 646 010c 2B00     		movs	r3, r5
 647 010e 4146     		mov	r1, r8
 648 0110 886D     		ldr	r0, [r1, #88]
 649 0112 0021     		movs	r1, #0
 650 0114 FFF7FEFF 		bl	__aeabi_lmul
 651              	.LVL48:
  67:Src/PID.c     **** 
 652              		.loc 1 67 96 view .LVU107
 653 0118 634A     		ldr	r2, .L37+32
 654 011a 0023     		movs	r3, #0
 655 011c FFF7FEFF 		bl	__aeabi_uldivmod
 656              	.LVL49:
  67:Src/PID.c     **** 
 657              		.loc 1 67 36 view .LVU108
 658 0120 241A     		subs	r4, r4, r0
 659 0122 8D41     		sbcs	r5, r5, r1
 660 0124 2000     		movs	r0, r4
 661 0126 2900     		movs	r1, r5
  67:Src/PID.c     **** 
 662              		.loc 1 67 18 view .LVU109
 663 0128 0A22     		movs	r2, #10
 664 012a 0023     		movs	r3, #0
 665 012c FFF7FEFF 		bl	__aeabi_uldivmod
 666              	.LVL50:
 667 0130 0600     		movs	r6, r0
 668 0132 0F00     		movs	r7, r1
 669              	.LVL51:
  69:Src/PID.c     ****         int64_t error4 = 90000 - Phase4;
 670              		.loc 1 69 9 is_stmt 1 view .LVU110
  69:Src/PID.c     ****         int64_t error4 = 90000 - Phase4;
 671              		.loc 1 69 32 is_stmt 0 view .LVU111
 672 0134 5D4C     		ldr	r4, .L37+36
 673 0136 0025     		movs	r5, #0
 674 0138 2000     		movs	r0, r4
 675 013a 2900     		movs	r1, r5
 676 013c 009A     		ldr	r2, [sp]
 677 013e 019B     		ldr	r3, [sp, #4]
 678 0140 801A     		subs	r0, r0, r2
 679 0142 9941     		sbcs	r1, r1, r3
 680              	.LVL52:
  70:Src/PID.c     ****         int64_t MSE352 = error3 * error3 + error4 * error4;
 681              		.loc 1 70 9 is_stmt 1 view .LVU112
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 15


  70:Src/PID.c     ****         int64_t MSE352 = error3 * error3 + error4 * error4;
 682              		.loc 1 70 32 is_stmt 0 view .LVU113
 683 0144 A41B     		subs	r4, r4, r6
 684 0146 BD41     		sbcs	r5, r5, r7
 685              	.LVL53:
  71:Src/PID.c     **** 
 686              		.loc 1 71 9 is_stmt 1 view .LVU114
  71:Src/PID.c     **** 
 687              		.loc 1 71 33 is_stmt 0 view .LVU115
 688 0148 0200     		movs	r2, r0
 689 014a 0B00     		movs	r3, r1
 690 014c FFF7FEFF 		bl	__aeabi_lmul
 691              	.LVL54:
  71:Src/PID.c     **** 
 692              		.loc 1 71 33 view .LVU116
 693 0150 0290     		str	r0, [sp, #8]
 694 0152 0391     		str	r1, [sp, #12]
  71:Src/PID.c     **** 
 695              		.loc 1 71 51 view .LVU117
 696 0154 2200     		movs	r2, r4
 697 0156 2B00     		movs	r3, r5
 698 0158 2000     		movs	r0, r4
 699 015a 2900     		movs	r1, r5
 700 015c FFF7FEFF 		bl	__aeabi_lmul
 701              	.LVL55:
  71:Src/PID.c     **** 
 702              		.loc 1 71 17 view .LVU118
 703 0160 029B     		ldr	r3, [sp, #8]
 704 0162 039C     		ldr	r4, [sp, #12]
 705 0164 1B18     		adds	r3, r3, r0
 706 0166 4C41     		adcs	r4, r4, r1
 707 0168 1800     		movs	r0, r3
 708 016a 2100     		movs	r1, r4
 709              	.LVL56:
  73:Src/PID.c     ****         {
 710              		.loc 1 73 9 is_stmt 1 view .LVU119
  73:Src/PID.c     ****         {
 711              		.loc 1 73 27 is_stmt 0 view .LVU120
 712 016c A023     		movs	r3, #160
 713 016e DB00     		lsls	r3, r3, #3
 714 0170 4344     		add	r3, r3, r8
 715 0172 1A68     		ldr	r2, [r3]
 716 0174 5B68     		ldr	r3, [r3, #4]
  73:Src/PID.c     ****         {
 717              		.loc 1 73 12 view .LVU121
 718 0176 A342     		cmp	r3, r4
 719 0178 02DC     		bgt	.L33
 720 017a 94D1     		bne	.L24
 721 017c 8242     		cmp	r2, r0
 722 017e 92D9     		bls	.L24
 723              	.L33:
  81:Src/PID.c     ****             State.PD3_PD4_MSE = MSE352;
 724              		.loc 1 81 13 is_stmt 1 view .LVU122
  81:Src/PID.c     ****             State.PD3_PD4_MSE = MSE352;
 725              		.loc 1 81 34 is_stmt 0 view .LVU123
 726 0180 444B     		ldr	r3, .L37+12
 727 0182 9F22     		movs	r2, #159
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 16


 728 0184 D200     		lsls	r2, r2, #3
 729 0186 4C46     		mov	r4, r9
 730              	.LVL57:
  81:Src/PID.c     ****             State.PD3_PD4_MSE = MSE352;
 731              		.loc 1 81 34 view .LVU124
 732 0188 9C50     		str	r4, [r3, r2]
  82:Src/PID.c     ****             State.PD3_Slope = prevPhase3 < Phase3 ? 1 : -1;
 733              		.loc 1 82 13 is_stmt 1 view .LVU125
  82:Src/PID.c     ****             State.PD3_Slope = prevPhase3 < Phase3 ? 1 : -1;
 734              		.loc 1 82 31 is_stmt 0 view .LVU126
 735 018a 0832     		adds	r2, r2, #8
 736 018c 9446     		mov	ip, r2
 737 018e 6344     		add	r3, r3, ip
 738 0190 1860     		str	r0, [r3]
 739 0192 5960     		str	r1, [r3, #4]
  83:Src/PID.c     ****             State.PD4_Slope = prevPhase4 < Phase4 ? 1 : -1;
 740              		.loc 1 83 13 is_stmt 1 view .LVU127
  83:Src/PID.c     ****             State.PD4_Slope = prevPhase4 < Phase4 ? 1 : -1;
 741              		.loc 1 83 29 is_stmt 0 view .LVU128
 742 0194 009B     		ldr	r3, [sp]
 743 0196 019C     		ldr	r4, [sp, #4]
 744 0198 5445     		cmp	r4, r10
 745 019a 05D8     		bhi	.L34
 746              	.LVL58:
  83:Src/PID.c     ****             State.PD4_Slope = prevPhase4 < Phase4 ? 1 : -1;
 747              		.loc 1 83 29 view .LVU129
 748 019c 00D0     		beq	.LCB567
 749 019e 62E7     		b	.L31	@long jump
 750              	.LCB567:
 751 01a0 049A     		ldr	r2, [sp, #16]
 752 01a2 9342     		cmp	r3, r2
 753 01a4 00D8     		bhi	.LCB570
 754 01a6 5EE7     		b	.L31	@long jump
 755              	.LCB570:
 756              	.L34:
 757 01a8 0120     		movs	r0, #1
 758              	.LVL59:
 759              	.L26:
  83:Src/PID.c     ****             State.PD4_Slope = prevPhase4 < Phase4 ? 1 : -1;
 760              		.loc 1 83 29 discriminator 4 view .LVU130
 761 01aa 3A4A     		ldr	r2, .L37+12
 762 01ac 404B     		ldr	r3, .L37+40
 763 01ae D054     		strb	r0, [r2, r3]
  84:Src/PID.c     ****             State.PD3_PD4_SetPoint = State.PD3_Slope * Phase3 + State.PD4_Slope * Phase4;
 764              		.loc 1 84 13 is_stmt 1 discriminator 4 view .LVU131
  84:Src/PID.c     ****             State.PD3_PD4_SetPoint = State.PD3_Slope * Phase3 + State.PD4_Slope * Phase4;
 765              		.loc 1 84 29 is_stmt 0 discriminator 4 view .LVU132
 766 01b0 5F45     		cmp	r7, fp
 767 01b2 00D9     		bls	.LCB581
 768 01b4 5AE7     		b	.L35	@long jump
 769              	.LCB581:
 770 01b6 03D1     		bne	.L32
 771 01b8 059B     		ldr	r3, [sp, #20]
 772 01ba 9E42     		cmp	r6, r3
 773 01bc 00D9     		bls	.LCB586
 774 01be 55E7     		b	.L35	@long jump
 775              	.LCB586:
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 17


 776              	.L32:
  84:Src/PID.c     ****             State.PD3_PD4_SetPoint = State.PD3_Slope * Phase3 + State.PD4_Slope * Phase4;
 777              		.loc 1 84 29 view .LVU133
 778 01c0 0123     		movs	r3, #1
 779 01c2 5B42     		rsbs	r3, r3, #0
 780 01c4 9A46     		mov	r10, r3
 781              	.LVL60:
  84:Src/PID.c     ****             State.PD3_PD4_SetPoint = State.PD3_Slope * Phase3 + State.PD4_Slope * Phase4;
 782              		.loc 1 84 29 view .LVU134
 783 01c6 53E7     		b	.L28
 784              	.LVL61:
 785              	.L36:
  84:Src/PID.c     ****             State.PD3_PD4_SetPoint = State.PD3_Slope * Phase3 + State.PD4_Slope * Phase4;
 786              		.loc 1 84 29 view .LVU135
 787              	.LBE6:
 788              	.LBE7:
 789              	.LBB8:
  89:Src/PID.c     ****     }
  90:Src/PID.c     ****     SERIAL_WRITE("\b\b\bPD3+PD4 SETPOINT: %li\n", State.PD3_PD4_SetPoint);
 790              		.loc 1 90 5 is_stmt 1 view .LVU136
 791 01c8 0027     		movs	r7, #0
 792 01ca 0797     		str	r7, [sp, #28]
 793 01cc 6022     		movs	r2, #96
 794 01ce 0021     		movs	r1, #0
 795 01d0 08A8     		add	r0, sp, #32
 796 01d2 FFF7FEFF 		bl	memset
 797              	.LVL62:
 798              		.loc 1 90 5 view .LVU137
 799 01d6 2F4C     		ldr	r4, .L37+12
 800 01d8 9E23     		movs	r3, #158
 801 01da DB00     		lsls	r3, r3, #3
 802 01dc E318     		adds	r3, r4, r3
 803 01de 1A68     		ldr	r2, [r3]
 804 01e0 5B68     		ldr	r3, [r3, #4]
 805 01e2 3449     		ldr	r1, .L37+44
 806 01e4 07A8     		add	r0, sp, #28
 807 01e6 FFF7FEFF 		bl	sprintf
 808              	.LVL63:
 809              		.loc 1 90 5 view .LVU138
 810 01ea FA26     		movs	r6, #250
 811 01ec B600     		lsls	r6, r6, #2
 812 01ee 82B2     		uxth	r2, r0
 813 01f0 264D     		ldr	r5, .L37+4
 814 01f2 3300     		movs	r3, r6
 815 01f4 07A9     		add	r1, sp, #28
 816 01f6 2800     		movs	r0, r5
 817              	.LVL64:
 818              		.loc 1 90 5 is_stmt 0 view .LVU139
 819 01f8 FFF7FEFF 		bl	HAL_UART_Transmit
 820              	.LVL65:
 821              	.LBE8:
 822              		.loc 1 90 74 is_stmt 1 view .LVU140
 823              	.LBB9:
  91:Src/PID.c     ****     SERIAL_WRITE("[CALIBRATION] PD3 SLOPE: %i\n", State.PD3_Slope);
 824              		.loc 1 91 5 view .LVU141
 825 01fc 0797     		str	r7, [sp, #28]
 826 01fe 6022     		movs	r2, #96
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 18


 827 0200 0021     		movs	r1, #0
 828 0202 08A8     		add	r0, sp, #32
 829 0204 FFF7FEFF 		bl	memset
 830              	.LVL66:
 831              		.loc 1 91 5 view .LVU142
 832 0208 294B     		ldr	r3, .L37+40
 833 020a E256     		ldrsb	r2, [r4, r3]
 834 020c 2A49     		ldr	r1, .L37+48
 835 020e 07A8     		add	r0, sp, #28
 836 0210 FFF7FEFF 		bl	sprintf
 837              	.LVL67:
 838              		.loc 1 91 5 view .LVU143
 839 0214 82B2     		uxth	r2, r0
 840 0216 3300     		movs	r3, r6
 841 0218 07A9     		add	r1, sp, #28
 842 021a 2800     		movs	r0, r5
 843              	.LVL68:
 844              		.loc 1 91 5 is_stmt 0 view .LVU144
 845 021c FFF7FEFF 		bl	HAL_UART_Transmit
 846              	.LVL69:
 847              	.LBE9:
 848              		.loc 1 91 67 is_stmt 1 view .LVU145
 849              	.LBB10:
  92:Src/PID.c     ****     SERIAL_WRITE("[CALIBRATION] PD4 SLOPE: %i\n", State.PD4_Slope);
 850              		.loc 1 92 5 view .LVU146
 851 0220 0797     		str	r7, [sp, #28]
 852 0222 6022     		movs	r2, #96
 853 0224 0021     		movs	r1, #0
 854 0226 08A8     		add	r0, sp, #32
 855 0228 FFF7FEFF 		bl	memset
 856              	.LVL70:
 857              		.loc 1 92 5 view .LVU147
 858 022c 1B4B     		ldr	r3, .L37+20
 859 022e E256     		ldrsb	r2, [r4, r3]
 860 0230 2249     		ldr	r1, .L37+52
 861 0232 07A8     		add	r0, sp, #28
 862 0234 FFF7FEFF 		bl	sprintf
 863              	.LVL71:
 864              		.loc 1 92 5 view .LVU148
 865 0238 82B2     		uxth	r2, r0
 866 023a 3300     		movs	r3, r6
 867 023c 07A9     		add	r1, sp, #28
 868 023e 2800     		movs	r0, r5
 869              	.LVL72:
 870              		.loc 1 92 5 is_stmt 0 view .LVU149
 871 0240 FFF7FEFF 		bl	HAL_UART_Transmit
 872              	.LVL73:
 873              	.LBE10:
 874              		.loc 1 92 67 is_stmt 1 view .LVU150
 875              	.LBB11:
  93:Src/PID.c     ****     SERIAL_WRITE("[CALIBRATION] PS352 OFFSET: %u\n", State.PD3_PD4_Offset);
 876              		.loc 1 93 5 view .LVU151
 877 0244 0797     		str	r7, [sp, #28]
 878 0246 6022     		movs	r2, #96
 879 0248 0021     		movs	r1, #0
 880 024a 08A8     		add	r0, sp, #32
 881 024c FFF7FEFF 		bl	memset
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 19


 882              	.LVL74:
 883              		.loc 1 93 5 view .LVU152
 884 0250 9F27     		movs	r7, #159
 885 0252 FF00     		lsls	r7, r7, #3
 886 0254 E259     		ldr	r2, [r4, r7]
 887 0256 1A49     		ldr	r1, .L37+56
 888 0258 07A8     		add	r0, sp, #28
 889 025a FFF7FEFF 		bl	sprintf
 890              	.LVL75:
 891              		.loc 1 93 5 view .LVU153
 892 025e 82B2     		uxth	r2, r0
 893 0260 3300     		movs	r3, r6
 894 0262 07A9     		add	r1, sp, #28
 895 0264 2800     		movs	r0, r5
 896              	.LVL76:
 897              		.loc 1 93 5 is_stmt 0 view .LVU154
 898 0266 FFF7FEFF 		bl	HAL_UART_Transmit
 899              	.LVL77:
 900              	.LBE11:
 901              		.loc 1 93 75 is_stmt 1 view .LVU155
  94:Src/PID.c     ****     DAC_cmd(RF_PS_352_OFFSET + DAC_WRITE + State.PD3_PD4_Offset);
 902              		.loc 1 94 5 view .LVU156
 903              		.loc 1 94 49 is_stmt 0 view .LVU157
 904 026a E059     		ldr	r0, [r4, r7]
 905              		.loc 1 94 5 view .LVU158
 906 026c A023     		movs	r3, #160
 907 026e 5B03     		lsls	r3, r3, #13
 908 0270 9C46     		mov	ip, r3
 909 0272 6044     		add	r0, r0, ip
 910 0274 FFF7FEFF 		bl	DAC_cmd
 911              	.LVL78:
  95:Src/PID.c     **** }
 912              		.loc 1 95 1 view .LVU159
 913 0278 21B0     		add	sp, sp, #132
 914              		@ sp needed
 915              	.LVL79:
 916              	.LVL80:
 917              	.LVL81:
 918              		.loc 1 95 1 view .LVU160
 919 027a 3CBC     		pop	{r2, r3, r4, r5}
 920 027c 9046     		mov	r8, r2
 921 027e 9946     		mov	r9, r3
 922 0280 A246     		mov	r10, r4
 923 0282 AB46     		mov	fp, r5
 924 0284 F0BD     		pop	{r4, r5, r6, r7, pc}
 925              	.L38:
 926 0286 C046     		.align	2
 927              	.L37:
 928 0288 00000000 		.word	.LC4
 929 028c 00000000 		.word	huart2
 930 0290 FF7F1500 		.word	1409023
 931 0294 00000000 		.word	State
 932 0298 006298C5 		.word	-979869184
 933 029c D5040000 		.word	1237
 934 02a0 FEFF0000 		.word	65534
 935 02a4 40771B00 		.word	1800000
 936 02a8 FFFFFF00 		.word	16777215
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 20


 937 02ac 905F0100 		.word	90000
 938 02b0 D4040000 		.word	1236
 939 02b4 14000000 		.word	.LC8
 940 02b8 30000000 		.word	.LC10
 941 02bc 50000000 		.word	.LC12
 942 02c0 70000000 		.word	.LC14
 943              		.cfi_endproc
 944              	.LFE291:
 946              		.section	.rodata.Calib704.str1.4,"aMS",%progbits,1
 947              		.align	2
 948              	.LC21:
 949 0000 08080850 		.ascii	"\010\010\010PD1+PD2 SETPOINT: %li\012\000"
 949      44312B50 
 949      44322053 
 949      4554504F 
 949      494E543A 
 950 001a 0000     		.align	2
 951              	.LC23:
 952 001c 5B43414C 		.ascii	"[CALIBRATION] PD1 SLOPE: %i\012\000"
 952      49425241 
 952      54494F4E 
 952      5D205044 
 952      3120534C 
 953 0039 000000   		.align	2
 954              	.LC25:
 955 003c 5B43414C 		.ascii	"[CALIBRATION] PD2 SLOPE: %i\012\000"
 955      49425241 
 955      54494F4E 
 955      5D205044 
 955      3220534C 
 956 0059 000000   		.align	2
 957              	.LC27:
 958 005c 5B43414C 		.ascii	"[CALIBRATION] PS704 OFFSET: %u\012\000"
 958      49425241 
 958      54494F4E 
 958      5D205053 
 958      37303420 
 959              		.section	.text.Calib704,"ax",%progbits
 960              		.align	1
 961              		.global	Calib704
 962              		.syntax unified
 963              		.code	16
 964              		.thumb_func
 965              		.fpu softvfp
 967              	Calib704:
 968              	.LFB292:
  96:Src/PID.c     **** 
  97:Src/PID.c     **** //Determines optimal setpoints of Phase shifters, detectors slopes
  98:Src/PID.c     **** void Calib704()
  99:Src/PID.c     **** {
 969              		.loc 1 99 1 is_stmt 1 view -0
 970              		.cfi_startproc
 971              		@ args = 0, pretend = 0, frame = 128
 972              		@ frame_needed = 0, uses_anonymous_args = 0
 973 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 974              	.LCFI11:
 975              		.cfi_def_cfa_offset 20
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 21


 976              		.cfi_offset 4, -20
 977              		.cfi_offset 5, -16
 978              		.cfi_offset 6, -12
 979              		.cfi_offset 7, -8
 980              		.cfi_offset 14, -4
 981 0002 DE46     		mov	lr, fp
 982 0004 5746     		mov	r7, r10
 983 0006 4E46     		mov	r6, r9
 984 0008 4546     		mov	r5, r8
 985 000a E0B5     		push	{r5, r6, r7, lr}
 986              	.LCFI12:
 987              		.cfi_def_cfa_offset 36
 988              		.cfi_offset 8, -36
 989              		.cfi_offset 9, -32
 990              		.cfi_offset 10, -28
 991              		.cfi_offset 11, -24
 992 000c A1B0     		sub	sp, sp, #132
 993              	.LCFI13:
 994              		.cfi_def_cfa_offset 168
 995              	.LBB12:
 100:Src/PID.c     ****     SERIAL_WRITE("[CALIBRATION] ...")
 996              		.loc 1 100 5 view .LVU162
 997 000e 07AC     		add	r4, sp, #28
 998 0010 6022     		movs	r2, #96
 999 0012 0021     		movs	r1, #0
 1000 0014 08A8     		add	r0, sp, #32
 1001 0016 FFF7FEFF 		bl	memset
 1002              	.LVL82:
 1003              		.loc 1 100 5 view .LVU163
 1004 001a 9A4B     		ldr	r3, .L54
 1005 001c 2200     		movs	r2, r4
 1006 001e 23CB     		ldmia	r3!, {r0, r1, r5}
 1007 0020 23C2     		stmia	r2!, {r0, r1, r5}
 1008 0022 1968     		ldr	r1, [r3]
 1009 0024 1160     		str	r1, [r2]
 1010 0026 9B88     		ldrh	r3, [r3, #4]
 1011 0028 9380     		strh	r3, [r2, #4]
 1012              	.LVL83:
 1013              		.loc 1 100 5 view .LVU164
 1014 002a FA23     		movs	r3, #250
 1015 002c 9B00     		lsls	r3, r3, #2
 1016 002e 1122     		movs	r2, #17
 1017 0030 2100     		movs	r1, r4
 1018 0032 9548     		ldr	r0, .L54+4
 1019 0034 FFF7FEFF 		bl	HAL_UART_Transmit
 1020              	.LVL84:
 1021              	.LBE12:
 101:Src/PID.c     ****     DAC_cmd(RF_PS_704_OFFSET + DAC_WRITE + 0);
 1022              		.loc 1 101 5 view .LVU165
 1023 0038 B020     		movs	r0, #176
 1024 003a 4003     		lsls	r0, r0, #13
 1025 003c FFF7FEFF 		bl	DAC_cmd
 1026              	.LVL85:
 102:Src/PID.c     ****     DAC_cmd(RF_PS_704_FINE + DAC_WRITE + 0x7fff);
 1027              		.loc 1 102 5 view .LVU166
 1028 0040 9248     		ldr	r0, .L54+8
 1029 0042 FFF7FEFF 		bl	DAC_cmd
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 22


 1030              	.LVL86:
 103:Src/PID.c     ****     State.PD1_PD2_MSE = 16200000000;
 1031              		.loc 1 103 5 view .LVU167
 1032              		.loc 1 103 23 is_stmt 0 view .LVU168
 1033 0046 924B     		ldr	r3, .L54+12
 1034 0048 9D22     		movs	r2, #157
 1035 004a D200     		lsls	r2, r2, #3
 1036 004c 9446     		mov	ip, r2
 1037 004e 6344     		add	r3, r3, ip
 1038 0050 9048     		ldr	r0, .L54+16
 1039 0052 0321     		movs	r1, #3
 1040 0054 1860     		str	r0, [r3]
 1041 0056 5960     		str	r1, [r3, #4]
 104:Src/PID.c     ****     uint64_t prevPhase1 = 0;
 1042              		.loc 1 104 5 is_stmt 1 view .LVU169
 1043              	.LVL87:
 105:Src/PID.c     ****     uint64_t prevPhase2 = 0;
 1044              		.loc 1 105 5 view .LVU170
 106:Src/PID.c     ****     for (uint32_t PS = 0; PS < 0xffff; PS += 0x0700)
 1045              		.loc 1 106 5 view .LVU171
 1046              	.LBB13:
 1047              		.loc 1 106 10 view .LVU172
 1048              		.loc 1 106 19 is_stmt 0 view .LVU173
 1049 0058 0023     		movs	r3, #0
 1050 005a 9946     		mov	r9, r3
 1051              	.LBE13:
 105:Src/PID.c     ****     uint64_t prevPhase2 = 0;
 1052              		.loc 1 105 14 view .LVU174
 1053 005c 0593     		str	r3, [sp, #20]
 1054 005e 9B46     		mov	fp, r3
 104:Src/PID.c     ****     uint64_t prevPhase1 = 0;
 1055              		.loc 1 104 14 view .LVU175
 1056 0060 0493     		str	r3, [sp, #16]
 1057 0062 9A46     		mov	r10, r3
 1058              	.LBB17:
 1059              		.loc 1 106 5 view .LVU176
 1060 0064 29E0     		b	.L40
 1061              	.LVL88:
 1062              	.L48:
 1063              	.LBB14:
 107:Src/PID.c     ****     {
 108:Src/PID.c     ****         DAC_cmd(RF_PS_704_OFFSET + DAC_WRITE + PS);
 109:Src/PID.c     ****         HAL_Delay(100);
 110:Src/PID.c     ****         uint64_t Phase1 = (1800000 - (((uint64_t)State.ADC_Values[ADC_PD1_Phase_CH] * 1800000) / 0x
 111:Src/PID.c     ****         uint64_t Phase2 = (1800000 - (((uint64_t)State.ADC_Values[ADC_PD2_Phase_CH] * 1800000) / 0x
 112:Src/PID.c     **** 
 113:Src/PID.c     ****         int64_t error1 = 90000 - Phase1;
 114:Src/PID.c     ****         int64_t error2 = 90000 - Phase2;
 115:Src/PID.c     ****         int64_t MSE704 = error1 * error1 + error2 * error2;
 116:Src/PID.c     **** 
 117:Src/PID.c     ****         if (MSE704 < State.PD1_PD2_MSE)
 118:Src/PID.c     ****         {
 119:Src/PID.c     ****             // SERIAL_WRITE("Phase1: %lu\n", Phase1);
 120:Src/PID.c     ****             // SERIAL_WRITE("Phase2: %lu\n", Phase2);
 121:Src/PID.c     ****             // SERIAL_WRITE("error1: %li\n", error1);
 122:Src/PID.c     ****             // SERIAL_WRITE("error2: %li\n", error2);
 123:Src/PID.c     ****             // SERIAL_WRITE("MSE704: %li\n\n", MSE704);
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 23


 124:Src/PID.c     ****             State.PD1_PD2_Offset = PS;
 125:Src/PID.c     ****             State.PD1_PD2_MSE = MSE704;
 126:Src/PID.c     ****             State.PD1_Slope = prevPhase1 < Phase1 ? 1 : -1;
 1064              		.loc 1 126 29 view .LVU177
 1065 0066 0120     		movs	r0, #1
 1066              	.LVL89:
 1067              		.loc 1 126 29 view .LVU178
 1068 0068 4042     		rsbs	r0, r0, #0
 1069 006a 9DE0     		b	.L43
 1070              	.LVL90:
 1071              	.L52:
 127:Src/PID.c     ****             State.PD2_Slope = prevPhase2 < Phase2 ? 1 : -1;
 1072              		.loc 1 127 29 view .LVU179
 1073 006c 0123     		movs	r3, #1
 1074 006e 9A46     		mov	r10, r3
 1075              	.LVL91:
 1076              	.L45:
 1077              		.loc 1 127 29 discriminator 4 view .LVU180
 1078 0070 874B     		ldr	r3, .L54+12
 1079 0072 9846     		mov	r8, r3
 1080 0074 884B     		ldr	r3, .L54+20
 1081 0076 4246     		mov	r2, r8
 1082              		.loc 1 127 29 discriminator 4 view .LVU181
 1083 0078 5146     		mov	r1, r10
 1084 007a D154     		strb	r1, [r2, r3]
 128:Src/PID.c     ****             State.PD1_PD2_SetPoint = State.PD1_Slope * Phase1 + State.PD2_Slope * Phase2;
 1085              		.loc 1 128 13 is_stmt 1 discriminator 4 view .LVU182
 1086              		.loc 1 128 43 is_stmt 0 discriminator 4 view .LVU183
 1087 007c C117     		asrs	r1, r0, #31
 1088              		.loc 1 128 54 discriminator 4 view .LVU184
 1089 007e 009A     		ldr	r2, [sp]
 1090 0080 019B     		ldr	r3, [sp, #4]
 1091              	.LVL92:
 1092              		.loc 1 128 54 discriminator 4 view .LVU185
 1093 0082 FFF7FEFF 		bl	__aeabi_lmul
 1094              	.LVL93:
 1095              		.loc 1 128 54 discriminator 4 view .LVU186
 1096 0086 0400     		movs	r4, r0
 1097              	.LVL94:
 1098              		.loc 1 128 54 discriminator 4 view .LVU187
 1099 0088 0D00     		movs	r5, r1
 1100              		.loc 1 128 70 discriminator 4 view .LVU188
 1101 008a 5346     		mov	r3, r10
 1102 008c D917     		asrs	r1, r3, #31
 1103              		.loc 1 128 81 discriminator 4 view .LVU189
 1104 008e 3200     		movs	r2, r6
 1105 0090 3B00     		movs	r3, r7
 1106 0092 5046     		mov	r0, r10
 1107 0094 FFF7FEFF 		bl	__aeabi_lmul
 1108              	.LVL95:
 1109              		.loc 1 128 63 discriminator 4 view .LVU190
 1110 0098 2418     		adds	r4, r4, r0
 1111 009a 4D41     		adcs	r5, r5, r1
 1112              		.loc 1 128 36 discriminator 4 view .LVU191
 1113 009c 9B23     		movs	r3, #155
 1114 009e DB00     		lsls	r3, r3, #3
 1115 00a0 4344     		add	r3, r3, r8
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 24


 1116 00a2 1C60     		str	r4, [r3]
 1117 00a4 5D60     		str	r5, [r3, #4]
 1118              	.L41:
 129:Src/PID.c     ****         }
 130:Src/PID.c     ****         prevPhase1 = Phase1;
 1119              		.loc 1 130 9 is_stmt 1 discriminator 2 view .LVU192
 1120              	.LVL96:
 131:Src/PID.c     ****         prevPhase2 = Phase2;
 1121              		.loc 1 131 9 discriminator 2 view .LVU193
 1122              		.loc 1 131 9 is_stmt 0 discriminator 2 view .LVU194
 1123              	.LBE14:
 106:Src/PID.c     ****     {
 1124              		.loc 1 106 40 is_stmt 1 discriminator 2 view .LVU195
 106:Src/PID.c     ****     {
 1125              		.loc 1 106 43 is_stmt 0 discriminator 2 view .LVU196
 1126 00a6 E023     		movs	r3, #224
 1127 00a8 DB00     		lsls	r3, r3, #3
 1128 00aa 9C46     		mov	ip, r3
 1129 00ac E144     		add	r9, r9, ip
 1130              	.LVL97:
 1131              	.LBB15:
 1132              		.loc 1 131 20 discriminator 2 view .LVU197
 1133 00ae 0596     		str	r6, [sp, #20]
 1134 00b0 BB46     		mov	fp, r7
 130:Src/PID.c     ****         prevPhase2 = Phase2;
 1135              		.loc 1 130 20 discriminator 2 view .LVU198
 1136 00b2 009B     		ldr	r3, [sp]
 1137 00b4 019C     		ldr	r4, [sp, #4]
 1138 00b6 0493     		str	r3, [sp, #16]
 1139 00b8 A246     		mov	r10, r4
 1140              	.LVL98:
 1141              	.L40:
 130:Src/PID.c     ****         prevPhase2 = Phase2;
 1142              		.loc 1 130 20 discriminator 2 view .LVU199
 1143              	.LBE15:
 106:Src/PID.c     ****     {
 1144              		.loc 1 106 27 is_stmt 1 discriminator 1 view .LVU200
 106:Src/PID.c     ****     {
 1145              		.loc 1 106 5 is_stmt 0 discriminator 1 view .LVU201
 1146 00ba 784B     		ldr	r3, .L54+24
 1147 00bc 9945     		cmp	r9, r3
 1148 00be 00D9     		bls	.LCB933
 1149 00c0 81E0     		b	.L53	@long jump
 1150              	.LCB933:
 1151              	.LBB16:
 108:Src/PID.c     ****         HAL_Delay(100);
 1152              		.loc 1 108 9 is_stmt 1 view .LVU202
 1153 00c2 B020     		movs	r0, #176
 1154 00c4 4003     		lsls	r0, r0, #13
 1155 00c6 4844     		add	r0, r0, r9
 1156 00c8 FFF7FEFF 		bl	DAC_cmd
 1157              	.LVL99:
 109:Src/PID.c     ****         uint64_t Phase1 = (1800000 - (((uint64_t)State.ADC_Values[ADC_PD1_Phase_CH] * 1800000) / 0x
 1158              		.loc 1 109 9 view .LVU203
 1159 00cc 6420     		movs	r0, #100
 1160 00ce FFF7FEFF 		bl	HAL_Delay
 1161              	.LVL100:
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 25


 110:Src/PID.c     ****         uint64_t Phase2 = (1800000 - (((uint64_t)State.ADC_Values[ADC_PD2_Phase_CH] * 1800000) / 0x
 1162              		.loc 1 110 9 view .LVU204
 110:Src/PID.c     ****         uint64_t Phase2 = (1800000 - (((uint64_t)State.ADC_Values[ADC_PD2_Phase_CH] * 1800000) / 0x
 1163              		.loc 1 110 66 is_stmt 0 view .LVU205
 1164 00d2 6F4B     		ldr	r3, .L54+12
 1165 00d4 9846     		mov	r8, r3
 110:Src/PID.c     ****         uint64_t Phase2 = (1800000 - (((uint64_t)State.ADC_Values[ADC_PD2_Phase_CH] * 1800000) / 0x
 1166              		.loc 1 110 85 view .LVU206
 1167 00d6 724A     		ldr	r2, .L54+28
 1168 00d8 0023     		movs	r3, #0
 1169 00da 4146     		mov	r1, r8
 1170 00dc 886E     		ldr	r0, [r1, #104]
 1171 00de 0021     		movs	r1, #0
 1172 00e0 FFF7FEFF 		bl	__aeabi_lmul
 1173              	.LVL101:
 110:Src/PID.c     ****         uint64_t Phase2 = (1800000 - (((uint64_t)State.ADC_Values[ADC_PD2_Phase_CH] * 1800000) / 0x
 1174              		.loc 1 110 96 view .LVU207
 1175 00e4 6F4A     		ldr	r2, .L54+32
 1176 00e6 0023     		movs	r3, #0
 1177 00e8 FFF7FEFF 		bl	__aeabi_uldivmod
 1178              	.LVL102:
 110:Src/PID.c     ****         uint64_t Phase2 = (1800000 - (((uint64_t)State.ADC_Values[ADC_PD2_Phase_CH] * 1800000) / 0x
 1179              		.loc 1 110 36 view .LVU208
 1180 00ec 6C4C     		ldr	r4, .L54+28
 1181 00ee 0025     		movs	r5, #0
 1182 00f0 2200     		movs	r2, r4
 1183 00f2 2B00     		movs	r3, r5
 1184 00f4 121A     		subs	r2, r2, r0
 1185 00f6 8B41     		sbcs	r3, r3, r1
 1186 00f8 1000     		movs	r0, r2
 1187 00fa 1900     		movs	r1, r3
 110:Src/PID.c     ****         uint64_t Phase2 = (1800000 - (((uint64_t)State.ADC_Values[ADC_PD2_Phase_CH] * 1800000) / 0x
 1188              		.loc 1 110 18 view .LVU209
 1189 00fc 0A22     		movs	r2, #10
 1190 00fe 0023     		movs	r3, #0
 1191 0100 FFF7FEFF 		bl	__aeabi_uldivmod
 1192              	.LVL103:
 1193 0104 0090     		str	r0, [sp]
 1194 0106 0191     		str	r1, [sp, #4]
 1195              	.LVL104:
 111:Src/PID.c     **** 
 1196              		.loc 1 111 9 is_stmt 1 view .LVU210
 111:Src/PID.c     **** 
 1197              		.loc 1 111 85 is_stmt 0 view .LVU211
 1198 0108 2200     		movs	r2, r4
 1199 010a 2B00     		movs	r3, r5
 1200 010c 4146     		mov	r1, r8
 1201 010e 086D     		ldr	r0, [r1, #80]
 1202 0110 0021     		movs	r1, #0
 1203 0112 FFF7FEFF 		bl	__aeabi_lmul
 1204              	.LVL105:
 111:Src/PID.c     **** 
 1205              		.loc 1 111 96 view .LVU212
 1206 0116 634A     		ldr	r2, .L54+32
 1207 0118 0023     		movs	r3, #0
 1208 011a FFF7FEFF 		bl	__aeabi_uldivmod
 1209              	.LVL106:
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 26


 111:Src/PID.c     **** 
 1210              		.loc 1 111 36 view .LVU213
 1211 011e 241A     		subs	r4, r4, r0
 1212 0120 8D41     		sbcs	r5, r5, r1
 1213 0122 2000     		movs	r0, r4
 1214 0124 2900     		movs	r1, r5
 111:Src/PID.c     **** 
 1215              		.loc 1 111 18 view .LVU214
 1216 0126 0A22     		movs	r2, #10
 1217 0128 0023     		movs	r3, #0
 1218 012a FFF7FEFF 		bl	__aeabi_uldivmod
 1219              	.LVL107:
 1220 012e 0600     		movs	r6, r0
 1221 0130 0F00     		movs	r7, r1
 1222              	.LVL108:
 113:Src/PID.c     ****         int64_t error2 = 90000 - Phase2;
 1223              		.loc 1 113 9 is_stmt 1 view .LVU215
 113:Src/PID.c     ****         int64_t error2 = 90000 - Phase2;
 1224              		.loc 1 113 32 is_stmt 0 view .LVU216
 1225 0132 5D4C     		ldr	r4, .L54+36
 1226 0134 0025     		movs	r5, #0
 1227 0136 2000     		movs	r0, r4
 1228 0138 2900     		movs	r1, r5
 1229 013a 009A     		ldr	r2, [sp]
 1230 013c 019B     		ldr	r3, [sp, #4]
 1231 013e 801A     		subs	r0, r0, r2
 1232 0140 9941     		sbcs	r1, r1, r3
 1233              	.LVL109:
 114:Src/PID.c     ****         int64_t MSE704 = error1 * error1 + error2 * error2;
 1234              		.loc 1 114 9 is_stmt 1 view .LVU217
 114:Src/PID.c     ****         int64_t MSE704 = error1 * error1 + error2 * error2;
 1235              		.loc 1 114 32 is_stmt 0 view .LVU218
 1236 0142 A41B     		subs	r4, r4, r6
 1237 0144 BD41     		sbcs	r5, r5, r7
 1238              	.LVL110:
 115:Src/PID.c     **** 
 1239              		.loc 1 115 9 is_stmt 1 view .LVU219
 115:Src/PID.c     **** 
 1240              		.loc 1 115 33 is_stmt 0 view .LVU220
 1241 0146 0200     		movs	r2, r0
 1242 0148 0B00     		movs	r3, r1
 1243 014a FFF7FEFF 		bl	__aeabi_lmul
 1244              	.LVL111:
 115:Src/PID.c     **** 
 1245              		.loc 1 115 33 view .LVU221
 1246 014e 0290     		str	r0, [sp, #8]
 1247 0150 0391     		str	r1, [sp, #12]
 115:Src/PID.c     **** 
 1248              		.loc 1 115 51 view .LVU222
 1249 0152 2200     		movs	r2, r4
 1250 0154 2B00     		movs	r3, r5
 1251 0156 2000     		movs	r0, r4
 1252 0158 2900     		movs	r1, r5
 1253 015a FFF7FEFF 		bl	__aeabi_lmul
 1254              	.LVL112:
 115:Src/PID.c     **** 
 1255              		.loc 1 115 17 view .LVU223
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 27


 1256 015e 029B     		ldr	r3, [sp, #8]
 1257 0160 039C     		ldr	r4, [sp, #12]
 1258 0162 1B18     		adds	r3, r3, r0
 1259 0164 4C41     		adcs	r4, r4, r1
 1260 0166 1800     		movs	r0, r3
 1261 0168 2100     		movs	r1, r4
 1262              	.LVL113:
 117:Src/PID.c     ****         {
 1263              		.loc 1 117 9 is_stmt 1 view .LVU224
 117:Src/PID.c     ****         {
 1264              		.loc 1 117 27 is_stmt 0 view .LVU225
 1265 016a 9D23     		movs	r3, #157
 1266 016c DB00     		lsls	r3, r3, #3
 1267 016e 4344     		add	r3, r3, r8
 1268 0170 1A68     		ldr	r2, [r3]
 1269 0172 5B68     		ldr	r3, [r3, #4]
 117:Src/PID.c     ****         {
 1270              		.loc 1 117 12 view .LVU226
 1271 0174 A342     		cmp	r3, r4
 1272 0176 02DC     		bgt	.L50
 1273 0178 95D1     		bne	.L41
 1274 017a 8242     		cmp	r2, r0
 1275 017c 93D9     		bls	.L41
 1276              	.L50:
 124:Src/PID.c     ****             State.PD1_PD2_MSE = MSE704;
 1277              		.loc 1 124 13 is_stmt 1 view .LVU227
 124:Src/PID.c     ****             State.PD1_PD2_MSE = MSE704;
 1278              		.loc 1 124 34 is_stmt 0 view .LVU228
 1279 017e 444B     		ldr	r3, .L54+12
 1280 0180 9C22     		movs	r2, #156
 1281 0182 D200     		lsls	r2, r2, #3
 1282 0184 4C46     		mov	r4, r9
 1283              	.LVL114:
 124:Src/PID.c     ****             State.PD1_PD2_MSE = MSE704;
 1284              		.loc 1 124 34 view .LVU229
 1285 0186 9C50     		str	r4, [r3, r2]
 125:Src/PID.c     ****             State.PD1_Slope = prevPhase1 < Phase1 ? 1 : -1;
 1286              		.loc 1 125 13 is_stmt 1 view .LVU230
 125:Src/PID.c     ****             State.PD1_Slope = prevPhase1 < Phase1 ? 1 : -1;
 1287              		.loc 1 125 31 is_stmt 0 view .LVU231
 1288 0188 0832     		adds	r2, r2, #8
 1289 018a 9446     		mov	ip, r2
 1290 018c 6344     		add	r3, r3, ip
 1291 018e 1860     		str	r0, [r3]
 1292 0190 5960     		str	r1, [r3, #4]
 126:Src/PID.c     ****             State.PD2_Slope = prevPhase2 < Phase2 ? 1 : -1;
 1293              		.loc 1 126 13 is_stmt 1 view .LVU232
 126:Src/PID.c     ****             State.PD2_Slope = prevPhase2 < Phase2 ? 1 : -1;
 1294              		.loc 1 126 29 is_stmt 0 view .LVU233
 1295 0192 009B     		ldr	r3, [sp]
 1296 0194 019C     		ldr	r4, [sp, #4]
 1297 0196 5445     		cmp	r4, r10
 1298 0198 05D8     		bhi	.L51
 1299              	.LVL115:
 126:Src/PID.c     ****             State.PD2_Slope = prevPhase2 < Phase2 ? 1 : -1;
 1300              		.loc 1 126 29 view .LVU234
 1301 019a 00D0     		beq	.LCB1054
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 28


 1302 019c 63E7     		b	.L48	@long jump
 1303              	.LCB1054:
 1304 019e 049A     		ldr	r2, [sp, #16]
 1305 01a0 9342     		cmp	r3, r2
 1306 01a2 00D8     		bhi	.LCB1057
 1307 01a4 5FE7     		b	.L48	@long jump
 1308              	.LCB1057:
 1309              	.L51:
 1310 01a6 0120     		movs	r0, #1
 1311              	.LVL116:
 1312              	.L43:
 126:Src/PID.c     ****             State.PD2_Slope = prevPhase2 < Phase2 ? 1 : -1;
 1313              		.loc 1 126 29 discriminator 4 view .LVU235
 1314 01a8 394A     		ldr	r2, .L54+12
 1315 01aa 404B     		ldr	r3, .L54+40
 1316 01ac D054     		strb	r0, [r2, r3]
 127:Src/PID.c     ****             State.PD1_PD2_SetPoint = State.PD1_Slope * Phase1 + State.PD2_Slope * Phase2;
 1317              		.loc 1 127 13 is_stmt 1 discriminator 4 view .LVU236
 127:Src/PID.c     ****             State.PD1_PD2_SetPoint = State.PD1_Slope * Phase1 + State.PD2_Slope * Phase2;
 1318              		.loc 1 127 29 is_stmt 0 discriminator 4 view .LVU237
 1319 01ae 5F45     		cmp	r7, fp
 1320 01b0 00D9     		bls	.LCB1068
 1321 01b2 5BE7     		b	.L52	@long jump
 1322              	.LCB1068:
 1323 01b4 03D1     		bne	.L49
 1324 01b6 059B     		ldr	r3, [sp, #20]
 1325 01b8 9E42     		cmp	r6, r3
 1326 01ba 00D9     		bls	.LCB1073
 1327 01bc 56E7     		b	.L52	@long jump
 1328              	.LCB1073:
 1329              	.L49:
 127:Src/PID.c     ****             State.PD1_PD2_SetPoint = State.PD1_Slope * Phase1 + State.PD2_Slope * Phase2;
 1330              		.loc 1 127 29 view .LVU238
 1331 01be 0123     		movs	r3, #1
 1332 01c0 5B42     		rsbs	r3, r3, #0
 1333 01c2 9A46     		mov	r10, r3
 1334              	.LVL117:
 127:Src/PID.c     ****             State.PD1_PD2_SetPoint = State.PD1_Slope * Phase1 + State.PD2_Slope * Phase2;
 1335              		.loc 1 127 29 view .LVU239
 1336 01c4 54E7     		b	.L45
 1337              	.LVL118:
 1338              	.L53:
 127:Src/PID.c     ****             State.PD1_PD2_SetPoint = State.PD1_Slope * Phase1 + State.PD2_Slope * Phase2;
 1339              		.loc 1 127 29 view .LVU240
 1340              	.LBE16:
 1341              	.LBE17:
 1342              	.LBB18:
 132:Src/PID.c     ****     }
 133:Src/PID.c     ****     SERIAL_WRITE("\b\b\bPD1+PD2 SETPOINT: %li\n", State.PD1_PD2_SetPoint);
 1343              		.loc 1 133 5 is_stmt 1 view .LVU241
 1344 01c6 0027     		movs	r7, #0
 1345 01c8 0797     		str	r7, [sp, #28]
 1346 01ca 6022     		movs	r2, #96
 1347 01cc 0021     		movs	r1, #0
 1348 01ce 08A8     		add	r0, sp, #32
 1349 01d0 FFF7FEFF 		bl	memset
 1350              	.LVL119:
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 29


 1351              		.loc 1 133 5 view .LVU242
 1352 01d4 2E4C     		ldr	r4, .L54+12
 1353 01d6 9B23     		movs	r3, #155
 1354 01d8 DB00     		lsls	r3, r3, #3
 1355 01da E318     		adds	r3, r4, r3
 1356 01dc 1A68     		ldr	r2, [r3]
 1357 01de 5B68     		ldr	r3, [r3, #4]
 1358 01e0 3349     		ldr	r1, .L54+44
 1359 01e2 07A8     		add	r0, sp, #28
 1360 01e4 FFF7FEFF 		bl	sprintf
 1361              	.LVL120:
 1362              		.loc 1 133 5 view .LVU243
 1363 01e8 FA26     		movs	r6, #250
 1364 01ea B600     		lsls	r6, r6, #2
 1365 01ec 82B2     		uxth	r2, r0
 1366 01ee 264D     		ldr	r5, .L54+4
 1367 01f0 3300     		movs	r3, r6
 1368 01f2 07A9     		add	r1, sp, #28
 1369 01f4 2800     		movs	r0, r5
 1370              	.LVL121:
 1371              		.loc 1 133 5 is_stmt 0 view .LVU244
 1372 01f6 FFF7FEFF 		bl	HAL_UART_Transmit
 1373              	.LVL122:
 1374              	.LBE18:
 1375              		.loc 1 133 74 is_stmt 1 view .LVU245
 1376              	.LBB19:
 134:Src/PID.c     ****     SERIAL_WRITE("[CALIBRATION] PD1 SLOPE: %i\n", State.PD1_Slope);
 1377              		.loc 1 134 5 view .LVU246
 1378 01fa 0797     		str	r7, [sp, #28]
 1379 01fc 6022     		movs	r2, #96
 1380 01fe 0021     		movs	r1, #0
 1381 0200 08A8     		add	r0, sp, #32
 1382 0202 FFF7FEFF 		bl	memset
 1383              	.LVL123:
 1384              		.loc 1 134 5 view .LVU247
 1385 0206 294B     		ldr	r3, .L54+40
 1386 0208 E256     		ldrsb	r2, [r4, r3]
 1387 020a 2A49     		ldr	r1, .L54+48
 1388 020c 07A8     		add	r0, sp, #28
 1389 020e FFF7FEFF 		bl	sprintf
 1390              	.LVL124:
 1391              		.loc 1 134 5 view .LVU248
 1392 0212 82B2     		uxth	r2, r0
 1393 0214 3300     		movs	r3, r6
 1394 0216 07A9     		add	r1, sp, #28
 1395 0218 2800     		movs	r0, r5
 1396              	.LVL125:
 1397              		.loc 1 134 5 is_stmt 0 view .LVU249
 1398 021a FFF7FEFF 		bl	HAL_UART_Transmit
 1399              	.LVL126:
 1400              	.LBE19:
 1401              		.loc 1 134 67 is_stmt 1 view .LVU250
 1402              	.LBB20:
 135:Src/PID.c     ****     SERIAL_WRITE("[CALIBRATION] PD2 SLOPE: %i\n", State.PD2_Slope);
 1403              		.loc 1 135 5 view .LVU251
 1404 021e 0797     		str	r7, [sp, #28]
 1405 0220 6022     		movs	r2, #96
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 30


 1406 0222 0021     		movs	r1, #0
 1407 0224 08A8     		add	r0, sp, #32
 1408 0226 FFF7FEFF 		bl	memset
 1409              	.LVL127:
 1410              		.loc 1 135 5 view .LVU252
 1411 022a 1B4B     		ldr	r3, .L54+20
 1412 022c E256     		ldrsb	r2, [r4, r3]
 1413 022e 2249     		ldr	r1, .L54+52
 1414 0230 07A8     		add	r0, sp, #28
 1415 0232 FFF7FEFF 		bl	sprintf
 1416              	.LVL128:
 1417              		.loc 1 135 5 view .LVU253
 1418 0236 82B2     		uxth	r2, r0
 1419 0238 3300     		movs	r3, r6
 1420 023a 07A9     		add	r1, sp, #28
 1421 023c 2800     		movs	r0, r5
 1422              	.LVL129:
 1423              		.loc 1 135 5 is_stmt 0 view .LVU254
 1424 023e FFF7FEFF 		bl	HAL_UART_Transmit
 1425              	.LVL130:
 1426              	.LBE20:
 1427              		.loc 1 135 67 is_stmt 1 view .LVU255
 1428              	.LBB21:
 136:Src/PID.c     ****     SERIAL_WRITE("[CALIBRATION] PS704 OFFSET: %u\n", State.PD1_PD2_Offset);
 1429              		.loc 1 136 5 view .LVU256
 1430 0242 0797     		str	r7, [sp, #28]
 1431 0244 6022     		movs	r2, #96
 1432 0246 0021     		movs	r1, #0
 1433 0248 08A8     		add	r0, sp, #32
 1434 024a FFF7FEFF 		bl	memset
 1435              	.LVL131:
 1436              		.loc 1 136 5 view .LVU257
 1437 024e 9C27     		movs	r7, #156
 1438 0250 FF00     		lsls	r7, r7, #3
 1439 0252 E259     		ldr	r2, [r4, r7]
 1440 0254 1949     		ldr	r1, .L54+56
 1441 0256 07A8     		add	r0, sp, #28
 1442 0258 FFF7FEFF 		bl	sprintf
 1443              	.LVL132:
 1444              		.loc 1 136 5 view .LVU258
 1445 025c 82B2     		uxth	r2, r0
 1446 025e 3300     		movs	r3, r6
 1447 0260 07A9     		add	r1, sp, #28
 1448 0262 2800     		movs	r0, r5
 1449              	.LVL133:
 1450              		.loc 1 136 5 is_stmt 0 view .LVU259
 1451 0264 FFF7FEFF 		bl	HAL_UART_Transmit
 1452              	.LVL134:
 1453              	.LBE21:
 1454              		.loc 1 136 75 is_stmt 1 view .LVU260
 137:Src/PID.c     ****     DAC_cmd(RF_PS_704_OFFSET + DAC_WRITE + State.PD1_PD2_Offset);
 1455              		.loc 1 137 5 view .LVU261
 1456              		.loc 1 137 49 is_stmt 0 view .LVU262
 1457 0268 E059     		ldr	r0, [r4, r7]
 1458              		.loc 1 137 5 view .LVU263
 1459 026a B023     		movs	r3, #176
 1460 026c 5B03     		lsls	r3, r3, #13
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 31


 1461 026e 9C46     		mov	ip, r3
 1462 0270 6044     		add	r0, r0, ip
 1463 0272 FFF7FEFF 		bl	DAC_cmd
 1464              	.LVL135:
 138:Src/PID.c     **** }
 1465              		.loc 1 138 1 view .LVU264
 1466 0276 21B0     		add	sp, sp, #132
 1467              		@ sp needed
 1468              	.LVL136:
 1469              	.LVL137:
 1470              	.LVL138:
 1471              		.loc 1 138 1 view .LVU265
 1472 0278 3CBC     		pop	{r2, r3, r4, r5}
 1473 027a 9046     		mov	r8, r2
 1474 027c 9946     		mov	r9, r3
 1475 027e A246     		mov	r10, r4
 1476 0280 AB46     		mov	fp, r5
 1477 0282 F0BD     		pop	{r4, r5, r6, r7, pc}
 1478              	.L55:
 1479              		.align	2
 1480              	.L54:
 1481 0284 00000000 		.word	.LC4
 1482 0288 00000000 		.word	huart2
 1483 028c FF7F1700 		.word	1540095
 1484 0290 00000000 		.word	State
 1485 0294 006298C5 		.word	-979869184
 1486 0298 D3040000 		.word	1235
 1487 029c FEFF0000 		.word	65534
 1488 02a0 40771B00 		.word	1800000
 1489 02a4 FFFFFF00 		.word	16777215
 1490 02a8 905F0100 		.word	90000
 1491 02ac D2040000 		.word	1234
 1492 02b0 00000000 		.word	.LC21
 1493 02b4 1C000000 		.word	.LC23
 1494 02b8 3C000000 		.word	.LC25
 1495 02bc 5C000000 		.word	.LC27
 1496              		.cfi_endproc
 1497              	.LFE292:
 1499              		.section	.rodata.POWER_Calib352.str1.4,"aMS",%progbits,1
 1500              		.align	2
 1501              	.LC34:
 1502 0000 08080850 		.ascii	"\010\010\010POWER 352 SETPOINT: 0x%06x\012\000"
 1502      4F574552 
 1502      20333532 
 1502      20534554 
 1502      504F494E 
 1503              		.section	.text.POWER_Calib352,"ax",%progbits
 1504              		.align	1
 1505              		.global	POWER_Calib352
 1506              		.syntax unified
 1507              		.code	16
 1508              		.thumb_func
 1509              		.fpu softvfp
 1511              	POWER_Calib352:
 1512              	.LFB293:
 139:Src/PID.c     **** 
 140:Src/PID.c     **** //Determines optimal setpoints of attenuators.
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 32


 141:Src/PID.c     **** void POWER_Calib352()
 142:Src/PID.c     **** {
 1513              		.loc 1 142 1 is_stmt 1 view -0
 1514              		.cfi_startproc
 1515              		@ args = 0, pretend = 0, frame = 104
 1516              		@ frame_needed = 0, uses_anonymous_args = 0
 1517 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1518              	.LCFI14:
 1519              		.cfi_def_cfa_offset 20
 1520              		.cfi_offset 4, -20
 1521              		.cfi_offset 5, -16
 1522              		.cfi_offset 6, -12
 1523              		.cfi_offset 7, -8
 1524              		.cfi_offset 14, -4
 1525 0002 9BB0     		sub	sp, sp, #108
 1526              	.LCFI15:
 1527              		.cfi_def_cfa_offset 128
 1528              	.LBB22:
 143:Src/PID.c     ****     SERIAL_WRITE("[CALIBRATION] ...")
 1529              		.loc 1 143 5 view .LVU267
 1530 0004 01AC     		add	r4, sp, #4
 1531 0006 6022     		movs	r2, #96
 1532 0008 0021     		movs	r1, #0
 1533 000a 02A8     		add	r0, sp, #8
 1534 000c FFF7FEFF 		bl	memset
 1535              	.LVL139:
 1536              		.loc 1 143 5 view .LVU268
 1537 0010 184B     		ldr	r3, .L57
 1538 0012 2200     		movs	r2, r4
 1539 0014 23CB     		ldmia	r3!, {r0, r1, r5}
 1540 0016 23C2     		stmia	r2!, {r0, r1, r5}
 1541 0018 1968     		ldr	r1, [r3]
 1542 001a 1160     		str	r1, [r2]
 1543 001c 9B88     		ldrh	r3, [r3, #4]
 1544 001e 9380     		strh	r3, [r2, #4]
 1545              	.LVL140:
 1546              		.loc 1 143 5 view .LVU269
 1547 0020 FA26     		movs	r6, #250
 1548 0022 B600     		lsls	r6, r6, #2
 1549 0024 144D     		ldr	r5, .L57+4
 1550 0026 3300     		movs	r3, r6
 1551 0028 1122     		movs	r2, #17
 1552 002a 2100     		movs	r1, r4
 1553 002c 2800     		movs	r0, r5
 1554 002e FFF7FEFF 		bl	HAL_UART_Transmit
 1555              	.LVL141:
 1556              	.LBE22:
 144:Src/PID.c     ****     DAC_cmd(RF_ATT_352_FINE + DAC_WRITE + 0x7fff);
 1557              		.loc 1 144 5 view .LVU270
 1558 0032 1248     		ldr	r0, .L57+8
 1559 0034 FFF7FEFF 		bl	DAC_cmd
 1560              	.LVL142:
 145:Src/PID.c     ****     DAC_cmd(RF_ATT_352_OFFSET + DAC_WRITE + 0x7fff);
 1561              		.loc 1 145 5 view .LVU271
 1562 0038 1148     		ldr	r0, .L57+12
 1563 003a FFF7FEFF 		bl	DAC_cmd
 1564              	.LVL143:
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 33


 146:Src/PID.c     ****     HAL_Delay(100);
 1565              		.loc 1 146 5 view .LVU272
 1566 003e 6420     		movs	r0, #100
 1567 0040 FFF7FEFF 		bl	HAL_Delay
 1568              	.LVL144:
 147:Src/PID.c     ****     State.POWER_PID_352_SetPoint = State.ADC_Values[RF_POWER_AMP352];
 1569              		.loc 1 147 5 view .LVU273
 1570              		.loc 1 147 52 is_stmt 0 view .LVU274
 1571 0044 0F4B     		ldr	r3, .L57+16
 1572 0046 5F6F     		ldr	r7, [r3, #116]
 1573              		.loc 1 147 34 view .LVU275
 1574 0048 0F4A     		ldr	r2, .L57+20
 1575 004a 9F50     		str	r7, [r3, r2]
 1576              	.LBB23:
 148:Src/PID.c     ****     SERIAL_WRITE("\b\b\bPOWER 352 SETPOINT: 0x%06x\n", State.POWER_PID_352_SetPoint);
 1577              		.loc 1 148 5 is_stmt 1 view .LVU276
 1578 004c 0023     		movs	r3, #0
 1579 004e 0193     		str	r3, [sp, #4]
 1580 0050 6022     		movs	r2, #96
 1581 0052 0021     		movs	r1, #0
 1582 0054 02A8     		add	r0, sp, #8
 1583 0056 FFF7FEFF 		bl	memset
 1584              	.LVL145:
 1585              		.loc 1 148 5 view .LVU277
 1586 005a 3A00     		movs	r2, r7
 1587 005c 0B49     		ldr	r1, .L57+24
 1588 005e 2000     		movs	r0, r4
 1589 0060 FFF7FEFF 		bl	sprintf
 1590              	.LVL146:
 1591              		.loc 1 148 5 view .LVU278
 1592 0064 82B2     		uxth	r2, r0
 1593 0066 3300     		movs	r3, r6
 1594 0068 2100     		movs	r1, r4
 1595 006a 2800     		movs	r0, r5
 1596              	.LVL147:
 1597              		.loc 1 148 5 is_stmt 0 view .LVU279
 1598 006c FFF7FEFF 		bl	HAL_UART_Transmit
 1599              	.LVL148:
 1600              	.LBE23:
 1601              		.loc 1 148 85 is_stmt 1 view .LVU280
 149:Src/PID.c     **** }
 1602              		.loc 1 149 1 is_stmt 0 view .LVU281
 1603 0070 1BB0     		add	sp, sp, #108
 1604              		@ sp needed
 1605 0072 F0BD     		pop	{r4, r5, r6, r7, pc}
 1606              	.L58:
 1607              		.align	2
 1608              	.L57:
 1609 0074 00000000 		.word	.LC4
 1610 0078 00000000 		.word	huart2
 1611 007c FF7F1200 		.word	1212415
 1612 0080 FF7F1300 		.word	1277951
 1613 0084 00000000 		.word	State
 1614 0088 6C050000 		.word	1388
 1615 008c 00000000 		.word	.LC34
 1616              		.cfi_endproc
 1617              	.LFE293:
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 34


 1619              		.section	.rodata.POWER_Calib704.str1.4,"aMS",%progbits,1
 1620              		.align	2
 1621              	.LC39:
 1622 0000 08080850 		.ascii	"\010\010\010POWER 704 SETPOINT: 0x%06x\012\000"
 1622      4F574552 
 1622      20373034 
 1622      20534554 
 1622      504F494E 
 1623              		.section	.text.POWER_Calib704,"ax",%progbits
 1624              		.align	1
 1625              		.global	POWER_Calib704
 1626              		.syntax unified
 1627              		.code	16
 1628              		.thumb_func
 1629              		.fpu softvfp
 1631              	POWER_Calib704:
 1632              	.LFB294:
 150:Src/PID.c     **** //Determines optimal setpoints of attenuators.
 151:Src/PID.c     **** void POWER_Calib704()
 152:Src/PID.c     **** {
 1633              		.loc 1 152 1 is_stmt 1 view -0
 1634              		.cfi_startproc
 1635              		@ args = 0, pretend = 0, frame = 104
 1636              		@ frame_needed = 0, uses_anonymous_args = 0
 1637 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1638              	.LCFI16:
 1639              		.cfi_def_cfa_offset 20
 1640              		.cfi_offset 4, -20
 1641              		.cfi_offset 5, -16
 1642              		.cfi_offset 6, -12
 1643              		.cfi_offset 7, -8
 1644              		.cfi_offset 14, -4
 1645 0002 9BB0     		sub	sp, sp, #108
 1646              	.LCFI17:
 1647              		.cfi_def_cfa_offset 128
 1648              	.LBB24:
 153:Src/PID.c     ****     SERIAL_WRITE("[CALIBRATION] ...")
 1649              		.loc 1 153 5 view .LVU283
 1650 0004 01AC     		add	r4, sp, #4
 1651 0006 6022     		movs	r2, #96
 1652 0008 0021     		movs	r1, #0
 1653 000a 02A8     		add	r0, sp, #8
 1654 000c FFF7FEFF 		bl	memset
 1655              	.LVL149:
 1656              		.loc 1 153 5 view .LVU284
 1657 0010 194B     		ldr	r3, .L60
 1658 0012 2200     		movs	r2, r4
 1659 0014 23CB     		ldmia	r3!, {r0, r1, r5}
 1660 0016 23C2     		stmia	r2!, {r0, r1, r5}
 1661 0018 1968     		ldr	r1, [r3]
 1662 001a 1160     		str	r1, [r2]
 1663 001c 9B88     		ldrh	r3, [r3, #4]
 1664 001e 9380     		strh	r3, [r2, #4]
 1665              	.LVL150:
 1666              		.loc 1 153 5 view .LVU285
 1667 0020 FA26     		movs	r6, #250
 1668 0022 B600     		lsls	r6, r6, #2
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 35


 1669 0024 154D     		ldr	r5, .L60+4
 1670 0026 3300     		movs	r3, r6
 1671 0028 1122     		movs	r2, #17
 1672 002a 2100     		movs	r1, r4
 1673 002c 2800     		movs	r0, r5
 1674 002e FFF7FEFF 		bl	HAL_UART_Transmit
 1675              	.LVL151:
 1676              	.LBE24:
 154:Src/PID.c     ****     DAC_cmd(RF_ATT_704_FINE + DAC_WRITE + 0x7fff);
 1677              		.loc 1 154 5 view .LVU286
 1678 0032 1348     		ldr	r0, .L60+8
 1679 0034 FFF7FEFF 		bl	DAC_cmd
 1680              	.LVL152:
 155:Src/PID.c     ****     DAC_cmd(RF_ATT_704_OFFSET + DAC_WRITE + 0x7fff);
 1681              		.loc 1 155 5 view .LVU287
 1682 0038 1248     		ldr	r0, .L60+12
 1683 003a FFF7FEFF 		bl	DAC_cmd
 1684              	.LVL153:
 156:Src/PID.c     ****     HAL_Delay(100);
 1685              		.loc 1 156 5 view .LVU288
 1686 003e 6420     		movs	r0, #100
 1687 0040 FFF7FEFF 		bl	HAL_Delay
 1688              	.LVL154:
 157:Src/PID.c     ****     State.POWER_PID_704_SetPoint = State.ADC_Values[RF_POWER_AMP704];
 1689              		.loc 1 157 5 view .LVU289
 1690              		.loc 1 157 52 is_stmt 0 view .LVU290
 1691 0044 104B     		ldr	r3, .L60+16
 1692 0046 9F6F     		ldr	r7, [r3, #120]
 1693              		.loc 1 157 34 view .LVU291
 1694 0048 AE22     		movs	r2, #174
 1695 004a D200     		lsls	r2, r2, #3
 1696 004c 9F50     		str	r7, [r3, r2]
 1697              	.LBB25:
 158:Src/PID.c     ****     SERIAL_WRITE("\b\b\bPOWER 704 SETPOINT: 0x%06x\n", State.POWER_PID_704_SetPoint);
 1698              		.loc 1 158 5 is_stmt 1 view .LVU292
 1699 004e 0023     		movs	r3, #0
 1700 0050 0193     		str	r3, [sp, #4]
 1701 0052 6022     		movs	r2, #96
 1702 0054 0021     		movs	r1, #0
 1703 0056 02A8     		add	r0, sp, #8
 1704 0058 FFF7FEFF 		bl	memset
 1705              	.LVL155:
 1706              		.loc 1 158 5 view .LVU293
 1707 005c 3A00     		movs	r2, r7
 1708 005e 0B49     		ldr	r1, .L60+20
 1709 0060 2000     		movs	r0, r4
 1710 0062 FFF7FEFF 		bl	sprintf
 1711              	.LVL156:
 1712              		.loc 1 158 5 view .LVU294
 1713 0066 82B2     		uxth	r2, r0
 1714 0068 3300     		movs	r3, r6
 1715 006a 2100     		movs	r1, r4
 1716 006c 2800     		movs	r0, r5
 1717              	.LVL157:
 1718              		.loc 1 158 5 is_stmt 0 view .LVU295
 1719 006e FFF7FEFF 		bl	HAL_UART_Transmit
 1720              	.LVL158:
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 36


 1721              	.LBE25:
 1722              		.loc 1 158 85 is_stmt 1 view .LVU296
 159:Src/PID.c     **** }
 1723              		.loc 1 159 1 is_stmt 0 view .LVU297
 1724 0072 1BB0     		add	sp, sp, #108
 1725              		@ sp needed
 1726 0074 F0BD     		pop	{r4, r5, r6, r7, pc}
 1727              	.L61:
 1728 0076 C046     		.align	2
 1729              	.L60:
 1730 0078 00000000 		.word	.LC4
 1731 007c 00000000 		.word	huart2
 1732 0080 FF7F1100 		.word	1146879
 1733 0084 FF7F1000 		.word	1081343
 1734 0088 00000000 		.word	State
 1735 008c 00000000 		.word	.LC39
 1736              		.cfi_endproc
 1737              	.LFE294:
 1739              		.section	.rodata.Calib.str1.4,"aMS",%progbits,1
 1740              		.align	2
 1741              	.LC41:
 1742 0000 1B5B303B 		.ascii	"\033[0;33m\000"
 1742      33336D00 
 1743              		.align	2
 1744              	.LC44:
 1745 0008 1B5B306D 		.ascii	"\033[0m\000"
 1745      00
 1746              		.section	.text.Calib,"ax",%progbits
 1747              		.align	1
 1748              		.global	Calib
 1749              		.syntax unified
 1750              		.code	16
 1751              		.thumb_func
 1752              		.fpu softvfp
 1754              	Calib:
 1755              	.LFB295:
 160:Src/PID.c     **** //Determines optimal setpoints of Phase shifters, detectors slopes, attenuators.
 161:Src/PID.c     **** void Calib()
 162:Src/PID.c     **** {
 1756              		.loc 1 162 1 is_stmt 1 view -0
 1757              		.cfi_startproc
 1758              		@ args = 0, pretend = 0, frame = 104
 1759              		@ frame_needed = 0, uses_anonymous_args = 0
 1760 0000 70B5     		push	{r4, r5, r6, lr}
 1761              	.LCFI18:
 1762              		.cfi_def_cfa_offset 16
 1763              		.cfi_offset 4, -16
 1764              		.cfi_offset 5, -12
 1765              		.cfi_offset 6, -8
 1766              		.cfi_offset 14, -4
 1767 0002 9AB0     		sub	sp, sp, #104
 1768              	.LCFI19:
 1769              		.cfi_def_cfa_offset 120
 1770              	.LBB26:
 163:Src/PID.c     ****     SERIAL_WRITE(SERIAL_YELLOW);
 1771              		.loc 1 163 5 view .LVU299
 1772 0004 01AC     		add	r4, sp, #4
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 37


 1773 0006 6022     		movs	r2, #96
 1774 0008 0021     		movs	r1, #0
 1775 000a 02A8     		add	r0, sp, #8
 1776 000c FFF7FEFF 		bl	memset
 1777              	.LVL159:
 1778              		.loc 1 163 5 view .LVU300
 1779 0010 134B     		ldr	r3, .L63
 1780 0012 2200     		movs	r2, r4
 1781 0014 03CB     		ldmia	r3!, {r0, r1}
 1782 0016 03C2     		stmia	r2!, {r0, r1}
 1783              	.LVL160:
 1784              		.loc 1 163 5 view .LVU301
 1785 0018 FA26     		movs	r6, #250
 1786 001a B600     		lsls	r6, r6, #2
 1787 001c 114D     		ldr	r5, .L63+4
 1788 001e 3300     		movs	r3, r6
 1789 0020 0722     		movs	r2, #7
 1790 0022 2100     		movs	r1, r4
 1791 0024 2800     		movs	r0, r5
 1792 0026 FFF7FEFF 		bl	HAL_UART_Transmit
 1793              	.LVL161:
 1794              	.LBE26:
 1795              		.loc 1 163 32 view .LVU302
 164:Src/PID.c     ****     Calib352();
 1796              		.loc 1 164 5 view .LVU303
 1797 002a FFF7FEFF 		bl	Calib352
 1798              	.LVL162:
 165:Src/PID.c     ****     Calib704();
 1799              		.loc 1 165 5 view .LVU304
 1800 002e FFF7FEFF 		bl	Calib704
 1801              	.LVL163:
 166:Src/PID.c     ****     POWER_Calib352();
 1802              		.loc 1 166 5 view .LVU305
 1803 0032 FFF7FEFF 		bl	POWER_Calib352
 1804              	.LVL164:
 167:Src/PID.c     ****     POWER_Calib704();
 1805              		.loc 1 167 5 view .LVU306
 1806 0036 FFF7FEFF 		bl	POWER_Calib704
 1807              	.LVL165:
 1808              	.LBB27:
 168:Src/PID.c     ****     SERIAL_WRITE(SERIAL_COLOR_RESET);
 1809              		.loc 1 168 5 view .LVU307
 1810 003a 6022     		movs	r2, #96
 1811 003c 0021     		movs	r1, #0
 1812 003e 02A8     		add	r0, sp, #8
 1813 0040 FFF7FEFF 		bl	memset
 1814              	.LVL166:
 1815              		.loc 1 168 5 view .LVU308
 1816 0044 084B     		ldr	r3, .L63+8
 1817 0046 1A68     		ldr	r2, [r3]
 1818 0048 0192     		str	r2, [sp, #4]
 1819 004a 1B79     		ldrb	r3, [r3, #4]
 1820 004c 2371     		strb	r3, [r4, #4]
 1821              	.LVL167:
 1822              		.loc 1 168 5 view .LVU309
 1823 004e 3300     		movs	r3, r6
 1824 0050 0422     		movs	r2, #4
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 38


 1825 0052 2100     		movs	r1, r4
 1826 0054 2800     		movs	r0, r5
 1827 0056 FFF7FEFF 		bl	HAL_UART_Transmit
 1828              	.LVL168:
 1829              	.LBE27:
 1830              		.loc 1 168 37 view .LVU310
 169:Src/PID.c     **** }
 1831              		.loc 1 169 1 is_stmt 0 view .LVU311
 1832 005a 1AB0     		add	sp, sp, #104
 1833              		@ sp needed
 1834 005c 70BD     		pop	{r4, r5, r6, pc}
 1835              	.L64:
 1836 005e C046     		.align	2
 1837              	.L63:
 1838 0060 00000000 		.word	.LC41
 1839 0064 00000000 		.word	huart2
 1840 0068 08000000 		.word	.LC44
 1841              		.cfi_endproc
 1842              	.LFE295:
 1844              		.section	.text.PID_Init,"ax",%progbits
 1845              		.align	1
 1846              		.global	PID_Init
 1847              		.syntax unified
 1848              		.code	16
 1849              		.thumb_func
 1850              		.fpu softvfp
 1852              	PID_Init:
 1853              	.LFB296:
 170:Src/PID.c     **** 
 171:Src/PID.c     **** void PID_Init()
 172:Src/PID.c     **** {
 1854              		.loc 1 172 1 is_stmt 1 view -0
 1855              		.cfi_startproc
 1856              		@ args = 0, pretend = 0, frame = 0
 1857              		@ frame_needed = 0, uses_anonymous_args = 0
 1858 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1859              	.LCFI20:
 1860              		.cfi_def_cfa_offset 20
 1861              		.cfi_offset 4, -20
 1862              		.cfi_offset 5, -16
 1863              		.cfi_offset 6, -12
 1864              		.cfi_offset 7, -8
 1865              		.cfi_offset 14, -4
 173:Src/PID.c     ****     State.PID_352_Output = 0x7fff;
 1866              		.loc 1 173 5 view .LVU313
 1867              		.loc 1 173 26 is_stmt 0 view .LVU314
 1868 0002 304E     		ldr	r6, .L66
 1869 0004 304F     		ldr	r7, .L66+4
 1870 0006 A123     		movs	r3, #161
 1871 0008 DB00     		lsls	r3, r3, #3
 1872 000a F750     		str	r7, [r6, r3]
 174:Src/PID.c     ****     State.PID_352_P = -1;
 1873              		.loc 1 174 5 is_stmt 1 view .LVU315
 1874              		.loc 1 174 21 is_stmt 0 view .LVU316
 1875 000c 0833     		adds	r3, r3, #8
 1876 000e F318     		adds	r3, r6, r3
 1877 0010 0120     		movs	r0, #1
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 39


 1878 0012 4042     		rsbs	r0, r0, #0
 1879 0014 C117     		asrs	r1, r0, #31
 1880 0016 1860     		str	r0, [r3]
 1881 0018 5960     		str	r1, [r3, #4]
 175:Src/PID.c     ****     State.PID_352_I = -1;
 1882              		.loc 1 175 5 is_stmt 1 view .LVU317
 1883              		.loc 1 175 21 is_stmt 0 view .LVU318
 1884 001a A323     		movs	r3, #163
 1885 001c DB00     		lsls	r3, r3, #3
 1886 001e F318     		adds	r3, r6, r3
 1887 0020 1860     		str	r0, [r3]
 1888 0022 5960     		str	r1, [r3, #4]
 176:Src/PID.c     ****     State.PID_352_T = 1000000;
 1889              		.loc 1 176 5 is_stmt 1 view .LVU319
 1890              		.loc 1 176 21 is_stmt 0 view .LVU320
 1891 0024 A423     		movs	r3, #164
 1892 0026 DB00     		lsls	r3, r3, #3
 1893 0028 F318     		adds	r3, r6, r3
 1894 002a 284C     		ldr	r4, .L66+8
 1895 002c 0025     		movs	r5, #0
 1896 002e 1C60     		str	r4, [r3]
 1897 0030 5D60     		str	r5, [r3, #4]
 177:Src/PID.c     ****     State.PID_352_P_error = 0;
 1898              		.loc 1 177 5 is_stmt 1 view .LVU321
 1899              		.loc 1 177 27 is_stmt 0 view .LVU322
 1900 0032 A523     		movs	r3, #165
 1901 0034 DB00     		lsls	r3, r3, #3
 1902 0036 9C46     		mov	ip, r3
 1903 0038 B444     		add	ip, ip, r6
 1904 003a 0022     		movs	r2, #0
 1905 003c 0023     		movs	r3, #0
 1906 003e 6446     		mov	r4, ip
 1907 0040 2260     		str	r2, [r4]
 1908 0042 6360     		str	r3, [r4, #4]
 178:Src/PID.c     ****     State.PID_352_I_error = 0;
 1909              		.loc 1 178 5 is_stmt 1 view .LVU323
 1910              		.loc 1 178 27 is_stmt 0 view .LVU324
 1911 0044 A624     		movs	r4, #166
 1912 0046 E400     		lsls	r4, r4, #3
 1913 0048 A446     		mov	ip, r4
 1914 004a B444     		add	ip, ip, r6
 1915 004c 6446     		mov	r4, ip
 1916 004e 2260     		str	r2, [r4]
 1917 0050 6360     		str	r3, [r4, #4]
 179:Src/PID.c     **** 
 180:Src/PID.c     ****     State.PID_704_Output = 0x7fff;
 1918              		.loc 1 180 5 is_stmt 1 view .LVU325
 1919              		.loc 1 180 26 is_stmt 0 view .LVU326
 1920 0052 1F4C     		ldr	r4, .L66+12
 1921 0054 3751     		str	r7, [r6, r4]
 181:Src/PID.c     ****     State.PID_704_P = -1;
 1922              		.loc 1 181 5 is_stmt 1 view .LVU327
 1923              		.loc 1 181 21 is_stmt 0 view .LVU328
 1924 0056 0434     		adds	r4, r4, #4
 1925 0058 A446     		mov	ip, r4
 1926 005a B444     		add	ip, ip, r6
 1927 005c 6446     		mov	r4, ip
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 40


 1928 005e 2060     		str	r0, [r4]
 1929 0060 6160     		str	r1, [r4, #4]
 182:Src/PID.c     ****     State.PID_704_I = -1;
 1930              		.loc 1 182 5 is_stmt 1 view .LVU329
 1931              		.loc 1 182 21 is_stmt 0 view .LVU330
 1932 0062 A924     		movs	r4, #169
 1933 0064 E400     		lsls	r4, r4, #3
 1934 0066 A446     		mov	ip, r4
 1935 0068 B444     		add	ip, ip, r6
 1936 006a 6446     		mov	r4, ip
 1937 006c 2060     		str	r0, [r4]
 1938 006e 6160     		str	r1, [r4, #4]
 183:Src/PID.c     ****     State.PID_704_T = 1000000;
 1939              		.loc 1 183 5 is_stmt 1 view .LVU331
 1940              		.loc 1 183 21 is_stmt 0 view .LVU332
 1941 0070 AA21     		movs	r1, #170
 1942 0072 C900     		lsls	r1, r1, #3
 1943 0074 7118     		adds	r1, r6, r1
 1944 0076 154C     		ldr	r4, .L66+8
 1945 0078 0025     		movs	r5, #0
 1946 007a 0C60     		str	r4, [r1]
 1947 007c 4D60     		str	r5, [r1, #4]
 184:Src/PID.c     ****     State.PID_704_P_error = 0;
 1948              		.loc 1 184 5 is_stmt 1 view .LVU333
 1949              		.loc 1 184 27 is_stmt 0 view .LVU334
 1950 007e AB21     		movs	r1, #171
 1951 0080 C900     		lsls	r1, r1, #3
 1952 0082 7118     		adds	r1, r6, r1
 1953 0084 0A60     		str	r2, [r1]
 1954 0086 4B60     		str	r3, [r1, #4]
 185:Src/PID.c     ****     State.PID_704_I_error = 0;
 1955              		.loc 1 185 5 is_stmt 1 view .LVU335
 1956              		.loc 1 185 27 is_stmt 0 view .LVU336
 1957 0088 AC21     		movs	r1, #172
 1958 008a C900     		lsls	r1, r1, #3
 1959 008c 7118     		adds	r1, r6, r1
 1960 008e 0A60     		str	r2, [r1]
 1961 0090 4B60     		str	r3, [r1, #4]
 186:Src/PID.c     **** 
 187:Src/PID.c     ****     State.POWER_PID_352_Output = 0x7fff;
 1962              		.loc 1 187 5 is_stmt 1 view .LVU337
 1963              		.loc 1 187 32 is_stmt 0 view .LVU338
 1964 0092 1049     		ldr	r1, .L66+16
 1965 0094 7750     		str	r7, [r6, r1]
 188:Src/PID.c     ****     State.POWER_PID_352_P_error = 0;
 1966              		.loc 1 188 5 is_stmt 1 view .LVU339
 1967              		.loc 1 188 33 is_stmt 0 view .LVU340
 1968 0096 1C31     		adds	r1, r1, #28
 1969 0098 7118     		adds	r1, r6, r1
 1970 009a 0A60     		str	r2, [r1]
 1971 009c 4B60     		str	r3, [r1, #4]
 189:Src/PID.c     ****     State.POWER_PID_352_I_error = 0;
 1972              		.loc 1 189 5 is_stmt 1 view .LVU341
 1973              		.loc 1 189 33 is_stmt 0 view .LVU342
 1974 009e B321     		movs	r1, #179
 1975 00a0 C900     		lsls	r1, r1, #3
 1976 00a2 7118     		adds	r1, r6, r1
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 41


 1977 00a4 0A60     		str	r2, [r1]
 1978 00a6 4B60     		str	r3, [r1, #4]
 190:Src/PID.c     **** 
 191:Src/PID.c     ****     State.POWER_PID_704_Output = 0x7fff;
 1979              		.loc 1 191 5 is_stmt 1 view .LVU343
 1980              		.loc 1 191 32 is_stmt 0 view .LVU344
 1981 00a8 0B49     		ldr	r1, .L66+20
 1982 00aa 7750     		str	r7, [r6, r1]
 192:Src/PID.c     ****     State.POWER_PID_704_P_error = 0;
 1983              		.loc 1 192 5 is_stmt 1 view .LVU345
 1984              		.loc 1 192 33 is_stmt 0 view .LVU346
 1985 00ac 2431     		adds	r1, r1, #36
 1986 00ae 7118     		adds	r1, r6, r1
 1987 00b0 0A60     		str	r2, [r1]
 1988 00b2 4B60     		str	r3, [r1, #4]
 193:Src/PID.c     ****     State.POWER_PID_704_I_error = 0;
 1989              		.loc 1 193 5 is_stmt 1 view .LVU347
 1990              		.loc 1 193 33 is_stmt 0 view .LVU348
 1991 00b4 BA21     		movs	r1, #186
 1992 00b6 C900     		lsls	r1, r1, #3
 1993 00b8 8C46     		mov	ip, r1
 1994 00ba 6644     		add	r6, r6, ip
 1995 00bc 3260     		str	r2, [r6]
 1996 00be 7360     		str	r3, [r6, #4]
 194:Src/PID.c     **** }
 1997              		.loc 1 194 1 view .LVU349
 1998              		@ sp needed
 1999 00c0 F0BD     		pop	{r4, r5, r6, r7, pc}
 2000              	.L67:
 2001 00c2 C046     		.align	2
 2002              	.L66:
 2003 00c4 00000000 		.word	State
 2004 00c8 FF7F0000 		.word	32767
 2005 00cc 40420F00 		.word	1000000
 2006 00d0 3C050000 		.word	1340
 2007 00d4 74050000 		.word	1396
 2008 00d8 A4050000 		.word	1444
 2009              		.cfi_endproc
 2010              	.LFE296:
 2012              		.section	.rodata.PID352.str1.4,"aMS",%progbits,1
 2013              		.align	2
 2014              	.LC62:
 2015 0000 1B5B303B 		.ascii	"\033[0;32m\000"
 2015      33326D00 
 2016              		.align	2
 2017              	.LC65:
 2018 0008 5B504944 		.ascii	"[PID_PHASE_352] LOCKED\012\000"
 2018      5F504841 
 2018      53455F33 
 2018      35325D20 
 2018      4C4F434B 
 2019              		.align	2
 2020              	.LC68:
 2021 0020 1B5B303B 		.ascii	"\033[0;31m\000"
 2021      33316D00 
 2022              		.align	2
 2023              	.LC70:
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 42


 2024 0028 5B504944 		.ascii	"[PID_PHASE_352] UNLOCKED!!!\012\000"
 2024      5F504841 
 2024      53455F33 
 2024      35325D20 
 2024      554E4C4F 
 2025              		.section	.text.PID352,"ax",%progbits
 2026              		.align	1
 2027              		.global	PID352
 2028              		.syntax unified
 2029              		.code	16
 2030              		.thumb_func
 2031              		.fpu softvfp
 2033              	PID352:
 2034              	.LFB297:
 195:Src/PID.c     **** void PID352()
 196:Src/PID.c     **** {
 2035              		.loc 1 196 1 is_stmt 1 view -0
 2036              		.cfi_startproc
 2037              		@ args = 0, pretend = 0, frame = 104
 2038              		@ frame_needed = 0, uses_anonymous_args = 0
 2039 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 2040              	.LCFI21:
 2041              		.cfi_def_cfa_offset 20
 2042              		.cfi_offset 4, -20
 2043              		.cfi_offset 5, -16
 2044              		.cfi_offset 6, -12
 2045              		.cfi_offset 7, -8
 2046              		.cfi_offset 14, -4
 2047 0002 DE46     		mov	lr, fp
 2048 0004 5746     		mov	r7, r10
 2049 0006 4E46     		mov	r6, r9
 2050 0008 4546     		mov	r5, r8
 2051 000a E0B5     		push	{r5, r6, r7, lr}
 2052              	.LCFI22:
 2053              		.cfi_def_cfa_offset 36
 2054              		.cfi_offset 8, -36
 2055              		.cfi_offset 9, -32
 2056              		.cfi_offset 10, -28
 2057              		.cfi_offset 11, -24
 2058 000c 9BB0     		sub	sp, sp, #108
 2059              	.LCFI23:
 2060              		.cfi_def_cfa_offset 144
 197:Src/PID.c     ****     int64_t prevErr = State.PID_352_P_error;
 2061              		.loc 1 197 5 view .LVU351
 2062              		.loc 1 197 13 is_stmt 0 view .LVU352
 2063 000e 974E     		ldr	r6, .L88
 2064 0010 A523     		movs	r3, #165
 2065 0012 DB00     		lsls	r3, r3, #3
 2066 0014 F718     		adds	r7, r6, r3
 2067 0016 3B68     		ldr	r3, [r7]
 2068 0018 9946     		mov	r9, r3
 2069 001a 7B68     		ldr	r3, [r7, #4]
 2070 001c 9846     		mov	r8, r3
 2071              	.LVL169:
 198:Src/PID.c     ****     State.PID_352_P_error = (State.PD3_Slope * Phase_u(ADC_PD3_Phase_CH)) + (State.PD4_Slope * Phas
 2072              		.loc 1 198 5 is_stmt 1 view .LVU353
 2073              		.loc 1 198 35 is_stmt 0 view .LVU354
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 43


 2074 001e 944B     		ldr	r3, .L88+4
 2075              	.LVL170:
 2076              		.loc 1 198 35 view .LVU355
 2077 0020 F456     		ldrsb	r4, [r6, r3]
 2078 0022 E517     		asrs	r5, r4, #31
 2079              		.loc 1 198 48 view .LVU356
 2080 0024 0E20     		movs	r0, #14
 2081 0026 FFF7FEFF 		bl	Phase_u
 2082              	.LVL171:
 2083 002a 0200     		movs	r2, r0
 2084 002c 0B00     		movs	r3, r1
 2085              		.loc 1 198 46 view .LVU357
 2086 002e 2000     		movs	r0, r4
 2087 0030 2900     		movs	r1, r5
 2088 0032 FFF7FEFF 		bl	__aeabi_lmul
 2089              	.LVL172:
 2090 0036 0400     		movs	r4, r0
 2091 0038 0D00     		movs	r5, r1
 2092              		.loc 1 198 83 view .LVU358
 2093 003a 8E4B     		ldr	r3, .L88+8
 2094 003c F356     		ldrsb	r3, [r6, r3]
 2095 003e 9A46     		mov	r10, r3
 2096 0040 DB17     		asrs	r3, r3, #31
 2097 0042 9B46     		mov	fp, r3
 2098              		.loc 1 198 96 view .LVU359
 2099 0044 0220     		movs	r0, #2
 2100 0046 FFF7FEFF 		bl	Phase_u
 2101              	.LVL173:
 2102 004a 0200     		movs	r2, r0
 2103 004c 0B00     		movs	r3, r1
 2104              		.loc 1 198 94 view .LVU360
 2105 004e 5046     		mov	r0, r10
 2106 0050 5946     		mov	r1, fp
 2107 0052 FFF7FEFF 		bl	__aeabi_lmul
 2108              	.LVL174:
 2109              		.loc 1 198 75 view .LVU361
 2110 0056 2418     		adds	r4, r4, r0
 2111 0058 4D41     		adcs	r5, r5, r1
 2112              		.loc 1 198 131 view .LVU362
 2113 005a 9E23     		movs	r3, #158
 2114 005c DB00     		lsls	r3, r3, #3
 2115 005e F318     		adds	r3, r6, r3
 2116 0060 1868     		ldr	r0, [r3]
 2117 0062 5968     		ldr	r1, [r3, #4]
 2118              		.loc 1 198 149 view .LVU363
 2119 0064 FA22     		movs	r2, #250
 2120 0066 9200     		lsls	r2, r2, #2
 2121 0068 0023     		movs	r3, #0
 2122 006a FFF7FEFF 		bl	__aeabi_lmul
 2123              	.LVL175:
 2124              		.loc 1 198 123 view .LVU364
 2125 006e 241A     		subs	r4, r4, r0
 2126 0070 8D41     		sbcs	r5, r5, r1
 2127              		.loc 1 198 27 view .LVU365
 2128 0072 3C60     		str	r4, [r7]
 2129 0074 7D60     		str	r5, [r7, #4]
 199:Src/PID.c     ****     State.PID_352_I_error = (State.PID_352_I_error + State.PID_352_P_error) / State.PID_352_T;
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 44


 2130              		.loc 1 199 5 is_stmt 1 view .LVU366
 2131              		.loc 1 199 35 is_stmt 0 view .LVU367
 2132 0076 A623     		movs	r3, #166
 2133 0078 DB00     		lsls	r3, r3, #3
 2134 007a F718     		adds	r7, r6, r3
 2135              		.loc 1 199 52 view .LVU368
 2136 007c 3868     		ldr	r0, [r7]
 2137 007e 7968     		ldr	r1, [r7, #4]
 2138 0080 0019     		adds	r0, r0, r4
 2139 0082 6941     		adcs	r1, r1, r5
 2140              		.loc 1 199 84 view .LVU369
 2141 0084 103B     		subs	r3, r3, #16
 2142 0086 F318     		adds	r3, r6, r3
 2143 0088 1A68     		ldr	r2, [r3]
 2144 008a 5B68     		ldr	r3, [r3, #4]
 2145              		.loc 1 199 77 view .LVU370
 2146 008c FFF7FEFF 		bl	__aeabi_ldivmod
 2147              	.LVL176:
 2148 0090 8246     		mov	r10, r0
 2149              		.loc 1 199 27 view .LVU371
 2150 0092 3860     		str	r0, [r7]
 2151 0094 7960     		str	r1, [r7, #4]
 200:Src/PID.c     ****     State.PID_352_Output = State.PID_352_Output + (State.PID_352_P * State.PID_352_P_error) / 1000 
 2152              		.loc 1 200 5 is_stmt 1 view .LVU372
 2153              		.loc 1 200 33 is_stmt 0 view .LVU373
 2154 0096 A127     		movs	r7, #161
 2155 0098 FF00     		lsls	r7, r7, #3
 2156 009a F359     		ldr	r3, [r6, r7]
 2157 009c 9B46     		mov	fp, r3
 2158              		.loc 1 200 57 view .LVU374
 2159 009e A223     		movs	r3, #162
 2160 00a0 DB00     		lsls	r3, r3, #3
 2161 00a2 F318     		adds	r3, r6, r3
 2162 00a4 1A68     		ldr	r2, [r3]
 2163 00a6 5B68     		ldr	r3, [r3, #4]
 2164              		.loc 1 200 68 view .LVU375
 2165 00a8 2000     		movs	r0, r4
 2166 00aa 2900     		movs	r1, r5
 2167 00ac FFF7FEFF 		bl	__aeabi_lmul
 2168              	.LVL177:
 2169              		.loc 1 200 93 view .LVU376
 2170 00b0 FA22     		movs	r2, #250
 2171 00b2 9200     		lsls	r2, r2, #2
 2172 00b4 0023     		movs	r3, #0
 2173 00b6 FFF7FEFF 		bl	__aeabi_ldivmod
 2174              	.LVL178:
 2175              		.loc 1 200 49 view .LVU377
 2176 00ba 0300     		movs	r3, r0
 2177 00bc 5B44     		add	r3, r3, fp
 2178              		.loc 1 200 108 view .LVU378
 2179 00be A322     		movs	r2, #163
 2180 00c0 D200     		lsls	r2, r2, #3
 2181 00c2 B218     		adds	r2, r6, r2
 2182 00c4 1068     		ldr	r0, [r2]
 2183              		.loc 1 200 100 view .LVU379
 2184 00c6 5246     		mov	r2, r10
 2185 00c8 5043     		muls	r0, r2
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 45


 2186 00ca C018     		adds	r0, r0, r3
 2187              		.loc 1 200 26 view .LVU380
 2188 00cc F051     		str	r0, [r6, r7]
 201:Src/PID.c     ****     if (State.PID_352_Output >= 0xffff)
 2189              		.loc 1 201 5 is_stmt 1 view .LVU381
 2190              		.loc 1 201 8 is_stmt 0 view .LVU382
 2191 00ce 6A4B     		ldr	r3, .L88+12
 2192 00d0 9842     		cmp	r0, r3
 2193 00d2 01D9     		bls	.L69
 202:Src/PID.c     ****     {
 203:Src/PID.c     ****         State.PID_352_Output = 0xffff;
 2194              		.loc 1 203 9 is_stmt 1 view .LVU383
 2195              		.loc 1 203 30 is_stmt 0 view .LVU384
 2196 00d4 6949     		ldr	r1, .L88+16
 2197 00d6 F151     		str	r1, [r6, r7]
 2198              	.L69:
 204:Src/PID.c     ****     }
 205:Src/PID.c     **** 
 206:Src/PID.c     ****     DAC_cmd(RF_PS_352_FINE + DAC_WRITE + State.PID_352_Output);
 2199              		.loc 1 206 5 is_stmt 1 view .LVU385
 2200              		.loc 1 206 47 is_stmt 0 view .LVU386
 2201 00d8 644C     		ldr	r4, .L88
 2202 00da A123     		movs	r3, #161
 2203 00dc DB00     		lsls	r3, r3, #3
 2204 00de E058     		ldr	r0, [r4, r3]
 2205              		.loc 1 206 5 view .LVU387
 2206 00e0 A823     		movs	r3, #168
 2207 00e2 5B03     		lsls	r3, r3, #13
 2208 00e4 9C46     		mov	ip, r3
 2209 00e6 6044     		add	r0, r0, ip
 2210 00e8 FFF7FEFF 		bl	DAC_cmd
 2211              	.LVL179:
 207:Src/PID.c     **** 
 208:Src/PID.c     ****     if (State.PID_352_P_error < 50000 && prevErr < 50000 && State.PID_352_LOCK == 1)
 2212              		.loc 1 208 5 is_stmt 1 view .LVU388
 2213              		.loc 1 208 14 is_stmt 0 view .LVU389
 2214 00ec A523     		movs	r3, #165
 2215 00ee DB00     		lsls	r3, r3, #3
 2216 00f0 9C46     		mov	ip, r3
 2217 00f2 6444     		add	r4, r4, ip
 2218 00f4 2268     		ldr	r2, [r4]
 2219 00f6 6368     		ldr	r3, [r4, #4]
 2220              		.loc 1 208 8 view .LVU390
 2221 00f8 002B     		cmp	r3, #0
 2222 00fa 10DC     		bgt	.L70
 2223 00fc 02D1     		bne	.L81
 2224 00fe 6049     		ldr	r1, .L88+20
 2225 0100 8A42     		cmp	r2, r1
 2226 0102 0CD8     		bhi	.L70
 2227              	.L81:
 2228              		.loc 1 208 39 discriminator 1 view .LVU391
 2229 0104 4146     		mov	r1, r8
 2230 0106 0029     		cmp	r1, #0
 2231 0108 09DC     		bgt	.L70
 2232              	.LVL180:
 2233              		.loc 1 208 39 discriminator 1 view .LVU392
 2234 010a 02D1     		bne	.L82
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 46


 2235 010c 5C49     		ldr	r1, .L88+20
 2236              	.LVL181:
 2237              		.loc 1 208 39 discriminator 1 view .LVU393
 2238 010e 8945     		cmp	r9, r1
 2239 0110 05D8     		bhi	.L70
 2240              	.L82:
 2241              		.loc 1 208 66 discriminator 2 view .LVU394
 2242 0112 5648     		ldr	r0, .L88
 2243 0114 A721     		movs	r1, #167
 2244 0116 C900     		lsls	r1, r1, #3
 2245 0118 4156     		ldrsb	r1, [r0, r1]
 2246              		.loc 1 208 58 discriminator 2 view .LVU395
 2247 011a 0129     		cmp	r1, #1
 2248 011c 2AD0     		beq	.L68
 2249              	.L70:
 209:Src/PID.c     ****     {
 210:Src/PID.c     ****         return;
 211:Src/PID.c     ****     }
 212:Src/PID.c     ****     else if (State.PID_352_P_error < 50000 && prevErr < 50000 && State.PID_352_LOCK == 0)
 2250              		.loc 1 212 10 is_stmt 1 view .LVU396
 2251              		.loc 1 212 13 is_stmt 0 view .LVU397
 2252 011e 002B     		cmp	r3, #0
 2253 0120 10DC     		bgt	.L74
 2254 0122 02D1     		bne	.L83
 2255 0124 5649     		ldr	r1, .L88+20
 2256 0126 8A42     		cmp	r2, r1
 2257 0128 0CD8     		bhi	.L74
 2258              	.L83:
 2259              		.loc 1 212 44 discriminator 1 view .LVU398
 2260 012a 4146     		mov	r1, r8
 2261 012c 0029     		cmp	r1, #0
 2262 012e 09DC     		bgt	.L74
 2263              	.LVL182:
 2264              		.loc 1 212 44 discriminator 1 view .LVU399
 2265 0130 02D1     		bne	.L84
 2266 0132 5349     		ldr	r1, .L88+20
 2267              	.LVL183:
 2268              		.loc 1 212 44 discriminator 1 view .LVU400
 2269 0134 8945     		cmp	r9, r1
 2270 0136 05D8     		bhi	.L74
 2271              	.L84:
 2272              		.loc 1 212 71 discriminator 2 view .LVU401
 2273 0138 4C48     		ldr	r0, .L88
 2274 013a A721     		movs	r1, #167
 2275 013c C900     		lsls	r1, r1, #3
 2276 013e 4156     		ldrsb	r1, [r0, r1]
 2277              		.loc 1 212 63 discriminator 2 view .LVU402
 2278 0140 0029     		cmp	r1, #0
 2279 0142 1ED0     		beq	.L86
 2280              	.L74:
 213:Src/PID.c     ****     {
 214:Src/PID.c     ****         State.PID_352_LOCK = 1;
 215:Src/PID.c     ****         SERIAL_WRITE_GREEN("[PID_PHASE_352] LOCKED\n");
 216:Src/PID.c     ****     }
 217:Src/PID.c     ****     else if ((State.PID_352_P_error >= 50000 || prevErr >= 50000) && State.PID_352_LOCK == 1)
 2281              		.loc 1 217 10 is_stmt 1 view .LVU403
 2282              		.loc 1 217 13 is_stmt 0 view .LVU404
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 47


 2283 0144 002B     		cmp	r3, #0
 2284 0146 0ADC     		bgt	.L77
 2285 0148 02D1     		bne	.L85
 2286 014a 4D4B     		ldr	r3, .L88+20
 2287 014c 9A42     		cmp	r2, r3
 2288 014e 06D8     		bhi	.L77
 2289              	.L85:
 2290              		.loc 1 217 46 discriminator 2 view .LVU405
 2291 0150 4346     		mov	r3, r8
 2292 0152 002B     		cmp	r3, #0
 2293 0154 03DC     		bgt	.L77
 2294              	.LVL184:
 2295              		.loc 1 217 46 discriminator 2 view .LVU406
 2296 0156 08D1     		bne	.L79
 2297 0158 494B     		ldr	r3, .L88+20
 2298              	.LVL185:
 2299              		.loc 1 217 46 discriminator 2 view .LVU407
 2300 015a 9945     		cmp	r9, r3
 2301 015c 05D9     		bls	.L79
 2302              	.L77:
 2303              		.loc 1 217 75 discriminator 3 view .LVU408
 2304 015e 434A     		ldr	r2, .L88
 2305 0160 A723     		movs	r3, #167
 2306 0162 DB00     		lsls	r3, r3, #3
 2307 0164 D356     		ldrsb	r3, [r2, r3]
 2308              		.loc 1 217 67 discriminator 3 view .LVU409
 2309 0166 012B     		cmp	r3, #1
 2310 0168 44D0     		beq	.L87
 2311              	.L79:
 218:Src/PID.c     ****     {
 219:Src/PID.c     ****         State.PID_352_LOCK = 0;
 220:Src/PID.c     ****         SERIAL_WRITE_RED("[PID_PHASE_352] UNLOCKED!!!\n");
 221:Src/PID.c     ****     }
 222:Src/PID.c     ****     else
 223:Src/PID.c     ****     {
 224:Src/PID.c     ****         State.PID_352_LOCK = 0;
 2312              		.loc 1 224 9 is_stmt 1 view .LVU410
 2313              		.loc 1 224 28 is_stmt 0 view .LVU411
 2314 016a 404A     		ldr	r2, .L88
 2315 016c A723     		movs	r3, #167
 2316 016e DB00     		lsls	r3, r3, #3
 2317 0170 0021     		movs	r1, #0
 2318 0172 D154     		strb	r1, [r2, r3]
 2319              	.L68:
 225:Src/PID.c     ****     }
 226:Src/PID.c     **** }
 2320              		.loc 1 226 1 view .LVU412
 2321 0174 1BB0     		add	sp, sp, #108
 2322              		@ sp needed
 2323              	.LVL186:
 2324              		.loc 1 226 1 view .LVU413
 2325 0176 3CBC     		pop	{r2, r3, r4, r5}
 2326 0178 9046     		mov	r8, r2
 2327 017a 9946     		mov	r9, r3
 2328 017c A246     		mov	r10, r4
 2329 017e AB46     		mov	fp, r5
 2330 0180 F0BD     		pop	{r4, r5, r6, r7, pc}
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 48


 2331              	.LVL187:
 2332              	.L86:
 214:Src/PID.c     ****         SERIAL_WRITE_GREEN("[PID_PHASE_352] LOCKED\n");
 2333              		.loc 1 214 9 is_stmt 1 view .LVU414
 214:Src/PID.c     ****         SERIAL_WRITE_GREEN("[PID_PHASE_352] LOCKED\n");
 2334              		.loc 1 214 28 is_stmt 0 view .LVU415
 2335 0182 A723     		movs	r3, #167
 2336 0184 DB00     		lsls	r3, r3, #3
 2337 0186 0131     		adds	r1, r1, #1
 2338 0188 C154     		strb	r1, [r0, r3]
 2339              	.LBB28:
 215:Src/PID.c     ****     }
 2340              		.loc 1 215 9 is_stmt 1 view .LVU416
 2341 018a 01AC     		add	r4, sp, #4
 2342 018c 6022     		movs	r2, #96
 2343 018e 0021     		movs	r1, #0
 2344 0190 02A8     		add	r0, sp, #8
 2345 0192 FFF7FEFF 		bl	memset
 2346              	.LVL188:
 215:Src/PID.c     ****     }
 2347              		.loc 1 215 9 view .LVU417
 2348 0196 3B4B     		ldr	r3, .L88+24
 2349 0198 2200     		movs	r2, r4
 2350 019a 03CB     		ldmia	r3!, {r0, r1}
 2351 019c 03C2     		stmia	r2!, {r0, r1}
 2352              	.LVL189:
 215:Src/PID.c     ****     }
 2353              		.loc 1 215 9 view .LVU418
 2354 019e FA26     		movs	r6, #250
 2355 01a0 B600     		lsls	r6, r6, #2
 2356 01a2 394D     		ldr	r5, .L88+28
 2357 01a4 3300     		movs	r3, r6
 2358 01a6 0722     		movs	r2, #7
 2359 01a8 2100     		movs	r1, r4
 2360 01aa 2800     		movs	r0, r5
 2361 01ac FFF7FEFF 		bl	HAL_UART_Transmit
 2362              	.LVL190:
 2363              	.LBE28:
 215:Src/PID.c     ****     }
 2364              		.loc 1 215 9 view .LVU419
 2365              	.LBB29:
 215:Src/PID.c     ****     }
 2366              		.loc 1 215 9 view .LVU420
 2367 01b0 6022     		movs	r2, #96
 2368 01b2 0021     		movs	r1, #0
 2369 01b4 02A8     		add	r0, sp, #8
 2370 01b6 FFF7FEFF 		bl	memset
 2371              	.LVL191:
 215:Src/PID.c     ****     }
 2372              		.loc 1 215 9 view .LVU421
 2373 01ba 344B     		ldr	r3, .L88+32
 2374 01bc 2200     		movs	r2, r4
 2375 01be 83CB     		ldmia	r3!, {r0, r1, r7}
 2376 01c0 83C2     		stmia	r2!, {r0, r1, r7}
 2377 01c2 83CB     		ldmia	r3!, {r0, r1, r7}
 2378 01c4 83C2     		stmia	r2!, {r0, r1, r7}
 2379              	.LVL192:
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 49


 215:Src/PID.c     ****     }
 2380              		.loc 1 215 9 view .LVU422
 2381 01c6 3300     		movs	r3, r6
 2382 01c8 1722     		movs	r2, #23
 2383 01ca 2100     		movs	r1, r4
 2384 01cc 2800     		movs	r0, r5
 2385 01ce FFF7FEFF 		bl	HAL_UART_Transmit
 2386              	.LVL193:
 2387              	.LBE29:
 215:Src/PID.c     ****     }
 2388              		.loc 1 215 9 view .LVU423
 2389              	.LBB30:
 215:Src/PID.c     ****     }
 2390              		.loc 1 215 9 view .LVU424
 2391 01d2 6022     		movs	r2, #96
 2392 01d4 0021     		movs	r1, #0
 2393 01d6 02A8     		add	r0, sp, #8
 2394 01d8 FFF7FEFF 		bl	memset
 2395              	.LVL194:
 215:Src/PID.c     ****     }
 2396              		.loc 1 215 9 view .LVU425
 2397 01dc 2C4B     		ldr	r3, .L88+36
 2398 01de 1A68     		ldr	r2, [r3]
 2399 01e0 0192     		str	r2, [sp, #4]
 2400 01e2 1B79     		ldrb	r3, [r3, #4]
 2401 01e4 2371     		strb	r3, [r4, #4]
 2402              	.LVL195:
 215:Src/PID.c     ****     }
 2403              		.loc 1 215 9 view .LVU426
 2404 01e6 3300     		movs	r3, r6
 2405 01e8 0422     		movs	r2, #4
 2406 01ea 2100     		movs	r1, r4
 2407 01ec 2800     		movs	r0, r5
 2408 01ee FFF7FEFF 		bl	HAL_UART_Transmit
 2409              	.LVL196:
 2410              	.LBE30:
 215:Src/PID.c     ****     }
 2411              		.loc 1 215 9 view .LVU427
 215:Src/PID.c     ****     }
 2412              		.loc 1 215 55 view .LVU428
 215:Src/PID.c     ****     }
 2413              		.loc 1 215 9 is_stmt 0 view .LVU429
 2414 01f2 BFE7     		b	.L68
 2415              	.LVL197:
 2416              	.L87:
 219:Src/PID.c     ****         SERIAL_WRITE_RED("[PID_PHASE_352] UNLOCKED!!!\n");
 2417              		.loc 1 219 9 is_stmt 1 discriminator 2 view .LVU430
 219:Src/PID.c     ****         SERIAL_WRITE_RED("[PID_PHASE_352] UNLOCKED!!!\n");
 2418              		.loc 1 219 28 is_stmt 0 discriminator 2 view .LVU431
 2419 01f4 A723     		movs	r3, #167
 2420 01f6 DB00     		lsls	r3, r3, #3
 2421 01f8 0021     		movs	r1, #0
 2422 01fa D154     		strb	r1, [r2, r3]
 2423              	.LBB31:
 220:Src/PID.c     ****     }
 2424              		.loc 1 220 9 is_stmt 1 discriminator 2 view .LVU432
 2425 01fc 01AC     		add	r4, sp, #4
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 50


 2426 01fe 6022     		movs	r2, #96
 2427 0200 02A8     		add	r0, sp, #8
 2428 0202 FFF7FEFF 		bl	memset
 2429              	.LVL198:
 220:Src/PID.c     ****     }
 2430              		.loc 1 220 9 discriminator 2 view .LVU433
 2431 0206 234B     		ldr	r3, .L88+40
 2432 0208 2200     		movs	r2, r4
 2433 020a 03CB     		ldmia	r3!, {r0, r1}
 2434 020c 03C2     		stmia	r2!, {r0, r1}
 2435              	.LVL199:
 220:Src/PID.c     ****     }
 2436              		.loc 1 220 9 discriminator 2 view .LVU434
 2437 020e FA26     		movs	r6, #250
 2438 0210 B600     		lsls	r6, r6, #2
 2439 0212 1D4D     		ldr	r5, .L88+28
 2440 0214 3300     		movs	r3, r6
 2441 0216 0722     		movs	r2, #7
 2442 0218 2100     		movs	r1, r4
 2443 021a 2800     		movs	r0, r5
 2444 021c FFF7FEFF 		bl	HAL_UART_Transmit
 2445              	.LVL200:
 2446              	.LBE31:
 220:Src/PID.c     ****     }
 2447              		.loc 1 220 9 discriminator 2 view .LVU435
 2448              	.LBB32:
 220:Src/PID.c     ****     }
 2449              		.loc 1 220 9 discriminator 2 view .LVU436
 2450 0220 6022     		movs	r2, #96
 2451 0222 0021     		movs	r1, #0
 2452 0224 02A8     		add	r0, sp, #8
 2453 0226 FFF7FEFF 		bl	memset
 2454              	.LVL201:
 220:Src/PID.c     ****     }
 2455              		.loc 1 220 9 discriminator 2 view .LVU437
 2456 022a 1B4B     		ldr	r3, .L88+44
 2457 022c 2200     		movs	r2, r4
 2458 022e 83CB     		ldmia	r3!, {r0, r1, r7}
 2459 0230 83C2     		stmia	r2!, {r0, r1, r7}
 2460 0232 83CB     		ldmia	r3!, {r0, r1, r7}
 2461 0234 83C2     		stmia	r2!, {r0, r1, r7}
 2462 0236 1968     		ldr	r1, [r3]
 2463 0238 1160     		str	r1, [r2]
 2464 023a 1B79     		ldrb	r3, [r3, #4]
 2465 023c 1371     		strb	r3, [r2, #4]
 2466              	.LVL202:
 220:Src/PID.c     ****     }
 2467              		.loc 1 220 9 discriminator 2 view .LVU438
 2468 023e 3300     		movs	r3, r6
 2469 0240 1C22     		movs	r2, #28
 2470 0242 2100     		movs	r1, r4
 2471 0244 2800     		movs	r0, r5
 2472 0246 FFF7FEFF 		bl	HAL_UART_Transmit
 2473              	.LVL203:
 2474              	.LBE32:
 220:Src/PID.c     ****     }
 2475              		.loc 1 220 9 discriminator 2 view .LVU439
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 51


 2476              	.LBB33:
 220:Src/PID.c     ****     }
 2477              		.loc 1 220 9 discriminator 2 view .LVU440
 2478 024a 6022     		movs	r2, #96
 2479 024c 0021     		movs	r1, #0
 2480 024e 02A8     		add	r0, sp, #8
 2481 0250 FFF7FEFF 		bl	memset
 2482              	.LVL204:
 220:Src/PID.c     ****     }
 2483              		.loc 1 220 9 discriminator 2 view .LVU441
 2484 0254 0E4B     		ldr	r3, .L88+36
 2485 0256 1A68     		ldr	r2, [r3]
 2486 0258 0192     		str	r2, [sp, #4]
 2487 025a 1B79     		ldrb	r3, [r3, #4]
 2488 025c 2371     		strb	r3, [r4, #4]
 2489              	.LVL205:
 220:Src/PID.c     ****     }
 2490              		.loc 1 220 9 discriminator 2 view .LVU442
 2491 025e 3300     		movs	r3, r6
 2492 0260 0422     		movs	r2, #4
 2493 0262 2100     		movs	r1, r4
 2494 0264 2800     		movs	r0, r5
 2495 0266 FFF7FEFF 		bl	HAL_UART_Transmit
 2496              	.LVL206:
 2497              	.LBE33:
 220:Src/PID.c     ****     }
 2498              		.loc 1 220 9 discriminator 2 view .LVU443
 220:Src/PID.c     ****     }
 2499              		.loc 1 220 58 discriminator 2 view .LVU444
 220:Src/PID.c     ****     }
 2500              		.loc 1 220 9 is_stmt 0 discriminator 2 view .LVU445
 2501 026a 83E7     		b	.L68
 2502              	.L89:
 2503              		.align	2
 2504              	.L88:
 2505 026c 00000000 		.word	State
 2506 0270 D4040000 		.word	1236
 2507 0274 D5040000 		.word	1237
 2508 0278 FEFF0000 		.word	65534
 2509 027c FFFF0000 		.word	65535
 2510 0280 4FC30000 		.word	49999
 2511 0284 00000000 		.word	.LC62
 2512 0288 00000000 		.word	huart2
 2513 028c 08000000 		.word	.LC65
 2514 0290 08000000 		.word	.LC44
 2515 0294 20000000 		.word	.LC68
 2516 0298 28000000 		.word	.LC70
 2517              		.cfi_endproc
 2518              	.LFE297:
 2520              		.section	.rodata.PID704.str1.4,"aMS",%progbits,1
 2521              		.align	2
 2522              	.LC81:
 2523 0000 5B504944 		.ascii	"[PID_PHASE_704] LOCKED\012\000"
 2523      5F504841 
 2523      53455F37 
 2523      30345D20 
 2523      4C4F434B 
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 52


 2524              		.align	2
 2525              	.LC85:
 2526 0018 5B504944 		.ascii	"[PID_PHASE_704] UNLOCKED!!!\012\000"
 2526      5F504841 
 2526      53455F37 
 2526      30345D20 
 2526      554E4C4F 
 2527              		.section	.text.PID704,"ax",%progbits
 2528              		.align	1
 2529              		.global	PID704
 2530              		.syntax unified
 2531              		.code	16
 2532              		.thumb_func
 2533              		.fpu softvfp
 2535              	PID704:
 2536              	.LFB298:
 227:Src/PID.c     **** void PID704()
 228:Src/PID.c     **** {
 2537              		.loc 1 228 1 is_stmt 1 view -0
 2538              		.cfi_startproc
 2539              		@ args = 0, pretend = 0, frame = 104
 2540              		@ frame_needed = 0, uses_anonymous_args = 0
 2541 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 2542              	.LCFI24:
 2543              		.cfi_def_cfa_offset 20
 2544              		.cfi_offset 4, -20
 2545              		.cfi_offset 5, -16
 2546              		.cfi_offset 6, -12
 2547              		.cfi_offset 7, -8
 2548              		.cfi_offset 14, -4
 2549 0002 DE46     		mov	lr, fp
 2550 0004 5746     		mov	r7, r10
 2551 0006 4E46     		mov	r6, r9
 2552 0008 4546     		mov	r5, r8
 2553 000a E0B5     		push	{r5, r6, r7, lr}
 2554              	.LCFI25:
 2555              		.cfi_def_cfa_offset 36
 2556              		.cfi_offset 8, -36
 2557              		.cfi_offset 9, -32
 2558              		.cfi_offset 10, -28
 2559              		.cfi_offset 11, -24
 2560 000c 9BB0     		sub	sp, sp, #108
 2561              	.LCFI26:
 2562              		.cfi_def_cfa_offset 144
 229:Src/PID.c     ****     int64_t prevErr = State.PID_704_P_error;
 2563              		.loc 1 229 5 view .LVU447
 2564              		.loc 1 229 13 is_stmt 0 view .LVU448
 2565 000e 964E     		ldr	r6, .L110
 2566 0010 AB23     		movs	r3, #171
 2567 0012 DB00     		lsls	r3, r3, #3
 2568 0014 F718     		adds	r7, r6, r3
 2569 0016 3B68     		ldr	r3, [r7]
 2570 0018 9946     		mov	r9, r3
 2571 001a 7B68     		ldr	r3, [r7, #4]
 2572 001c 9846     		mov	r8, r3
 2573              	.LVL207:
 230:Src/PID.c     **** 
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 53


 231:Src/PID.c     ****     State.PID_704_P_error = (State.PD1_Slope * Phase_u(ADC_PD1_Phase_CH)) + (State.PD2_Slope * Phas
 2574              		.loc 1 231 5 is_stmt 1 view .LVU449
 2575              		.loc 1 231 35 is_stmt 0 view .LVU450
 2576 001e 934B     		ldr	r3, .L110+4
 2577              	.LVL208:
 2578              		.loc 1 231 35 view .LVU451
 2579 0020 F456     		ldrsb	r4, [r6, r3]
 2580 0022 E517     		asrs	r5, r4, #31
 2581              		.loc 1 231 48 view .LVU452
 2582 0024 0620     		movs	r0, #6
 2583 0026 FFF7FEFF 		bl	Phase_u
 2584              	.LVL209:
 2585 002a 0200     		movs	r2, r0
 2586 002c 0B00     		movs	r3, r1
 2587              		.loc 1 231 46 view .LVU453
 2588 002e 2000     		movs	r0, r4
 2589 0030 2900     		movs	r1, r5
 2590 0032 FFF7FEFF 		bl	__aeabi_lmul
 2591              	.LVL210:
 2592 0036 0400     		movs	r4, r0
 2593 0038 0D00     		movs	r5, r1
 2594              		.loc 1 231 83 view .LVU454
 2595 003a 8D4B     		ldr	r3, .L110+8
 2596 003c F356     		ldrsb	r3, [r6, r3]
 2597 003e 9A46     		mov	r10, r3
 2598 0040 DB17     		asrs	r3, r3, #31
 2599 0042 9B46     		mov	fp, r3
 2600              		.loc 1 231 96 view .LVU455
 2601 0044 0020     		movs	r0, #0
 2602 0046 FFF7FEFF 		bl	Phase_u
 2603              	.LVL211:
 2604 004a 0200     		movs	r2, r0
 2605 004c 0B00     		movs	r3, r1
 2606              		.loc 1 231 94 view .LVU456
 2607 004e 5046     		mov	r0, r10
 2608 0050 5946     		mov	r1, fp
 2609 0052 FFF7FEFF 		bl	__aeabi_lmul
 2610              	.LVL212:
 2611              		.loc 1 231 75 view .LVU457
 2612 0056 2418     		adds	r4, r4, r0
 2613 0058 4D41     		adcs	r5, r5, r1
 2614              		.loc 1 231 131 view .LVU458
 2615 005a 9B23     		movs	r3, #155
 2616 005c DB00     		lsls	r3, r3, #3
 2617 005e F318     		adds	r3, r6, r3
 2618 0060 1868     		ldr	r0, [r3]
 2619 0062 5968     		ldr	r1, [r3, #4]
 2620              		.loc 1 231 149 view .LVU459
 2621 0064 FA22     		movs	r2, #250
 2622 0066 9200     		lsls	r2, r2, #2
 2623 0068 0023     		movs	r3, #0
 2624 006a FFF7FEFF 		bl	__aeabi_lmul
 2625              	.LVL213:
 2626              		.loc 1 231 123 view .LVU460
 2627 006e 241A     		subs	r4, r4, r0
 2628 0070 8D41     		sbcs	r5, r5, r1
 2629              		.loc 1 231 27 view .LVU461
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 54


 2630 0072 3C60     		str	r4, [r7]
 2631 0074 7D60     		str	r5, [r7, #4]
 232:Src/PID.c     ****     State.PID_704_I_error = (State.PID_704_I_error + State.PID_704_P_error) / State.PID_704_T;
 2632              		.loc 1 232 5 is_stmt 1 view .LVU462
 2633              		.loc 1 232 35 is_stmt 0 view .LVU463
 2634 0076 AC23     		movs	r3, #172
 2635 0078 DB00     		lsls	r3, r3, #3
 2636 007a F718     		adds	r7, r6, r3
 2637              		.loc 1 232 52 view .LVU464
 2638 007c 3868     		ldr	r0, [r7]
 2639 007e 7968     		ldr	r1, [r7, #4]
 2640 0080 0019     		adds	r0, r0, r4
 2641 0082 6941     		adcs	r1, r1, r5
 2642              		.loc 1 232 84 view .LVU465
 2643 0084 103B     		subs	r3, r3, #16
 2644 0086 F318     		adds	r3, r6, r3
 2645 0088 1A68     		ldr	r2, [r3]
 2646 008a 5B68     		ldr	r3, [r3, #4]
 2647              		.loc 1 232 77 view .LVU466
 2648 008c FFF7FEFF 		bl	__aeabi_ldivmod
 2649              	.LVL214:
 2650 0090 8246     		mov	r10, r0
 2651              		.loc 1 232 27 view .LVU467
 2652 0092 3860     		str	r0, [r7]
 2653 0094 7960     		str	r1, [r7, #4]
 233:Src/PID.c     ****     State.PID_704_Output = State.PID_704_Output + (State.PID_704_P * State.PID_704_P_error) / 1000 
 2654              		.loc 1 233 5 is_stmt 1 view .LVU468
 2655              		.loc 1 233 33 is_stmt 0 view .LVU469
 2656 0096 774F     		ldr	r7, .L110+12
 2657 0098 F359     		ldr	r3, [r6, r7]
 2658 009a 9B46     		mov	fp, r3
 2659              		.loc 1 233 57 view .LVU470
 2660 009c A823     		movs	r3, #168
 2661 009e DB00     		lsls	r3, r3, #3
 2662 00a0 F318     		adds	r3, r6, r3
 2663 00a2 1A68     		ldr	r2, [r3]
 2664 00a4 5B68     		ldr	r3, [r3, #4]
 2665              		.loc 1 233 68 view .LVU471
 2666 00a6 2000     		movs	r0, r4
 2667 00a8 2900     		movs	r1, r5
 2668 00aa FFF7FEFF 		bl	__aeabi_lmul
 2669              	.LVL215:
 2670              		.loc 1 233 93 view .LVU472
 2671 00ae FA22     		movs	r2, #250
 2672 00b0 9200     		lsls	r2, r2, #2
 2673 00b2 0023     		movs	r3, #0
 2674 00b4 FFF7FEFF 		bl	__aeabi_ldivmod
 2675              	.LVL216:
 2676              		.loc 1 233 49 view .LVU473
 2677 00b8 0300     		movs	r3, r0
 2678 00ba 5B44     		add	r3, r3, fp
 2679              		.loc 1 233 108 view .LVU474
 2680 00bc A922     		movs	r2, #169
 2681 00be D200     		lsls	r2, r2, #3
 2682 00c0 B218     		adds	r2, r6, r2
 2683 00c2 1068     		ldr	r0, [r2]
 2684              		.loc 1 233 100 view .LVU475
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 55


 2685 00c4 5246     		mov	r2, r10
 2686 00c6 5043     		muls	r0, r2
 2687 00c8 C018     		adds	r0, r0, r3
 2688              		.loc 1 233 26 view .LVU476
 2689 00ca F051     		str	r0, [r6, r7]
 234:Src/PID.c     **** 
 235:Src/PID.c     ****     if (State.PID_704_Output >= 0xffff)
 2690              		.loc 1 235 5 is_stmt 1 view .LVU477
 2691              		.loc 1 235 8 is_stmt 0 view .LVU478
 2692 00cc 6A4B     		ldr	r3, .L110+16
 2693 00ce 9842     		cmp	r0, r3
 2694 00d0 01D9     		bls	.L91
 236:Src/PID.c     ****     {
 237:Src/PID.c     ****         State.PID_704_Output = 0xffff;
 2695              		.loc 1 237 9 is_stmt 1 view .LVU479
 2696              		.loc 1 237 30 is_stmt 0 view .LVU480
 2697 00d2 6A49     		ldr	r1, .L110+20
 2698 00d4 F151     		str	r1, [r6, r7]
 2699              	.L91:
 238:Src/PID.c     ****     }
 239:Src/PID.c     ****     DAC_cmd(RF_PS_704_FINE + DAC_WRITE + State.PID_704_Output);
 2700              		.loc 1 239 5 is_stmt 1 view .LVU481
 2701              		.loc 1 239 47 is_stmt 0 view .LVU482
 2702 00d6 644C     		ldr	r4, .L110
 2703 00d8 664B     		ldr	r3, .L110+12
 2704 00da E058     		ldr	r0, [r4, r3]
 2705              		.loc 1 239 5 view .LVU483
 2706 00dc B823     		movs	r3, #184
 2707 00de 5B03     		lsls	r3, r3, #13
 2708 00e0 9C46     		mov	ip, r3
 2709 00e2 6044     		add	r0, r0, ip
 2710 00e4 FFF7FEFF 		bl	DAC_cmd
 2711              	.LVL217:
 240:Src/PID.c     **** 
 241:Src/PID.c     ****     if (State.PID_704_P_error < 50000 && prevErr < 50000 && State.PID_704_LOCK == 1)
 2712              		.loc 1 241 5 is_stmt 1 view .LVU484
 2713              		.loc 1 241 14 is_stmt 0 view .LVU485
 2714 00e8 AB23     		movs	r3, #171
 2715 00ea DB00     		lsls	r3, r3, #3
 2716 00ec 9C46     		mov	ip, r3
 2717 00ee 6444     		add	r4, r4, ip
 2718 00f0 2268     		ldr	r2, [r4]
 2719 00f2 6368     		ldr	r3, [r4, #4]
 2720              		.loc 1 241 8 view .LVU486
 2721 00f4 002B     		cmp	r3, #0
 2722 00f6 10DC     		bgt	.L92
 2723 00f8 02D1     		bne	.L103
 2724 00fa 6149     		ldr	r1, .L110+24
 2725 00fc 8A42     		cmp	r2, r1
 2726 00fe 0CD8     		bhi	.L92
 2727              	.L103:
 2728              		.loc 1 241 39 discriminator 1 view .LVU487
 2729 0100 4146     		mov	r1, r8
 2730 0102 0029     		cmp	r1, #0
 2731 0104 09DC     		bgt	.L92
 2732              	.LVL218:
 2733              		.loc 1 241 39 discriminator 1 view .LVU488
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 56


 2734 0106 02D1     		bne	.L104
 2735 0108 5D49     		ldr	r1, .L110+24
 2736              	.LVL219:
 2737              		.loc 1 241 39 discriminator 1 view .LVU489
 2738 010a 8945     		cmp	r9, r1
 2739 010c 05D8     		bhi	.L92
 2740              	.L104:
 2741              		.loc 1 241 66 discriminator 2 view .LVU490
 2742 010e 5648     		ldr	r0, .L110
 2743 0110 AD21     		movs	r1, #173
 2744 0112 C900     		lsls	r1, r1, #3
 2745 0114 4156     		ldrsb	r1, [r0, r1]
 2746              		.loc 1 241 58 discriminator 2 view .LVU491
 2747 0116 0129     		cmp	r1, #1
 2748 0118 2AD0     		beq	.L90
 2749              	.L92:
 242:Src/PID.c     ****     {
 243:Src/PID.c     ****         return;
 244:Src/PID.c     ****     }
 245:Src/PID.c     ****     else if (State.PID_704_P_error < 50000 && prevErr < 50000 && State.PID_704_LOCK == 0)
 2750              		.loc 1 245 10 is_stmt 1 view .LVU492
 2751              		.loc 1 245 13 is_stmt 0 view .LVU493
 2752 011a 002B     		cmp	r3, #0
 2753 011c 10DC     		bgt	.L96
 2754 011e 02D1     		bne	.L105
 2755 0120 5749     		ldr	r1, .L110+24
 2756 0122 8A42     		cmp	r2, r1
 2757 0124 0CD8     		bhi	.L96
 2758              	.L105:
 2759              		.loc 1 245 44 discriminator 1 view .LVU494
 2760 0126 4146     		mov	r1, r8
 2761 0128 0029     		cmp	r1, #0
 2762 012a 09DC     		bgt	.L96
 2763              	.LVL220:
 2764              		.loc 1 245 44 discriminator 1 view .LVU495
 2765 012c 02D1     		bne	.L106
 2766 012e 5449     		ldr	r1, .L110+24
 2767              	.LVL221:
 2768              		.loc 1 245 44 discriminator 1 view .LVU496
 2769 0130 8945     		cmp	r9, r1
 2770 0132 05D8     		bhi	.L96
 2771              	.L106:
 2772              		.loc 1 245 71 discriminator 2 view .LVU497
 2773 0134 4C48     		ldr	r0, .L110
 2774 0136 AD21     		movs	r1, #173
 2775 0138 C900     		lsls	r1, r1, #3
 2776 013a 4156     		ldrsb	r1, [r0, r1]
 2777              		.loc 1 245 63 discriminator 2 view .LVU498
 2778 013c 0029     		cmp	r1, #0
 2779 013e 1ED0     		beq	.L108
 2780              	.L96:
 246:Src/PID.c     ****     {
 247:Src/PID.c     ****         State.PID_704_LOCK = 1;
 248:Src/PID.c     ****         SERIAL_WRITE_GREEN("[PID_PHASE_704] LOCKED\n");
 249:Src/PID.c     ****     }
 250:Src/PID.c     ****     else if ((State.PID_704_P_error >= 50000 || prevErr >= 50000) && State.PID_704_LOCK == 1)
 2781              		.loc 1 250 10 is_stmt 1 view .LVU499
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 57


 2782              		.loc 1 250 13 is_stmt 0 view .LVU500
 2783 0140 002B     		cmp	r3, #0
 2784 0142 0ADC     		bgt	.L99
 2785 0144 02D1     		bne	.L107
 2786 0146 4E4B     		ldr	r3, .L110+24
 2787 0148 9A42     		cmp	r2, r3
 2788 014a 06D8     		bhi	.L99
 2789              	.L107:
 2790              		.loc 1 250 46 discriminator 2 view .LVU501
 2791 014c 4346     		mov	r3, r8
 2792 014e 002B     		cmp	r3, #0
 2793 0150 03DC     		bgt	.L99
 2794              	.LVL222:
 2795              		.loc 1 250 46 discriminator 2 view .LVU502
 2796 0152 08D1     		bne	.L101
 2797 0154 4A4B     		ldr	r3, .L110+24
 2798              	.LVL223:
 2799              		.loc 1 250 46 discriminator 2 view .LVU503
 2800 0156 9945     		cmp	r9, r3
 2801 0158 05D9     		bls	.L101
 2802              	.L99:
 2803              		.loc 1 250 75 discriminator 3 view .LVU504
 2804 015a 434A     		ldr	r2, .L110
 2805 015c AD23     		movs	r3, #173
 2806 015e DB00     		lsls	r3, r3, #3
 2807 0160 D356     		ldrsb	r3, [r2, r3]
 2808              		.loc 1 250 67 discriminator 3 view .LVU505
 2809 0162 012B     		cmp	r3, #1
 2810 0164 44D0     		beq	.L109
 2811              	.L101:
 251:Src/PID.c     ****     {
 252:Src/PID.c     ****         State.PID_704_LOCK = 0;
 253:Src/PID.c     ****         SERIAL_WRITE_RED("[PID_PHASE_704] UNLOCKED!!!\n");
 254:Src/PID.c     ****     }
 255:Src/PID.c     ****     else
 256:Src/PID.c     ****     {
 257:Src/PID.c     ****         State.PID_704_LOCK = 0;
 2812              		.loc 1 257 9 is_stmt 1 view .LVU506
 2813              		.loc 1 257 28 is_stmt 0 view .LVU507
 2814 0166 404A     		ldr	r2, .L110
 2815 0168 AD23     		movs	r3, #173
 2816 016a DB00     		lsls	r3, r3, #3
 2817 016c 0021     		movs	r1, #0
 2818 016e D154     		strb	r1, [r2, r3]
 2819              	.L90:
 258:Src/PID.c     ****     }
 259:Src/PID.c     **** }
 2820              		.loc 1 259 1 view .LVU508
 2821 0170 1BB0     		add	sp, sp, #108
 2822              		@ sp needed
 2823              	.LVL224:
 2824              		.loc 1 259 1 view .LVU509
 2825 0172 3CBC     		pop	{r2, r3, r4, r5}
 2826 0174 9046     		mov	r8, r2
 2827 0176 9946     		mov	r9, r3
 2828 0178 A246     		mov	r10, r4
 2829 017a AB46     		mov	fp, r5
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 58


 2830 017c F0BD     		pop	{r4, r5, r6, r7, pc}
 2831              	.LVL225:
 2832              	.L108:
 247:Src/PID.c     ****         SERIAL_WRITE_GREEN("[PID_PHASE_704] LOCKED\n");
 2833              		.loc 1 247 9 is_stmt 1 view .LVU510
 247:Src/PID.c     ****         SERIAL_WRITE_GREEN("[PID_PHASE_704] LOCKED\n");
 2834              		.loc 1 247 28 is_stmt 0 view .LVU511
 2835 017e AD23     		movs	r3, #173
 2836 0180 DB00     		lsls	r3, r3, #3
 2837 0182 0131     		adds	r1, r1, #1
 2838 0184 C154     		strb	r1, [r0, r3]
 2839              	.LBB34:
 248:Src/PID.c     ****     }
 2840              		.loc 1 248 9 is_stmt 1 view .LVU512
 2841 0186 01AC     		add	r4, sp, #4
 2842 0188 6022     		movs	r2, #96
 2843 018a 0021     		movs	r1, #0
 2844 018c 02A8     		add	r0, sp, #8
 2845 018e FFF7FEFF 		bl	memset
 2846              	.LVL226:
 248:Src/PID.c     ****     }
 2847              		.loc 1 248 9 view .LVU513
 2848 0192 3C4B     		ldr	r3, .L110+28
 2849 0194 2200     		movs	r2, r4
 2850 0196 03CB     		ldmia	r3!, {r0, r1}
 2851 0198 03C2     		stmia	r2!, {r0, r1}
 2852              	.LVL227:
 248:Src/PID.c     ****     }
 2853              		.loc 1 248 9 view .LVU514
 2854 019a FA26     		movs	r6, #250
 2855 019c B600     		lsls	r6, r6, #2
 2856 019e 3A4D     		ldr	r5, .L110+32
 2857 01a0 3300     		movs	r3, r6
 2858 01a2 0722     		movs	r2, #7
 2859 01a4 2100     		movs	r1, r4
 2860 01a6 2800     		movs	r0, r5
 2861 01a8 FFF7FEFF 		bl	HAL_UART_Transmit
 2862              	.LVL228:
 2863              	.LBE34:
 248:Src/PID.c     ****     }
 2864              		.loc 1 248 9 view .LVU515
 2865              	.LBB35:
 248:Src/PID.c     ****     }
 2866              		.loc 1 248 9 view .LVU516
 2867 01ac 6022     		movs	r2, #96
 2868 01ae 0021     		movs	r1, #0
 2869 01b0 02A8     		add	r0, sp, #8
 2870 01b2 FFF7FEFF 		bl	memset
 2871              	.LVL229:
 248:Src/PID.c     ****     }
 2872              		.loc 1 248 9 view .LVU517
 2873 01b6 354B     		ldr	r3, .L110+36
 2874 01b8 2200     		movs	r2, r4
 2875 01ba 83CB     		ldmia	r3!, {r0, r1, r7}
 2876 01bc 83C2     		stmia	r2!, {r0, r1, r7}
 2877 01be 83CB     		ldmia	r3!, {r0, r1, r7}
 2878 01c0 83C2     		stmia	r2!, {r0, r1, r7}
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 59


 2879              	.LVL230:
 248:Src/PID.c     ****     }
 2880              		.loc 1 248 9 view .LVU518
 2881 01c2 3300     		movs	r3, r6
 2882 01c4 1722     		movs	r2, #23
 2883 01c6 2100     		movs	r1, r4
 2884 01c8 2800     		movs	r0, r5
 2885 01ca FFF7FEFF 		bl	HAL_UART_Transmit
 2886              	.LVL231:
 2887              	.LBE35:
 248:Src/PID.c     ****     }
 2888              		.loc 1 248 9 view .LVU519
 2889              	.LBB36:
 248:Src/PID.c     ****     }
 2890              		.loc 1 248 9 view .LVU520
 2891 01ce 6022     		movs	r2, #96
 2892 01d0 0021     		movs	r1, #0
 2893 01d2 02A8     		add	r0, sp, #8
 2894 01d4 FFF7FEFF 		bl	memset
 2895              	.LVL232:
 248:Src/PID.c     ****     }
 2896              		.loc 1 248 9 view .LVU521
 2897 01d8 2D4B     		ldr	r3, .L110+40
 2898 01da 1A68     		ldr	r2, [r3]
 2899 01dc 0192     		str	r2, [sp, #4]
 2900 01de 1B79     		ldrb	r3, [r3, #4]
 2901 01e0 2371     		strb	r3, [r4, #4]
 2902              	.LVL233:
 248:Src/PID.c     ****     }
 2903              		.loc 1 248 9 view .LVU522
 2904 01e2 3300     		movs	r3, r6
 2905 01e4 0422     		movs	r2, #4
 2906 01e6 2100     		movs	r1, r4
 2907 01e8 2800     		movs	r0, r5
 2908 01ea FFF7FEFF 		bl	HAL_UART_Transmit
 2909              	.LVL234:
 2910              	.LBE36:
 248:Src/PID.c     ****     }
 2911              		.loc 1 248 9 view .LVU523
 248:Src/PID.c     ****     }
 2912              		.loc 1 248 55 view .LVU524
 248:Src/PID.c     ****     }
 2913              		.loc 1 248 9 is_stmt 0 view .LVU525
 2914 01ee BFE7     		b	.L90
 2915              	.LVL235:
 2916              	.L109:
 252:Src/PID.c     ****         SERIAL_WRITE_RED("[PID_PHASE_704] UNLOCKED!!!\n");
 2917              		.loc 1 252 9 is_stmt 1 discriminator 2 view .LVU526
 252:Src/PID.c     ****         SERIAL_WRITE_RED("[PID_PHASE_704] UNLOCKED!!!\n");
 2918              		.loc 1 252 28 is_stmt 0 discriminator 2 view .LVU527
 2919 01f0 AD23     		movs	r3, #173
 2920 01f2 DB00     		lsls	r3, r3, #3
 2921 01f4 0021     		movs	r1, #0
 2922 01f6 D154     		strb	r1, [r2, r3]
 2923              	.LBB37:
 253:Src/PID.c     ****     }
 2924              		.loc 1 253 9 is_stmt 1 discriminator 2 view .LVU528
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 60


 2925 01f8 01AC     		add	r4, sp, #4
 2926 01fa 6022     		movs	r2, #96
 2927 01fc 02A8     		add	r0, sp, #8
 2928 01fe FFF7FEFF 		bl	memset
 2929              	.LVL236:
 253:Src/PID.c     ****     }
 2930              		.loc 1 253 9 discriminator 2 view .LVU529
 2931 0202 244B     		ldr	r3, .L110+44
 2932 0204 2200     		movs	r2, r4
 2933 0206 03CB     		ldmia	r3!, {r0, r1}
 2934 0208 03C2     		stmia	r2!, {r0, r1}
 2935              	.LVL237:
 253:Src/PID.c     ****     }
 2936              		.loc 1 253 9 discriminator 2 view .LVU530
 2937 020a FA26     		movs	r6, #250
 2938 020c B600     		lsls	r6, r6, #2
 2939 020e 1E4D     		ldr	r5, .L110+32
 2940 0210 3300     		movs	r3, r6
 2941 0212 0722     		movs	r2, #7
 2942 0214 2100     		movs	r1, r4
 2943 0216 2800     		movs	r0, r5
 2944 0218 FFF7FEFF 		bl	HAL_UART_Transmit
 2945              	.LVL238:
 2946              	.LBE37:
 253:Src/PID.c     ****     }
 2947              		.loc 1 253 9 discriminator 2 view .LVU531
 2948              	.LBB38:
 253:Src/PID.c     ****     }
 2949              		.loc 1 253 9 discriminator 2 view .LVU532
 2950 021c 6022     		movs	r2, #96
 2951 021e 0021     		movs	r1, #0
 2952 0220 02A8     		add	r0, sp, #8
 2953 0222 FFF7FEFF 		bl	memset
 2954              	.LVL239:
 253:Src/PID.c     ****     }
 2955              		.loc 1 253 9 discriminator 2 view .LVU533
 2956 0226 1C4B     		ldr	r3, .L110+48
 2957 0228 2200     		movs	r2, r4
 2958 022a 83CB     		ldmia	r3!, {r0, r1, r7}
 2959 022c 83C2     		stmia	r2!, {r0, r1, r7}
 2960 022e 83CB     		ldmia	r3!, {r0, r1, r7}
 2961 0230 83C2     		stmia	r2!, {r0, r1, r7}
 2962 0232 1968     		ldr	r1, [r3]
 2963 0234 1160     		str	r1, [r2]
 2964 0236 1B79     		ldrb	r3, [r3, #4]
 2965 0238 1371     		strb	r3, [r2, #4]
 2966              	.LVL240:
 253:Src/PID.c     ****     }
 2967              		.loc 1 253 9 discriminator 2 view .LVU534
 2968 023a 3300     		movs	r3, r6
 2969 023c 1C22     		movs	r2, #28
 2970 023e 2100     		movs	r1, r4
 2971 0240 2800     		movs	r0, r5
 2972 0242 FFF7FEFF 		bl	HAL_UART_Transmit
 2973              	.LVL241:
 2974              	.LBE38:
 253:Src/PID.c     ****     }
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 61


 2975              		.loc 1 253 9 discriminator 2 view .LVU535
 2976              	.LBB39:
 253:Src/PID.c     ****     }
 2977              		.loc 1 253 9 discriminator 2 view .LVU536
 2978 0246 6022     		movs	r2, #96
 2979 0248 0021     		movs	r1, #0
 2980 024a 02A8     		add	r0, sp, #8
 2981 024c FFF7FEFF 		bl	memset
 2982              	.LVL242:
 253:Src/PID.c     ****     }
 2983              		.loc 1 253 9 discriminator 2 view .LVU537
 2984 0250 0F4B     		ldr	r3, .L110+40
 2985 0252 1A68     		ldr	r2, [r3]
 2986 0254 0192     		str	r2, [sp, #4]
 2987 0256 1B79     		ldrb	r3, [r3, #4]
 2988 0258 2371     		strb	r3, [r4, #4]
 2989              	.LVL243:
 253:Src/PID.c     ****     }
 2990              		.loc 1 253 9 discriminator 2 view .LVU538
 2991 025a 3300     		movs	r3, r6
 2992 025c 0422     		movs	r2, #4
 2993 025e 2100     		movs	r1, r4
 2994 0260 2800     		movs	r0, r5
 2995 0262 FFF7FEFF 		bl	HAL_UART_Transmit
 2996              	.LVL244:
 2997              	.LBE39:
 253:Src/PID.c     ****     }
 2998              		.loc 1 253 9 discriminator 2 view .LVU539
 253:Src/PID.c     ****     }
 2999              		.loc 1 253 58 discriminator 2 view .LVU540
 253:Src/PID.c     ****     }
 3000              		.loc 1 253 9 is_stmt 0 discriminator 2 view .LVU541
 3001 0266 83E7     		b	.L90
 3002              	.L111:
 3003              		.align	2
 3004              	.L110:
 3005 0268 00000000 		.word	State
 3006 026c D2040000 		.word	1234
 3007 0270 D3040000 		.word	1235
 3008 0274 3C050000 		.word	1340
 3009 0278 FEFF0000 		.word	65534
 3010 027c FFFF0000 		.word	65535
 3011 0280 4FC30000 		.word	49999
 3012 0284 00000000 		.word	.LC62
 3013 0288 00000000 		.word	huart2
 3014 028c 00000000 		.word	.LC81
 3015 0290 08000000 		.word	.LC44
 3016 0294 20000000 		.word	.LC68
 3017 0298 18000000 		.word	.LC85
 3018              		.cfi_endproc
 3019              	.LFE298:
 3021              		.section	.text.POWER_PID352,"ax",%progbits
 3022              		.align	1
 3023              		.global	POWER_PID352
 3024              		.syntax unified
 3025              		.code	16
 3026              		.thumb_func
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 62


 3027              		.fpu softvfp
 3029              	POWER_PID352:
 3030              	.LFB299:
 260:Src/PID.c     **** 
 261:Src/PID.c     **** void POWER_PID352()
 262:Src/PID.c     **** {
 3031              		.loc 1 262 1 is_stmt 1 view -0
 3032              		.cfi_startproc
 3033              		@ args = 0, pretend = 0, frame = 0
 3034              		@ frame_needed = 0, uses_anonymous_args = 0
 3035 0000 70B5     		push	{r4, r5, r6, lr}
 3036              	.LCFI27:
 3037              		.cfi_def_cfa_offset 16
 3038              		.cfi_offset 4, -16
 3039              		.cfi_offset 5, -12
 3040              		.cfi_offset 6, -8
 3041              		.cfi_offset 14, -4
 263:Src/PID.c     ****     State.POWER_PID_352_P_error = (int64_t)State.ADC_ValuesFiltered[RF_POWER_AMP352] - (int64_t)Sta
 3042              		.loc 1 263 5 view .LVU543
 3043              		.loc 1 263 68 is_stmt 0 view .LVU544
 3044 0002 1A4B     		ldr	r3, .L119
 3045              		.loc 1 263 35 view .LVU545
 3046 0004 1A4A     		ldr	r2, .L119+4
 3047 0006 9858     		ldr	r0, [r3, r2]
 3048 0008 0021     		movs	r1, #0
 3049              		.loc 1 263 88 view .LVU546
 3050 000a 1A4A     		ldr	r2, .L119+8
 3051 000c 9C58     		ldr	r4, [r3, r2]
 3052 000e 0025     		movs	r5, #0
 3053              		.loc 1 263 86 view .LVU547
 3054 0010 001B     		subs	r0, r0, r4
 3055 0012 A941     		sbcs	r1, r1, r5
 3056              		.loc 1 263 33 view .LVU548
 3057 0014 2432     		adds	r2, r2, #36
 3058 0016 9A18     		adds	r2, r3, r2
 3059 0018 1060     		str	r0, [r2]
 3060 001a 5160     		str	r1, [r2, #4]
 264:Src/PID.c     ****     int64_t output = (int64_t)State.POWER_PID_352_Output + (State.POWER_PID_352_P_error / 1000);
 3061              		.loc 1 264 5 is_stmt 1 view .LVU549
 3062              		.loc 1 264 22 is_stmt 0 view .LVU550
 3063 001c 164A     		ldr	r2, .L119+12
 3064 001e 9C58     		ldr	r4, [r3, r2]
 3065 0020 0025     		movs	r5, #0
 3066              		.loc 1 264 89 view .LVU551
 3067 0022 FA22     		movs	r2, #250
 3068 0024 9200     		lsls	r2, r2, #2
 3069 0026 0023     		movs	r3, #0
 3070 0028 FFF7FEFF 		bl	__aeabi_ldivmod
 3071              	.LVL245:
 3072              		.loc 1 264 13 view .LVU552
 3073 002c 0019     		adds	r0, r0, r4
 3074 002e 6941     		adcs	r1, r1, r5
 3075              	.LVL246:
 265:Src/PID.c     ****     if (output > 0xffff)
 3076              		.loc 1 265 5 is_stmt 1 view .LVU553
 3077              		.loc 1 265 8 is_stmt 0 view .LVU554
 3078 0030 0029     		cmp	r1, #0
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 63


 3079 0032 08DC     		bgt	.L116
 3080 0034 03D1     		bne	.L118
 3081 0036 8023     		movs	r3, #128
 3082 0038 5B02     		lsls	r3, r3, #9
 3083 003a 9842     		cmp	r0, r3
 3084 003c 03D2     		bcs	.L116
 3085              	.L118:
 266:Src/PID.c     ****     {
 267:Src/PID.c     ****         output = 0xffff;
 268:Src/PID.c     ****     }
 269:Src/PID.c     ****     else if (output < 0)
 3086              		.loc 1 269 10 is_stmt 1 view .LVU555
 3087              		.loc 1 269 13 is_stmt 0 view .LVU556
 3088 003e 0029     		cmp	r1, #0
 3089 0040 02DA     		bge	.L113
 270:Src/PID.c     ****     {
 271:Src/PID.c     ****         output = 0;
 3090              		.loc 1 271 16 view .LVU557
 3091 0042 0020     		movs	r0, #0
 3092              	.LVL247:
 3093              		.loc 1 271 16 view .LVU558
 3094 0044 00E0     		b	.L113
 3095              	.LVL248:
 3096              	.L116:
 267:Src/PID.c     ****     }
 3097              		.loc 1 267 16 view .LVU559
 3098 0046 0D48     		ldr	r0, .L119+16
 3099              	.LVL249:
 3100              	.L113:
 272:Src/PID.c     ****     }
 273:Src/PID.c     ****     State.POWER_PID_352_Output = (uint32_t)output;
 3101              		.loc 1 273 5 is_stmt 1 view .LVU560
 3102              		.loc 1 273 32 is_stmt 0 view .LVU561
 3103 0048 084D     		ldr	r5, .L119
 3104 004a 0B4C     		ldr	r4, .L119+12
 3105 004c 2851     		str	r0, [r5, r4]
 274:Src/PID.c     ****     DAC_cmd(RF_ATT_352_OFFSET + DAC_WRITE + State.POWER_PID_352_Output);
 3106              		.loc 1 274 5 is_stmt 1 view .LVU562
 3107 004e 9823     		movs	r3, #152
 3108 0050 5B03     		lsls	r3, r3, #13
 3109 0052 9C46     		mov	ip, r3
 3110 0054 6044     		add	r0, r0, ip
 3111 0056 FFF7FEFF 		bl	DAC_cmd
 3112              	.LVL250:
 275:Src/PID.c     ****     DAC_cmd(RF_ATT_352_FINE + DAC_WRITE + State.POWER_PID_352_Output);
 3113              		.loc 1 275 5 view .LVU563
 3114              		.loc 1 275 48 is_stmt 0 view .LVU564
 3115 005a 2859     		ldr	r0, [r5, r4]
 3116              		.loc 1 275 5 view .LVU565
 3117 005c 9023     		movs	r3, #144
 3118 005e 5B03     		lsls	r3, r3, #13
 3119 0060 9C46     		mov	ip, r3
 3120 0062 6044     		add	r0, r0, ip
 3121 0064 FFF7FEFF 		bl	DAC_cmd
 3122              	.LVL251:
 276:Src/PID.c     **** }
 3123              		.loc 1 276 1 view .LVU566
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 64


 3124              		@ sp needed
 3125 0068 70BD     		pop	{r4, r5, r6, pc}
 3126              	.L120:
 3127 006a C046     		.align	2
 3128              	.L119:
 3129 006c 00000000 		.word	State
 3130 0070 B4040000 		.word	1204
 3131 0074 6C050000 		.word	1388
 3132 0078 74050000 		.word	1396
 3133 007c FFFF0000 		.word	65535
 3134              		.cfi_endproc
 3135              	.LFE299:
 3137              		.section	.text.POWER_PID704,"ax",%progbits
 3138              		.align	1
 3139              		.global	POWER_PID704
 3140              		.syntax unified
 3141              		.code	16
 3142              		.thumb_func
 3143              		.fpu softvfp
 3145              	POWER_PID704:
 3146              	.LFB300:
 277:Src/PID.c     **** 
 278:Src/PID.c     **** void POWER_PID704()
 279:Src/PID.c     **** {
 3147              		.loc 1 279 1 is_stmt 1 view -0
 3148              		.cfi_startproc
 3149              		@ args = 0, pretend = 0, frame = 0
 3150              		@ frame_needed = 0, uses_anonymous_args = 0
 3151 0000 70B5     		push	{r4, r5, r6, lr}
 3152              	.LCFI28:
 3153              		.cfi_def_cfa_offset 16
 3154              		.cfi_offset 4, -16
 3155              		.cfi_offset 5, -12
 3156              		.cfi_offset 6, -8
 3157              		.cfi_offset 14, -4
 280:Src/PID.c     ****     State.POWER_PID_704_P_error = (int64_t)State.ADC_ValuesFiltered[RF_POWER_AMP704] - (int64_t)Sta
 3158              		.loc 1 280 5 view .LVU568
 3159              		.loc 1 280 68 is_stmt 0 view .LVU569
 3160 0002 1A4B     		ldr	r3, .L128
 3161              		.loc 1 280 35 view .LVU570
 3162 0004 9722     		movs	r2, #151
 3163 0006 D200     		lsls	r2, r2, #3
 3164 0008 9858     		ldr	r0, [r3, r2]
 3165 000a 0021     		movs	r1, #0
 3166              		.loc 1 280 88 view .LVU571
 3167 000c B832     		adds	r2, r2, #184
 3168 000e 9C58     		ldr	r4, [r3, r2]
 3169 0010 0025     		movs	r5, #0
 3170              		.loc 1 280 86 view .LVU572
 3171 0012 001B     		subs	r0, r0, r4
 3172 0014 A941     		sbcs	r1, r1, r5
 3173              		.loc 1 280 33 view .LVU573
 3174 0016 5832     		adds	r2, r2, #88
 3175 0018 9A18     		adds	r2, r3, r2
 3176 001a 1060     		str	r0, [r2]
 3177 001c 5160     		str	r1, [r2, #4]
 281:Src/PID.c     ****     int64_t output = (int64_t)State.POWER_PID_704_Output + (State.POWER_PID_704_P_error / 1000);
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 65


 3178              		.loc 1 281 5 is_stmt 1 view .LVU574
 3179              		.loc 1 281 22 is_stmt 0 view .LVU575
 3180 001e 144A     		ldr	r2, .L128+4
 3181 0020 9C58     		ldr	r4, [r3, r2]
 3182 0022 0025     		movs	r5, #0
 3183              		.loc 1 281 89 view .LVU576
 3184 0024 FA22     		movs	r2, #250
 3185 0026 9200     		lsls	r2, r2, #2
 3186 0028 0023     		movs	r3, #0
 3187 002a FFF7FEFF 		bl	__aeabi_ldivmod
 3188              	.LVL252:
 3189              		.loc 1 281 13 view .LVU577
 3190 002e 0019     		adds	r0, r0, r4
 3191 0030 6941     		adcs	r1, r1, r5
 3192              	.LVL253:
 282:Src/PID.c     ****     if (output > 0xffff)
 3193              		.loc 1 282 5 is_stmt 1 view .LVU578
 3194              		.loc 1 282 8 is_stmt 0 view .LVU579
 3195 0032 0029     		cmp	r1, #0
 3196 0034 08DC     		bgt	.L125
 3197 0036 03D1     		bne	.L127
 3198 0038 8023     		movs	r3, #128
 3199 003a 5B02     		lsls	r3, r3, #9
 3200 003c 9842     		cmp	r0, r3
 3201 003e 03D2     		bcs	.L125
 3202              	.L127:
 283:Src/PID.c     ****     {
 284:Src/PID.c     ****         output = 0xffff;
 285:Src/PID.c     ****     }
 286:Src/PID.c     ****     else if (output < 0)
 3203              		.loc 1 286 10 is_stmt 1 view .LVU580
 3204              		.loc 1 286 13 is_stmt 0 view .LVU581
 3205 0040 0029     		cmp	r1, #0
 3206 0042 02DA     		bge	.L122
 287:Src/PID.c     ****     {
 288:Src/PID.c     ****         output = 0;
 3207              		.loc 1 288 16 view .LVU582
 3208 0044 0020     		movs	r0, #0
 3209              	.LVL254:
 3210              		.loc 1 288 16 view .LVU583
 3211 0046 00E0     		b	.L122
 3212              	.LVL255:
 3213              	.L125:
 284:Src/PID.c     ****     }
 3214              		.loc 1 284 16 view .LVU584
 3215 0048 0A48     		ldr	r0, .L128+8
 3216              	.LVL256:
 3217              	.L122:
 289:Src/PID.c     ****     }
 290:Src/PID.c     ****     State.POWER_PID_704_Output = (uint32_t)output;
 3218              		.loc 1 290 5 is_stmt 1 view .LVU585
 3219              		.loc 1 290 32 is_stmt 0 view .LVU586
 3220 004a 084D     		ldr	r5, .L128
 3221 004c 084C     		ldr	r4, .L128+4
 3222 004e 2851     		str	r0, [r5, r4]
 291:Src/PID.c     ****     DAC_cmd(RF_ATT_704_OFFSET + DAC_WRITE + State.POWER_PID_704_Output);
 3223              		.loc 1 291 5 is_stmt 1 view .LVU587
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 66


 3224 0050 8023     		movs	r3, #128
 3225 0052 5B03     		lsls	r3, r3, #13
 3226 0054 9C46     		mov	ip, r3
 3227 0056 6044     		add	r0, r0, ip
 3228 0058 FFF7FEFF 		bl	DAC_cmd
 3229              	.LVL257:
 292:Src/PID.c     ****     DAC_cmd(RF_ATT_704_FINE + DAC_WRITE + State.POWER_PID_704_Output);
 3230              		.loc 1 292 5 view .LVU588
 3231              		.loc 1 292 48 is_stmt 0 view .LVU589
 3232 005c 2859     		ldr	r0, [r5, r4]
 3233              		.loc 1 292 5 view .LVU590
 3234 005e 8823     		movs	r3, #136
 3235 0060 5B03     		lsls	r3, r3, #13
 3236 0062 9C46     		mov	ip, r3
 3237 0064 6044     		add	r0, r0, ip
 3238 0066 FFF7FEFF 		bl	DAC_cmd
 3239              	.LVL258:
 293:Src/PID.c     **** }
 3240              		.loc 1 293 1 view .LVU591
 3241              		@ sp needed
 3242 006a 70BD     		pop	{r4, r5, r6, pc}
 3243              	.L129:
 3244              		.align	2
 3245              	.L128:
 3246 006c 00000000 		.word	State
 3247 0070 A4050000 		.word	1444
 3248 0074 FFFF0000 		.word	65535
 3249              		.cfi_endproc
 3250              	.LFE300:
 3252              		.section	.text.PID,"ax",%progbits
 3253              		.align	1
 3254              		.global	PID
 3255              		.syntax unified
 3256              		.code	16
 3257              		.thumb_func
 3258              		.fpu softvfp
 3260              	PID:
 3261              	.LFB301:
 294:Src/PID.c     **** 
 295:Src/PID.c     **** void PID()
 296:Src/PID.c     **** {
 3262              		.loc 1 296 1 is_stmt 1 view -0
 3263              		.cfi_startproc
 3264              		@ args = 0, pretend = 0, frame = 0
 3265              		@ frame_needed = 0, uses_anonymous_args = 0
 3266 0000 10B5     		push	{r4, lr}
 3267              	.LCFI29:
 3268              		.cfi_def_cfa_offset 8
 3269              		.cfi_offset 4, -8
 3270              		.cfi_offset 14, -4
 297:Src/PID.c     ****     PID352();
 3271              		.loc 1 297 5 view .LVU593
 3272 0002 FFF7FEFF 		bl	PID352
 3273              	.LVL259:
 298:Src/PID.c     ****     PID704();
 3274              		.loc 1 298 5 view .LVU594
 3275 0006 FFF7FEFF 		bl	PID704
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 67


 3276              	.LVL260:
 299:Src/PID.c     ****     // POWER_PID352();
 300:Src/PID.c     ****     POWER_PID704();
 3277              		.loc 1 300 5 view .LVU595
 3278 000a FFF7FEFF 		bl	POWER_PID704
 3279              	.LVL261:
 301:Src/PID.c     **** }
 3280              		.loc 1 301 1 is_stmt 0 view .LVU596
 3281              		@ sp needed
 3282 000e 10BD     		pop	{r4, pc}
 3283              		.cfi_endproc
 3284              	.LFE301:
 3286              		.section	.rodata
 3287              		.align	3
 3288              	.LC0:
 3289 0000 00000000 		.word	0
 3290 0004 00000000 		.word	0
 3291 0008 00000000 		.word	0
 3292 000c 00000000 		.word	0
 3293 0010 00000000 		.word	0
 3294 0014 00000000 		.word	0
 3295 0018 00000000 		.word	0
 3296 001c 00000000 		.word	0
 3297 0020 021A0600 		.word	399874
 3298 0024 00000000 		.word	0
 3299 0028 00000000 		.word	0
 3300 002c 00000000 		.word	0
 3301 0030 00000000 		.word	0
 3302 0034 00000000 		.word	0
 3303 0038 00000000 		.word	0
 3304 003c 00000000 		.word	0
 3305 0040 00000000 		.word	0
 3306 0044 00000000 		.word	0
 3307 0048 C6D70600 		.word	448454
 3308 004c 00000000 		.word	0
 3309 0050 04860600 		.word	427524
 3310 0054 00000000 		.word	0
 3311 0058 00000000 		.word	0
 3312 005c 00000000 		.word	0
 3313 0060 00000000 		.word	0
 3314 0064 00000000 		.word	0
 3315 0068 00000000 		.word	0
 3316 006c 00000000 		.word	0
 3317 0070 00000000 		.word	0
 3318 0074 00000000 		.word	0
 3319 0078 DD3A0600 		.word	408285
 3320 007c 00000000 		.word	0
 3321              		.text
 3322              	.Letext0:
 3323              		.file 2 "c:\\gnu tools arm embedded\\arm-none-eabi\\include\\machine\\_default_types.h"
 3324              		.file 3 "c:\\gnu tools arm embedded\\arm-none-eabi\\include\\sys\\_stdint.h"
 3325              		.file 4 "Drivers/CMSIS/Device/ST/STM32G0xx/Include/system_stm32g0xx.h"
 3326              		.file 5 "Drivers/CMSIS/Device/ST/STM32G0xx/Include/stm32g071xx.h"
 3327              		.file 6 "Drivers/STM32G0xx_HAL_Driver/Inc/stm32g0xx_hal_def.h"
 3328              		.file 7 "Drivers/STM32G0xx_HAL_Driver/Inc/stm32g0xx_hal_dma.h"
 3329              		.file 8 "Drivers/STM32G0xx_HAL_Driver/Inc/stm32g0xx_hal_flash.h"
 3330              		.file 9 "Drivers/STM32G0xx_HAL_Driver/Inc/stm32g0xx_hal_spi.h"
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 68


 3331              		.file 10 "Drivers/STM32G0xx_HAL_Driver/Inc/stm32g0xx_hal_uart.h"
 3332              		.file 11 "Drivers/STM32G0xx_HAL_Driver/Inc/stm32g0xx_hal.h"
 3333              		.file 12 "c:\\gnu tools arm embedded\\arm-none-eabi\\include\\sys\\lock.h"
 3334              		.file 13 "c:\\gnu tools arm embedded\\arm-none-eabi\\include\\sys\\_types.h"
 3335              		.file 14 "c:\\gnu tools arm embedded\\lib\\gcc\\arm-none-eabi\\9.2.1\\include\\stddef.h"
 3336              		.file 15 "c:\\gnu tools arm embedded\\arm-none-eabi\\include\\sys\\reent.h"
 3337              		.file 16 "Inc/usart.h"
 3338              		.file 17 "Inc/state.h"
 3339              		.file 18 "Inc/spi.h"
 3340              		.file 19 "Inc/DAC.h"
 3341              		.file 20 "c:\\gnu tools arm embedded\\arm-none-eabi\\include\\stdio.h"
 3342              		.file 21 "<built-in>"
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 69


DEFINED SYMBOLS
                            *ABS*:00000000 PID.c
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:18     .text.Voltage_nV:00000000 $t
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:26     .text.Voltage_nV:00000000 Voltage_nV
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:66     .text.Voltage_nV:00000020 $d
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:73     .text.Voltage:00000000 $t
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:80     .text.Voltage:00000000 Voltage
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:119    .text.Voltage:00000020 $d
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:126    .text.Phase:00000000 $t
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:133    .text.Phase:00000000 Phase
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:168    .text.Phase:0000001c $d
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:174    .text.Phase_u:00000000 $t
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:181    .text.Phase_u:00000000 Phase_u
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:216    .text.Phase_u:0000001c $d
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:221    .text.Temperature:00000000 $t
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:228    .text.Temperature:00000000 Temperature
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:267    .text.Temperature:00000028 $d
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:273    .text.Relative_Power:00000000 $t
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:280    .text.Relative_Power:00000000 Relative_Power
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:314    .text.Relative_Power:0000001c $d
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:320    .text.RMS_Power:00000000 $t
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:327    .text.RMS_Power:00000000 RMS_Power
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:384    .text.RMS_Power:00000038 $d
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:390    .rodata.Calib352.str1.4:00000000 $d
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:406    .text.Calib352:00000000 $t
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:413    .text.Calib352:00000000 Calib352
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:928    .text.Calib352:00000288 $d
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:947    .rodata.Calib704.str1.4:00000000 $d
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:960    .text.Calib704:00000000 $t
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:967    .text.Calib704:00000000 Calib704
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:1481   .text.Calib704:00000284 $d
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:1500   .rodata.POWER_Calib352.str1.4:00000000 $d
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:1504   .text.POWER_Calib352:00000000 $t
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:1511   .text.POWER_Calib352:00000000 POWER_Calib352
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:1609   .text.POWER_Calib352:00000074 $d
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:1620   .rodata.POWER_Calib704.str1.4:00000000 $d
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:1624   .text.POWER_Calib704:00000000 $t
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:1631   .text.POWER_Calib704:00000000 POWER_Calib704
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:1730   .text.POWER_Calib704:00000078 $d
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:1740   .rodata.Calib.str1.4:00000000 $d
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:1747   .text.Calib:00000000 $t
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:1754   .text.Calib:00000000 Calib
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:1838   .text.Calib:00000060 $d
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:1845   .text.PID_Init:00000000 $t
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:1852   .text.PID_Init:00000000 PID_Init
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:2003   .text.PID_Init:000000c4 $d
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:2013   .rodata.PID352.str1.4:00000000 $d
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:2026   .text.PID352:00000000 $t
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:2033   .text.PID352:00000000 PID352
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:2505   .text.PID352:0000026c $d
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:2521   .rodata.PID704.str1.4:00000000 $d
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:2528   .text.PID704:00000000 $t
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:2535   .text.PID704:00000000 PID704
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:3005   .text.PID704:00000268 $d
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:3022   .text.POWER_PID352:00000000 $t
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:3029   .text.POWER_PID352:00000000 POWER_PID352
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:3129   .text.POWER_PID352:0000006c $d
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s 			page 70


C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:3138   .text.POWER_PID704:00000000 $t
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:3145   .text.POWER_PID704:00000000 POWER_PID704
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:3246   .text.POWER_PID704:0000006c $d
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:3253   .text.PID:00000000 $t
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:3260   .text.PID:00000000 PID
C:\Users\matil\AppData\Local\Temp\ccQWtqyJ.s:3287   .rodata:00000000 $d

UNDEFINED SYMBOLS
__aeabi_lmul
__aeabi_uldivmod
State
__aeabi_ldivmod
memcpy
memset
HAL_UART_Transmit
DAC_cmd
HAL_Delay
sprintf
huart2
